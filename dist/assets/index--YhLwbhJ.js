function qp(s,l){for(var o=0;o<l.length;o++){const c=l[o];if(typeof c!="string"&&!Array.isArray(c)){for(const u in c)if(u!=="default"&&!(u in s)){const m=Object.getOwnPropertyDescriptor(c,u);m&&Object.defineProperty(s,u,m.get?m:{enumerable:!0,get:()=>c[u]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))c(u);new MutationObserver(u=>{for(const m of u)if(m.type==="childList")for(const f of m.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&c(f)}).observe(document,{childList:!0,subtree:!0});function o(u){const m={};return u.integrity&&(m.integrity=u.integrity),u.referrerPolicy&&(m.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?m.credentials="include":u.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function c(u){if(u.ep)return;u.ep=!0;const m=o(u);fetch(u.href,m)}})();function sm(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Go={exports:{}},xs={},Wo={exports:{}},Te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ju;function Kp(){if(ju)return Te;ju=1;var s=Symbol.for("react.element"),l=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),N=Symbol.iterator;function C(w){return w===null||typeof w!="object"?null:(w=N&&w[N]||w["@@iterator"],typeof w=="function"?w:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,_={};function k(w,M,$){this.props=w,this.context=M,this.refs=_,this.updater=$||P}k.prototype.isReactComponent={},k.prototype.setState=function(w,M){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,M,"setState")},k.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function J(){}J.prototype=k.prototype;function O(w,M,$){this.props=w,this.context=M,this.refs=_,this.updater=$||P}var F=O.prototype=new J;F.constructor=O,E(F,k.prototype),F.isPureReactComponent=!0;var A=Array.isArray,X=Object.prototype.hasOwnProperty,H={current:null},we={key:!0,ref:!0,__self:!0,__source:!0};function te(w,M,$){var ee,xe={},ye=null,de=null;if(M!=null)for(ee in M.ref!==void 0&&(de=M.ref),M.key!==void 0&&(ye=""+M.key),M)X.call(M,ee)&&!we.hasOwnProperty(ee)&&(xe[ee]=M[ee]);var z=arguments.length-2;if(z===1)xe.children=$;else if(1<z){for(var x=Array(z),V=0;V<z;V++)x[V]=arguments[V+2];xe.children=x}if(w&&w.defaultProps)for(ee in z=w.defaultProps,z)xe[ee]===void 0&&(xe[ee]=z[ee]);return{$$typeof:s,type:w,key:ye,ref:de,props:xe,_owner:H.current}}function le(w,M){return{$$typeof:s,type:w.type,key:M,ref:w.ref,props:w.props,_owner:w._owner}}function se(w){return typeof w=="object"&&w!==null&&w.$$typeof===s}function W(w){var M={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function($){return M[$]})}var he=/\/+/g;function ne(w,M){return typeof w=="object"&&w!==null&&w.key!=null?W(""+w.key):M.toString(36)}function re(w,M,$,ee,xe){var ye=typeof w;(ye==="undefined"||ye==="boolean")&&(w=null);var de=!1;if(w===null)de=!0;else switch(ye){case"string":case"number":de=!0;break;case"object":switch(w.$$typeof){case s:case l:de=!0}}if(de)return de=w,xe=xe(de),w=ee===""?"."+ne(de,0):ee,A(xe)?($="",w!=null&&($=w.replace(he,"$&/")+"/"),re(xe,M,$,"",function(V){return V})):xe!=null&&(se(xe)&&(xe=le(xe,$+(!xe.key||de&&de.key===xe.key?"":(""+xe.key).replace(he,"$&/")+"/")+w)),M.push(xe)),1;if(de=0,ee=ee===""?".":ee+":",A(w))for(var z=0;z<w.length;z++){ye=w[z];var x=ee+ne(ye,z);de+=re(ye,M,$,x,xe)}else if(x=C(w),typeof x=="function")for(w=x.call(w),z=0;!(ye=w.next()).done;)ye=ye.value,x=ee+ne(ye,z++),de+=re(ye,M,$,x,xe);else if(ye==="object")throw M=String(w),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.");return de}function ve(w,M,$){if(w==null)return w;var ee=[],xe=0;return re(w,ee,"","",function(ye){return M.call($,ye,xe++)}),ee}function ke(w){if(w._status===-1){var M=w._result;M=M(),M.then(function($){(w._status===0||w._status===-1)&&(w._status=1,w._result=$)},function($){(w._status===0||w._status===-1)&&(w._status=2,w._result=$)}),w._status===-1&&(w._status=0,w._result=M)}if(w._status===1)return w._result.default;throw w._result}var Ce={current:null},Q={transition:null},ie={ReactCurrentDispatcher:Ce,ReactCurrentBatchConfig:Q,ReactCurrentOwner:H};function B(){throw Error("act(...) is not supported in production builds of React.")}return Te.Children={map:ve,forEach:function(w,M,$){ve(w,function(){M.apply(this,arguments)},$)},count:function(w){var M=0;return ve(w,function(){M++}),M},toArray:function(w){return ve(w,function(M){return M})||[]},only:function(w){if(!se(w))throw Error("React.Children.only expected to receive a single React element child.");return w}},Te.Component=k,Te.Fragment=o,Te.Profiler=u,Te.PureComponent=O,Te.StrictMode=c,Te.Suspense=g,Te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ie,Te.act=B,Te.cloneElement=function(w,M,$){if(w==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+w+".");var ee=E({},w.props),xe=w.key,ye=w.ref,de=w._owner;if(M!=null){if(M.ref!==void 0&&(ye=M.ref,de=H.current),M.key!==void 0&&(xe=""+M.key),w.type&&w.type.defaultProps)var z=w.type.defaultProps;for(x in M)X.call(M,x)&&!we.hasOwnProperty(x)&&(ee[x]=M[x]===void 0&&z!==void 0?z[x]:M[x])}var x=arguments.length-2;if(x===1)ee.children=$;else if(1<x){z=Array(x);for(var V=0;V<x;V++)z[V]=arguments[V+2];ee.children=z}return{$$typeof:s,type:w.type,key:xe,ref:ye,props:ee,_owner:de}},Te.createContext=function(w){return w={$$typeof:f,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},w.Provider={$$typeof:m,_context:w},w.Consumer=w},Te.createElement=te,Te.createFactory=function(w){var M=te.bind(null,w);return M.type=w,M},Te.createRef=function(){return{current:null}},Te.forwardRef=function(w){return{$$typeof:p,render:w}},Te.isValidElement=se,Te.lazy=function(w){return{$$typeof:b,_payload:{_status:-1,_result:w},_init:ke}},Te.memo=function(w,M){return{$$typeof:v,type:w,compare:M===void 0?null:M}},Te.startTransition=function(w){var M=Q.transition;Q.transition={};try{w()}finally{Q.transition=M}},Te.unstable_act=B,Te.useCallback=function(w,M){return Ce.current.useCallback(w,M)},Te.useContext=function(w){return Ce.current.useContext(w)},Te.useDebugValue=function(){},Te.useDeferredValue=function(w){return Ce.current.useDeferredValue(w)},Te.useEffect=function(w,M){return Ce.current.useEffect(w,M)},Te.useId=function(){return Ce.current.useId()},Te.useImperativeHandle=function(w,M,$){return Ce.current.useImperativeHandle(w,M,$)},Te.useInsertionEffect=function(w,M){return Ce.current.useInsertionEffect(w,M)},Te.useLayoutEffect=function(w,M){return Ce.current.useLayoutEffect(w,M)},Te.useMemo=function(w,M){return Ce.current.useMemo(w,M)},Te.useReducer=function(w,M,$){return Ce.current.useReducer(w,M,$)},Te.useRef=function(w){return Ce.current.useRef(w)},Te.useState=function(w){return Ce.current.useState(w)},Te.useSyncExternalStore=function(w,M,$){return Ce.current.useSyncExternalStore(w,M,$)},Te.useTransition=function(){return Ce.current.useTransition()},Te.version="18.3.1",Te}var wu;function vi(){return wu||(wu=1,Wo.exports=Kp()),Wo.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nu;function Qp(){if(Nu)return xs;Nu=1;var s=vi(),l=Symbol.for("react.element"),o=Symbol.for("react.fragment"),c=Object.prototype.hasOwnProperty,u=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,m={key:!0,ref:!0,__self:!0,__source:!0};function f(p,g,v){var b,N={},C=null,P=null;v!==void 0&&(C=""+v),g.key!==void 0&&(C=""+g.key),g.ref!==void 0&&(P=g.ref);for(b in g)c.call(g,b)&&!m.hasOwnProperty(b)&&(N[b]=g[b]);if(p&&p.defaultProps)for(b in g=p.defaultProps,g)N[b]===void 0&&(N[b]=g[b]);return{$$typeof:l,type:p,key:C,ref:P,props:N,_owner:u.current}}return xs.Fragment=o,xs.jsx=f,xs.jsxs=f,xs}var ku;function Yp(){return ku||(ku=1,Go.exports=Qp()),Go.exports}var r=Yp(),y=vi();const bi=sm(y),Xp=qp({__proto__:null,default:bi},[y]);var La={},qo={exports:{}},xt={},Ko={exports:{}},Qo={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Su;function Zp(){return Su||(Su=1,function(s){function l(Q,ie){var B=Q.length;Q.push(ie);e:for(;0<B;){var w=B-1>>>1,M=Q[w];if(0<u(M,ie))Q[w]=ie,Q[B]=M,B=w;else break e}}function o(Q){return Q.length===0?null:Q[0]}function c(Q){if(Q.length===0)return null;var ie=Q[0],B=Q.pop();if(B!==ie){Q[0]=B;e:for(var w=0,M=Q.length,$=M>>>1;w<$;){var ee=2*(w+1)-1,xe=Q[ee],ye=ee+1,de=Q[ye];if(0>u(xe,B))ye<M&&0>u(de,xe)?(Q[w]=de,Q[ye]=B,w=ye):(Q[w]=xe,Q[ee]=B,w=ee);else if(ye<M&&0>u(de,B))Q[w]=de,Q[ye]=B,w=ye;else break e}}return ie}function u(Q,ie){var B=Q.sortIndex-ie.sortIndex;return B!==0?B:Q.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var m=performance;s.unstable_now=function(){return m.now()}}else{var f=Date,p=f.now();s.unstable_now=function(){return f.now()-p}}var g=[],v=[],b=1,N=null,C=3,P=!1,E=!1,_=!1,k=typeof setTimeout=="function"?setTimeout:null,J=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function F(Q){for(var ie=o(v);ie!==null;){if(ie.callback===null)c(v);else if(ie.startTime<=Q)c(v),ie.sortIndex=ie.expirationTime,l(g,ie);else break;ie=o(v)}}function A(Q){if(_=!1,F(Q),!E)if(o(g)!==null)E=!0,ke(X);else{var ie=o(v);ie!==null&&Ce(A,ie.startTime-Q)}}function X(Q,ie){E=!1,_&&(_=!1,J(te),te=-1),P=!0;var B=C;try{for(F(ie),N=o(g);N!==null&&(!(N.expirationTime>ie)||Q&&!W());){var w=N.callback;if(typeof w=="function"){N.callback=null,C=N.priorityLevel;var M=w(N.expirationTime<=ie);ie=s.unstable_now(),typeof M=="function"?N.callback=M:N===o(g)&&c(g),F(ie)}else c(g);N=o(g)}if(N!==null)var $=!0;else{var ee=o(v);ee!==null&&Ce(A,ee.startTime-ie),$=!1}return $}finally{N=null,C=B,P=!1}}var H=!1,we=null,te=-1,le=5,se=-1;function W(){return!(s.unstable_now()-se<le)}function he(){if(we!==null){var Q=s.unstable_now();se=Q;var ie=!0;try{ie=we(!0,Q)}finally{ie?ne():(H=!1,we=null)}}else H=!1}var ne;if(typeof O=="function")ne=function(){O(he)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,ve=re.port2;re.port1.onmessage=he,ne=function(){ve.postMessage(null)}}else ne=function(){k(he,0)};function ke(Q){we=Q,H||(H=!0,ne())}function Ce(Q,ie){te=k(function(){Q(s.unstable_now())},ie)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(Q){Q.callback=null},s.unstable_continueExecution=function(){E||P||(E=!0,ke(X))},s.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):le=0<Q?Math.floor(1e3/Q):5},s.unstable_getCurrentPriorityLevel=function(){return C},s.unstable_getFirstCallbackNode=function(){return o(g)},s.unstable_next=function(Q){switch(C){case 1:case 2:case 3:var ie=3;break;default:ie=C}var B=C;C=ie;try{return Q()}finally{C=B}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(Q,ie){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var B=C;C=Q;try{return ie()}finally{C=B}},s.unstable_scheduleCallback=function(Q,ie,B){var w=s.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?w+B:w):B=w,Q){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=B+M,Q={id:b++,callback:ie,priorityLevel:Q,startTime:B,expirationTime:M,sortIndex:-1},B>w?(Q.sortIndex=B,l(v,Q),o(g)===null&&Q===o(v)&&(_?(J(te),te=-1):_=!0,Ce(A,B-w))):(Q.sortIndex=M,l(g,Q),E||P||(E=!0,ke(X))),Q},s.unstable_shouldYield=W,s.unstable_wrapCallback=function(Q){var ie=C;return function(){var B=C;C=ie;try{return Q.apply(this,arguments)}finally{C=B}}}}(Qo)),Qo}var Eu;function eh(){return Eu||(Eu=1,Ko.exports=Zp()),Ko.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cu;function th(){if(Cu)return xt;Cu=1;var s=vi(),l=eh();function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var c=new Set,u={};function m(e,t){f(e,t),f(e+"Capture",t)}function f(e,t){for(u[e]=t,e=0;e<t.length;e++)c.add(t[e])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,b={},N={};function C(e){return g.call(N,e)?!0:g.call(b,e)?!1:v.test(e)?N[e]=!0:(b[e]=!0,!1)}function P(e,t,n,a){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return a?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function E(e,t,n,a){if(t===null||typeof t>"u"||P(e,t,n,a))return!0;if(a)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function _(e,t,n,a,i,d,h){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=a,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=d,this.removeEmptyString=h}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){k[e]=new _(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];k[t]=new _(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){k[e]=new _(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){k[e]=new _(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){k[e]=new _(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){k[e]=new _(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){k[e]=new _(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){k[e]=new _(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){k[e]=new _(e,5,!1,e.toLowerCase(),null,!1,!1)});var J=/[\-:]([a-z])/g;function O(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(J,O);k[t]=new _(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(J,O);k[t]=new _(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(J,O);k[t]=new _(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){k[e]=new _(e,1,!1,e.toLowerCase(),null,!1,!1)}),k.xlinkHref=new _("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){k[e]=new _(e,1,!1,e.toLowerCase(),null,!0,!0)});function F(e,t,n,a){var i=k.hasOwnProperty(t)?k[t]:null;(i!==null?i.type!==0:a||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(E(t,n,i,a)&&(n=null),a||i===null?C(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,a=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,a?e.setAttributeNS(a,t,n):e.setAttribute(t,n))))}var A=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,X=Symbol.for("react.element"),H=Symbol.for("react.portal"),we=Symbol.for("react.fragment"),te=Symbol.for("react.strict_mode"),le=Symbol.for("react.profiler"),se=Symbol.for("react.provider"),W=Symbol.for("react.context"),he=Symbol.for("react.forward_ref"),ne=Symbol.for("react.suspense"),re=Symbol.for("react.suspense_list"),ve=Symbol.for("react.memo"),ke=Symbol.for("react.lazy"),Ce=Symbol.for("react.offscreen"),Q=Symbol.iterator;function ie(e){return e===null||typeof e!="object"?null:(e=Q&&e[Q]||e["@@iterator"],typeof e=="function"?e:null)}var B=Object.assign,w;function M(e){if(w===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);w=t&&t[1]||""}return`
`+w+e}var $=!1;function ee(e,t){if(!e||$)return"";$=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(L){var a=L}Reflect.construct(e,[],t)}else{try{t.call()}catch(L){a=L}e.call(t.prototype)}else{try{throw Error()}catch(L){a=L}e()}}catch(L){if(L&&a&&typeof L.stack=="string"){for(var i=L.stack.split(`
`),d=a.stack.split(`
`),h=i.length-1,j=d.length-1;1<=h&&0<=j&&i[h]!==d[j];)j--;for(;1<=h&&0<=j;h--,j--)if(i[h]!==d[j]){if(h!==1||j!==1)do if(h--,j--,0>j||i[h]!==d[j]){var S=`
`+i[h].replace(" at new "," at ");return e.displayName&&S.includes("<anonymous>")&&(S=S.replace("<anonymous>",e.displayName)),S}while(1<=h&&0<=j);break}}}finally{$=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?M(e):""}function xe(e){switch(e.tag){case 5:return M(e.type);case 16:return M("Lazy");case 13:return M("Suspense");case 19:return M("SuspenseList");case 0:case 2:case 15:return e=ee(e.type,!1),e;case 11:return e=ee(e.type.render,!1),e;case 1:return e=ee(e.type,!0),e;default:return""}}function ye(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case we:return"Fragment";case H:return"Portal";case le:return"Profiler";case te:return"StrictMode";case ne:return"Suspense";case re:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case W:return(e.displayName||"Context")+".Consumer";case se:return(e._context.displayName||"Context")+".Provider";case he:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ve:return t=e.displayName||null,t!==null?t:ye(e.type)||"Memo";case ke:t=e._payload,e=e._init;try{return ye(e(t))}catch{}}return null}function de(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ye(t);case 8:return t===te?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function z(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function x(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function V(e){var t=x(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,d=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(h){a=""+h,d.call(this,h)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(h){a=""+h},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ae(e){e._valueTracker||(e._valueTracker=V(e))}function D(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=x(e)?e.checked?"true":"false":e.value),e=a,e!==n?(t.setValue(e),!0):!1}function Z(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function fe(e,t){var n=t.checked;return B({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Pe(e,t){var n=t.defaultValue==null?"":t.defaultValue,a=t.checked!=null?t.checked:t.defaultChecked;n=z(t.value!=null?t.value:n),e._wrapperState={initialChecked:a,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ee(e,t){t=t.checked,t!=null&&F(e,"checked",t,!1)}function nt(e,t){Ee(e,t);var n=z(t.value),a=t.type;if(n!=null)a==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?wt(e,t.type,n):t.hasOwnProperty("defaultValue")&&wt(e,t.type,z(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function jt(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!(a!=="submit"&&a!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function wt(e,t,n){(t!=="number"||Z(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var We=Array.isArray;function De(e,t,n,a){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&a&&(e[n].defaultSelected=!0)}else{for(n=""+z(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,a&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function ur(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(o(91));return B({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Cs(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(o(92));if(We(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:z(n)}}function Pi(e,t){var n=z(t.value),a=z(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),a!=null&&(e.defaultValue=""+a)}function _i(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Di(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function rl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Di(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ts,Ii=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,a,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,a,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ts=Ts||document.createElement("div"),Ts.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ts.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function _n(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Dn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ym=["Webkit","ms","Moz","O"];Object.keys(Dn).forEach(function(e){Ym.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Dn[t]=Dn[e]})});function Li(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Dn.hasOwnProperty(e)&&Dn[e]?(""+t).trim():t+"px"}function Mi(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var a=n.indexOf("--")===0,i=Li(n,t[n],a);n==="float"&&(n="cssFloat"),a?e.setProperty(n,i):e[n]=i}}var Xm=B({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function nl(e,t){if(t){if(Xm[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(o(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(o(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(t.style!=null&&typeof t.style!="object")throw Error(o(62))}}function sl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var al=null;function ll(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ol=null,nn=null,sn=null;function Fi(e){if(e=rs(e)){if(typeof ol!="function")throw Error(o(280));var t=e.stateNode;t&&(t=Ys(t),ol(e.stateNode,e.type,t))}}function Ui(e){nn?sn?sn.push(e):sn=[e]:nn=e}function zi(){if(nn){var e=nn,t=sn;if(sn=nn=null,Fi(e),t)for(e=0;e<t.length;e++)Fi(t[e])}}function Bi(e,t){return e(t)}function $i(){}var il=!1;function Ji(e,t,n){if(il)return e(t,n);il=!0;try{return Bi(e,t,n)}finally{il=!1,(nn!==null||sn!==null)&&($i(),zi())}}function In(e,t){var n=e.stateNode;if(n===null)return null;var a=Ys(n);if(a===null)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(o(231,t,typeof n));return n}var cl=!1;if(p)try{var Ln={};Object.defineProperty(Ln,"passive",{get:function(){cl=!0}}),window.addEventListener("test",Ln,Ln),window.removeEventListener("test",Ln,Ln)}catch{cl=!1}function Zm(e,t,n,a,i,d,h,j,S){var L=Array.prototype.slice.call(arguments,3);try{t.apply(n,L)}catch(q){this.onError(q)}}var Mn=!1,As=null,Os=!1,dl=null,ef={onError:function(e){Mn=!0,As=e}};function tf(e,t,n,a,i,d,h,j,S){Mn=!1,As=null,Zm.apply(ef,arguments)}function rf(e,t,n,a,i,d,h,j,S){if(tf.apply(this,arguments),Mn){if(Mn){var L=As;Mn=!1,As=null}else throw Error(o(198));Os||(Os=!0,dl=L)}}function Mr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Vi(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Hi(e){if(Mr(e)!==e)throw Error(o(188))}function nf(e){var t=e.alternate;if(!t){if(t=Mr(e),t===null)throw Error(o(188));return t!==e?null:e}for(var n=e,a=t;;){var i=n.return;if(i===null)break;var d=i.alternate;if(d===null){if(a=i.return,a!==null){n=a;continue}break}if(i.child===d.child){for(d=i.child;d;){if(d===n)return Hi(i),e;if(d===a)return Hi(i),t;d=d.sibling}throw Error(o(188))}if(n.return!==a.return)n=i,a=d;else{for(var h=!1,j=i.child;j;){if(j===n){h=!0,n=i,a=d;break}if(j===a){h=!0,a=i,n=d;break}j=j.sibling}if(!h){for(j=d.child;j;){if(j===n){h=!0,n=d,a=i;break}if(j===a){h=!0,a=d,n=i;break}j=j.sibling}if(!h)throw Error(o(189))}}if(n.alternate!==a)throw Error(o(190))}if(n.tag!==3)throw Error(o(188));return n.stateNode.current===n?e:t}function Gi(e){return e=nf(e),e!==null?Wi(e):null}function Wi(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Wi(e);if(t!==null)return t;e=e.sibling}return null}var qi=l.unstable_scheduleCallback,Ki=l.unstable_cancelCallback,sf=l.unstable_shouldYield,af=l.unstable_requestPaint,Ve=l.unstable_now,lf=l.unstable_getCurrentPriorityLevel,ul=l.unstable_ImmediatePriority,Qi=l.unstable_UserBlockingPriority,Rs=l.unstable_NormalPriority,of=l.unstable_LowPriority,Yi=l.unstable_IdlePriority,Ps=null,Vt=null;function cf(e){if(Vt&&typeof Vt.onCommitFiberRoot=="function")try{Vt.onCommitFiberRoot(Ps,e,void 0,(e.current.flags&128)===128)}catch{}}var Dt=Math.clz32?Math.clz32:mf,df=Math.log,uf=Math.LN2;function mf(e){return e>>>=0,e===0?32:31-(df(e)/uf|0)|0}var _s=64,Ds=4194304;function Fn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Is(e,t){var n=e.pendingLanes;if(n===0)return 0;var a=0,i=e.suspendedLanes,d=e.pingedLanes,h=n&268435455;if(h!==0){var j=h&~i;j!==0?a=Fn(j):(d&=h,d!==0&&(a=Fn(d)))}else h=n&~i,h!==0?a=Fn(h):d!==0&&(a=Fn(d));if(a===0)return 0;if(t!==0&&t!==a&&(t&i)===0&&(i=a&-a,d=t&-t,i>=d||i===16&&(d&4194240)!==0))return t;if((a&4)!==0&&(a|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=a;0<t;)n=31-Dt(t),i=1<<n,a|=e[n],t&=~i;return a}function ff(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pf(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,i=e.expirationTimes,d=e.pendingLanes;0<d;){var h=31-Dt(d),j=1<<h,S=i[h];S===-1?((j&n)===0||(j&a)!==0)&&(i[h]=ff(j,t)):S<=t&&(e.expiredLanes|=j),d&=~j}}function ml(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Xi(){var e=_s;return _s<<=1,(_s&4194240)===0&&(_s=64),e}function fl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Un(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Dt(t),e[t]=n}function hf(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Dt(n),d=1<<i;t[i]=0,a[i]=-1,e[i]=-1,n&=~d}}function pl(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-Dt(n),i=1<<a;i&t|e[a]&t&&(e[a]|=t),n&=~i}}var _e=0;function Zi(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var ec,hl,tc,rc,nc,gl=!1,Ls=[],mr=null,fr=null,pr=null,zn=new Map,Bn=new Map,hr=[],gf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function sc(e,t){switch(e){case"focusin":case"focusout":mr=null;break;case"dragenter":case"dragleave":fr=null;break;case"mouseover":case"mouseout":pr=null;break;case"pointerover":case"pointerout":zn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bn.delete(t.pointerId)}}function $n(e,t,n,a,i,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:d,targetContainers:[i]},t!==null&&(t=rs(t),t!==null&&hl(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function xf(e,t,n,a,i){switch(t){case"focusin":return mr=$n(mr,e,t,n,a,i),!0;case"dragenter":return fr=$n(fr,e,t,n,a,i),!0;case"mouseover":return pr=$n(pr,e,t,n,a,i),!0;case"pointerover":var d=i.pointerId;return zn.set(d,$n(zn.get(d)||null,e,t,n,a,i)),!0;case"gotpointercapture":return d=i.pointerId,Bn.set(d,$n(Bn.get(d)||null,e,t,n,a,i)),!0}return!1}function ac(e){var t=Fr(e.target);if(t!==null){var n=Mr(t);if(n!==null){if(t=n.tag,t===13){if(t=Vi(n),t!==null){e.blockedOn=t,nc(e.priority,function(){tc(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ms(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=yl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);al=a,n.target.dispatchEvent(a),al=null}else return t=rs(n),t!==null&&hl(t),e.blockedOn=n,!1;t.shift()}return!0}function lc(e,t,n){Ms(e)&&n.delete(t)}function yf(){gl=!1,mr!==null&&Ms(mr)&&(mr=null),fr!==null&&Ms(fr)&&(fr=null),pr!==null&&Ms(pr)&&(pr=null),zn.forEach(lc),Bn.forEach(lc)}function Jn(e,t){e.blockedOn===t&&(e.blockedOn=null,gl||(gl=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,yf)))}function Vn(e){function t(i){return Jn(i,e)}if(0<Ls.length){Jn(Ls[0],e);for(var n=1;n<Ls.length;n++){var a=Ls[n];a.blockedOn===e&&(a.blockedOn=null)}}for(mr!==null&&Jn(mr,e),fr!==null&&Jn(fr,e),pr!==null&&Jn(pr,e),zn.forEach(t),Bn.forEach(t),n=0;n<hr.length;n++)a=hr[n],a.blockedOn===e&&(a.blockedOn=null);for(;0<hr.length&&(n=hr[0],n.blockedOn===null);)ac(n),n.blockedOn===null&&hr.shift()}var an=A.ReactCurrentBatchConfig,Fs=!0;function vf(e,t,n,a){var i=_e,d=an.transition;an.transition=null;try{_e=1,xl(e,t,n,a)}finally{_e=i,an.transition=d}}function bf(e,t,n,a){var i=_e,d=an.transition;an.transition=null;try{_e=4,xl(e,t,n,a)}finally{_e=i,an.transition=d}}function xl(e,t,n,a){if(Fs){var i=yl(e,t,n,a);if(i===null)Il(e,t,a,Us,n),sc(e,a);else if(xf(i,e,t,n,a))a.stopPropagation();else if(sc(e,a),t&4&&-1<gf.indexOf(e)){for(;i!==null;){var d=rs(i);if(d!==null&&ec(d),d=yl(e,t,n,a),d===null&&Il(e,t,a,Us,n),d===i)break;i=d}i!==null&&a.stopPropagation()}else Il(e,t,a,null,n)}}var Us=null;function yl(e,t,n,a){if(Us=null,e=ll(a),e=Fr(e),e!==null)if(t=Mr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Vi(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Us=e,null}function oc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(lf()){case ul:return 1;case Qi:return 4;case Rs:case of:return 16;case Yi:return 536870912;default:return 16}default:return 16}}var gr=null,vl=null,zs=null;function ic(){if(zs)return zs;var e,t=vl,n=t.length,a,i="value"in gr?gr.value:gr.textContent,d=i.length;for(e=0;e<n&&t[e]===i[e];e++);var h=n-e;for(a=1;a<=h&&t[n-a]===i[d-a];a++);return zs=i.slice(e,1<a?1-a:void 0)}function Bs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function $s(){return!0}function cc(){return!1}function Nt(e){function t(n,a,i,d,h){this._reactName=n,this._targetInst=i,this.type=a,this.nativeEvent=d,this.target=h,this.currentTarget=null;for(var j in e)e.hasOwnProperty(j)&&(n=e[j],this[j]=n?n(d):d[j]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?$s:cc,this.isPropagationStopped=cc,this}return B(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=$s)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=$s)},persist:function(){},isPersistent:$s}),t}var ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bl=Nt(ln),Hn=B({},ln,{view:0,detail:0}),jf=Nt(Hn),jl,wl,Gn,Js=B({},Hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Gn&&(Gn&&e.type==="mousemove"?(jl=e.screenX-Gn.screenX,wl=e.screenY-Gn.screenY):wl=jl=0,Gn=e),jl)},movementY:function(e){return"movementY"in e?e.movementY:wl}}),dc=Nt(Js),wf=B({},Js,{dataTransfer:0}),Nf=Nt(wf),kf=B({},Hn,{relatedTarget:0}),Nl=Nt(kf),Sf=B({},ln,{animationName:0,elapsedTime:0,pseudoElement:0}),Ef=Nt(Sf),Cf=B({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Tf=Nt(Cf),Af=B({},ln,{data:0}),uc=Nt(Af),Of={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Rf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _f(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Pf[e])?!!t[e]:!1}function kl(){return _f}var Df=B({},Hn,{key:function(e){if(e.key){var t=Of[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Bs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Rf[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kl,charCode:function(e){return e.type==="keypress"?Bs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Bs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),If=Nt(Df),Lf=B({},Js,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mc=Nt(Lf),Mf=B({},Hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kl}),Ff=Nt(Mf),Uf=B({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0}),zf=Nt(Uf),Bf=B({},Js,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),$f=Nt(Bf),Jf=[9,13,27,32],Sl=p&&"CompositionEvent"in window,Wn=null;p&&"documentMode"in document&&(Wn=document.documentMode);var Vf=p&&"TextEvent"in window&&!Wn,fc=p&&(!Sl||Wn&&8<Wn&&11>=Wn),pc=" ",hc=!1;function gc(e,t){switch(e){case"keyup":return Jf.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var on=!1;function Hf(e,t){switch(e){case"compositionend":return xc(t);case"keypress":return t.which!==32?null:(hc=!0,pc);case"textInput":return e=t.data,e===pc&&hc?null:e;default:return null}}function Gf(e,t){if(on)return e==="compositionend"||!Sl&&gc(e,t)?(e=ic(),zs=vl=gr=null,on=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return fc&&t.locale!=="ko"?null:t.data;default:return null}}var Wf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Wf[e.type]:t==="textarea"}function vc(e,t,n,a){Ui(a),t=qs(t,"onChange"),0<t.length&&(n=new bl("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var qn=null,Kn=null;function qf(e){Mc(e,0)}function Vs(e){var t=fn(e);if(D(t))return e}function Kf(e,t){if(e==="change")return t}var bc=!1;if(p){var El;if(p){var Cl="oninput"in document;if(!Cl){var jc=document.createElement("div");jc.setAttribute("oninput","return;"),Cl=typeof jc.oninput=="function"}El=Cl}else El=!1;bc=El&&(!document.documentMode||9<document.documentMode)}function wc(){qn&&(qn.detachEvent("onpropertychange",Nc),Kn=qn=null)}function Nc(e){if(e.propertyName==="value"&&Vs(Kn)){var t=[];vc(t,Kn,e,ll(e)),Ji(qf,t)}}function Qf(e,t,n){e==="focusin"?(wc(),qn=t,Kn=n,qn.attachEvent("onpropertychange",Nc)):e==="focusout"&&wc()}function Yf(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Vs(Kn)}function Xf(e,t){if(e==="click")return Vs(t)}function Zf(e,t){if(e==="input"||e==="change")return Vs(t)}function ep(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var It=typeof Object.is=="function"?Object.is:ep;function Qn(e,t){if(It(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var i=n[a];if(!g.call(t,i)||!It(e[i],t[i]))return!1}return!0}function kc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Sc(e,t){var n=kc(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=kc(n)}}function Ec(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ec(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Cc(){for(var e=window,t=Z();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Z(e.document)}return t}function Tl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function tp(e){var t=Cc(),n=e.focusedElem,a=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Ec(n.ownerDocument.documentElement,n)){if(a!==null&&Tl(n)){if(t=a.start,e=a.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,d=Math.min(a.start,i);a=a.end===void 0?d:Math.min(a.end,i),!e.extend&&d>a&&(i=a,a=d,d=i),i=Sc(n,d);var h=Sc(n,a);i&&h&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==h.node||e.focusOffset!==h.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),d>a?(e.addRange(t),e.extend(h.node,h.offset)):(t.setEnd(h.node,h.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var rp=p&&"documentMode"in document&&11>=document.documentMode,cn=null,Al=null,Yn=null,Ol=!1;function Tc(e,t,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ol||cn==null||cn!==Z(a)||(a=cn,"selectionStart"in a&&Tl(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Yn&&Qn(Yn,a)||(Yn=a,a=qs(Al,"onSelect"),0<a.length&&(t=new bl("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=cn)))}function Hs(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var dn={animationend:Hs("Animation","AnimationEnd"),animationiteration:Hs("Animation","AnimationIteration"),animationstart:Hs("Animation","AnimationStart"),transitionend:Hs("Transition","TransitionEnd")},Rl={},Ac={};p&&(Ac=document.createElement("div").style,"AnimationEvent"in window||(delete dn.animationend.animation,delete dn.animationiteration.animation,delete dn.animationstart.animation),"TransitionEvent"in window||delete dn.transitionend.transition);function Gs(e){if(Rl[e])return Rl[e];if(!dn[e])return e;var t=dn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Ac)return Rl[e]=t[n];return e}var Oc=Gs("animationend"),Rc=Gs("animationiteration"),Pc=Gs("animationstart"),_c=Gs("transitionend"),Dc=new Map,Ic="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xr(e,t){Dc.set(e,t),m(t,[e])}for(var Pl=0;Pl<Ic.length;Pl++){var _l=Ic[Pl],np=_l.toLowerCase(),sp=_l[0].toUpperCase()+_l.slice(1);xr(np,"on"+sp)}xr(Oc,"onAnimationEnd"),xr(Rc,"onAnimationIteration"),xr(Pc,"onAnimationStart"),xr("dblclick","onDoubleClick"),xr("focusin","onFocus"),xr("focusout","onBlur"),xr(_c,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),m("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),m("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),m("onBeforeInput",["compositionend","keypress","textInput","paste"]),m("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),m("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),m("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ap=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xn));function Lc(e,t,n){var a=e.type||"unknown-event";e.currentTarget=n,rf(a,t,void 0,e),e.currentTarget=null}function Mc(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],i=a.event;a=a.listeners;e:{var d=void 0;if(t)for(var h=a.length-1;0<=h;h--){var j=a[h],S=j.instance,L=j.currentTarget;if(j=j.listener,S!==d&&i.isPropagationStopped())break e;Lc(i,j,L),d=S}else for(h=0;h<a.length;h++){if(j=a[h],S=j.instance,L=j.currentTarget,j=j.listener,S!==d&&i.isPropagationStopped())break e;Lc(i,j,L),d=S}}}if(Os)throw e=dl,Os=!1,dl=null,e}function Le(e,t){var n=t[Bl];n===void 0&&(n=t[Bl]=new Set);var a=e+"__bubble";n.has(a)||(Fc(t,e,2,!1),n.add(a))}function Dl(e,t,n){var a=0;t&&(a|=4),Fc(n,e,a,t)}var Ws="_reactListening"+Math.random().toString(36).slice(2);function Zn(e){if(!e[Ws]){e[Ws]=!0,c.forEach(function(n){n!=="selectionchange"&&(ap.has(n)||Dl(n,!1,e),Dl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ws]||(t[Ws]=!0,Dl("selectionchange",!1,t))}}function Fc(e,t,n,a){switch(oc(t)){case 1:var i=vf;break;case 4:i=bf;break;default:i=xl}n=i.bind(null,t,n,e),i=void 0,!cl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),a?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Il(e,t,n,a,i){var d=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var h=a.tag;if(h===3||h===4){var j=a.stateNode.containerInfo;if(j===i||j.nodeType===8&&j.parentNode===i)break;if(h===4)for(h=a.return;h!==null;){var S=h.tag;if((S===3||S===4)&&(S=h.stateNode.containerInfo,S===i||S.nodeType===8&&S.parentNode===i))return;h=h.return}for(;j!==null;){if(h=Fr(j),h===null)return;if(S=h.tag,S===5||S===6){a=d=h;continue e}j=j.parentNode}}a=a.return}Ji(function(){var L=d,q=ll(n),K=[];e:{var G=Dc.get(e);if(G!==void 0){var oe=bl,me=e;switch(e){case"keypress":if(Bs(n)===0)break e;case"keydown":case"keyup":oe=If;break;case"focusin":me="focus",oe=Nl;break;case"focusout":me="blur",oe=Nl;break;case"beforeblur":case"afterblur":oe=Nl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":oe=dc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":oe=Nf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":oe=Ff;break;case Oc:case Rc:case Pc:oe=Ef;break;case _c:oe=zf;break;case"scroll":oe=jf;break;case"wheel":oe=$f;break;case"copy":case"cut":case"paste":oe=Tf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":oe=mc}var pe=(t&4)!==0,He=!pe&&e==="scroll",R=pe?G!==null?G+"Capture":null:G;pe=[];for(var T=L,I;T!==null;){I=T;var Y=I.stateNode;if(I.tag===5&&Y!==null&&(I=Y,R!==null&&(Y=In(T,R),Y!=null&&pe.push(es(T,Y,I)))),He)break;T=T.return}0<pe.length&&(G=new oe(G,me,null,n,q),K.push({event:G,listeners:pe}))}}if((t&7)===0){e:{if(G=e==="mouseover"||e==="pointerover",oe=e==="mouseout"||e==="pointerout",G&&n!==al&&(me=n.relatedTarget||n.fromElement)&&(Fr(me)||me[Xt]))break e;if((oe||G)&&(G=q.window===q?q:(G=q.ownerDocument)?G.defaultView||G.parentWindow:window,oe?(me=n.relatedTarget||n.toElement,oe=L,me=me?Fr(me):null,me!==null&&(He=Mr(me),me!==He||me.tag!==5&&me.tag!==6)&&(me=null)):(oe=null,me=L),oe!==me)){if(pe=dc,Y="onMouseLeave",R="onMouseEnter",T="mouse",(e==="pointerout"||e==="pointerover")&&(pe=mc,Y="onPointerLeave",R="onPointerEnter",T="pointer"),He=oe==null?G:fn(oe),I=me==null?G:fn(me),G=new pe(Y,T+"leave",oe,n,q),G.target=He,G.relatedTarget=I,Y=null,Fr(q)===L&&(pe=new pe(R,T+"enter",me,n,q),pe.target=I,pe.relatedTarget=He,Y=pe),He=Y,oe&&me)t:{for(pe=oe,R=me,T=0,I=pe;I;I=un(I))T++;for(I=0,Y=R;Y;Y=un(Y))I++;for(;0<T-I;)pe=un(pe),T--;for(;0<I-T;)R=un(R),I--;for(;T--;){if(pe===R||R!==null&&pe===R.alternate)break t;pe=un(pe),R=un(R)}pe=null}else pe=null;oe!==null&&Uc(K,G,oe,pe,!1),me!==null&&He!==null&&Uc(K,He,me,pe,!0)}}e:{if(G=L?fn(L):window,oe=G.nodeName&&G.nodeName.toLowerCase(),oe==="select"||oe==="input"&&G.type==="file")var ge=Kf;else if(yc(G))if(bc)ge=Zf;else{ge=Yf;var be=Qf}else(oe=G.nodeName)&&oe.toLowerCase()==="input"&&(G.type==="checkbox"||G.type==="radio")&&(ge=Xf);if(ge&&(ge=ge(e,L))){vc(K,ge,n,q);break e}be&&be(e,G,L),e==="focusout"&&(be=G._wrapperState)&&be.controlled&&G.type==="number"&&wt(G,"number",G.value)}switch(be=L?fn(L):window,e){case"focusin":(yc(be)||be.contentEditable==="true")&&(cn=be,Al=L,Yn=null);break;case"focusout":Yn=Al=cn=null;break;case"mousedown":Ol=!0;break;case"contextmenu":case"mouseup":case"dragend":Ol=!1,Tc(K,n,q);break;case"selectionchange":if(rp)break;case"keydown":case"keyup":Tc(K,n,q)}var je;if(Sl)e:{switch(e){case"compositionstart":var Ne="onCompositionStart";break e;case"compositionend":Ne="onCompositionEnd";break e;case"compositionupdate":Ne="onCompositionUpdate";break e}Ne=void 0}else on?gc(e,n)&&(Ne="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Ne="onCompositionStart");Ne&&(fc&&n.locale!=="ko"&&(on||Ne!=="onCompositionStart"?Ne==="onCompositionEnd"&&on&&(je=ic()):(gr=q,vl="value"in gr?gr.value:gr.textContent,on=!0)),be=qs(L,Ne),0<be.length&&(Ne=new uc(Ne,e,null,n,q),K.push({event:Ne,listeners:be}),je?Ne.data=je:(je=xc(n),je!==null&&(Ne.data=je)))),(je=Vf?Hf(e,n):Gf(e,n))&&(L=qs(L,"onBeforeInput"),0<L.length&&(q=new uc("onBeforeInput","beforeinput",null,n,q),K.push({event:q,listeners:L}),q.data=je))}Mc(K,t)})}function es(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qs(e,t){for(var n=t+"Capture",a=[];e!==null;){var i=e,d=i.stateNode;i.tag===5&&d!==null&&(i=d,d=In(e,n),d!=null&&a.unshift(es(e,d,i)),d=In(e,t),d!=null&&a.push(es(e,d,i))),e=e.return}return a}function un(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Uc(e,t,n,a,i){for(var d=t._reactName,h=[];n!==null&&n!==a;){var j=n,S=j.alternate,L=j.stateNode;if(S!==null&&S===a)break;j.tag===5&&L!==null&&(j=L,i?(S=In(n,d),S!=null&&h.unshift(es(n,S,j))):i||(S=In(n,d),S!=null&&h.push(es(n,S,j)))),n=n.return}h.length!==0&&e.push({event:t,listeners:h})}var lp=/\r\n?/g,op=/\u0000|\uFFFD/g;function zc(e){return(typeof e=="string"?e:""+e).replace(lp,`
`).replace(op,"")}function Ks(e,t,n){if(t=zc(t),zc(e)!==t&&n)throw Error(o(425))}function Qs(){}var Ll=null,Ml=null;function Fl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ul=typeof setTimeout=="function"?setTimeout:void 0,ip=typeof clearTimeout=="function"?clearTimeout:void 0,Bc=typeof Promise=="function"?Promise:void 0,cp=typeof queueMicrotask=="function"?queueMicrotask:typeof Bc<"u"?function(e){return Bc.resolve(null).then(e).catch(dp)}:Ul;function dp(e){setTimeout(function(){throw e})}function zl(e,t){var n=t,a=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(a===0){e.removeChild(i),Vn(t);return}a--}else n!=="$"&&n!=="$?"&&n!=="$!"||a++;n=i}while(n);Vn(t)}function yr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function $c(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var mn=Math.random().toString(36).slice(2),Ht="__reactFiber$"+mn,ts="__reactProps$"+mn,Xt="__reactContainer$"+mn,Bl="__reactEvents$"+mn,up="__reactListeners$"+mn,mp="__reactHandles$"+mn;function Fr(e){var t=e[Ht];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Xt]||n[Ht]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=$c(e);e!==null;){if(n=e[Ht])return n;e=$c(e)}return t}e=n,n=e.parentNode}return null}function rs(e){return e=e[Ht]||e[Xt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function fn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(o(33))}function Ys(e){return e[ts]||null}var $l=[],pn=-1;function vr(e){return{current:e}}function Me(e){0>pn||(e.current=$l[pn],$l[pn]=null,pn--)}function Ie(e,t){pn++,$l[pn]=e.current,e.current=t}var br={},st=vr(br),mt=vr(!1),Ur=br;function hn(e,t){var n=e.type.contextTypes;if(!n)return br;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var i={},d;for(d in n)i[d]=t[d];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function ft(e){return e=e.childContextTypes,e!=null}function Xs(){Me(mt),Me(st)}function Jc(e,t,n){if(st.current!==br)throw Error(o(168));Ie(st,t),Ie(mt,n)}function Vc(e,t,n){var a=e.stateNode;if(t=t.childContextTypes,typeof a.getChildContext!="function")return n;a=a.getChildContext();for(var i in a)if(!(i in t))throw Error(o(108,de(e)||"Unknown",i));return B({},n,a)}function Zs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||br,Ur=st.current,Ie(st,e),Ie(mt,mt.current),!0}function Hc(e,t,n){var a=e.stateNode;if(!a)throw Error(o(169));n?(e=Vc(e,t,Ur),a.__reactInternalMemoizedMergedChildContext=e,Me(mt),Me(st),Ie(st,e)):Me(mt),Ie(mt,n)}var Zt=null,ea=!1,Jl=!1;function Gc(e){Zt===null?Zt=[e]:Zt.push(e)}function fp(e){ea=!0,Gc(e)}function jr(){if(!Jl&&Zt!==null){Jl=!0;var e=0,t=_e;try{var n=Zt;for(_e=1;e<n.length;e++){var a=n[e];do a=a(!0);while(a!==null)}Zt=null,ea=!1}catch(i){throw Zt!==null&&(Zt=Zt.slice(e+1)),qi(ul,jr),i}finally{_e=t,Jl=!1}}return null}var gn=[],xn=0,ta=null,ra=0,Ct=[],Tt=0,zr=null,er=1,tr="";function Br(e,t){gn[xn++]=ra,gn[xn++]=ta,ta=e,ra=t}function Wc(e,t,n){Ct[Tt++]=er,Ct[Tt++]=tr,Ct[Tt++]=zr,zr=e;var a=er;e=tr;var i=32-Dt(a)-1;a&=~(1<<i),n+=1;var d=32-Dt(t)+i;if(30<d){var h=i-i%5;d=(a&(1<<h)-1).toString(32),a>>=h,i-=h,er=1<<32-Dt(t)+i|n<<i|a,tr=d+e}else er=1<<d|n<<i|a,tr=e}function Vl(e){e.return!==null&&(Br(e,1),Wc(e,1,0))}function Hl(e){for(;e===ta;)ta=gn[--xn],gn[xn]=null,ra=gn[--xn],gn[xn]=null;for(;e===zr;)zr=Ct[--Tt],Ct[Tt]=null,tr=Ct[--Tt],Ct[Tt]=null,er=Ct[--Tt],Ct[Tt]=null}var kt=null,St=null,Fe=!1,Lt=null;function qc(e,t){var n=Pt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Kc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,kt=e,St=yr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,kt=e,St=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=zr!==null?{id:er,overflow:tr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Pt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,kt=e,St=null,!0):!1;default:return!1}}function Gl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Wl(e){if(Fe){var t=St;if(t){var n=t;if(!Kc(e,t)){if(Gl(e))throw Error(o(418));t=yr(n.nextSibling);var a=kt;t&&Kc(e,t)?qc(a,n):(e.flags=e.flags&-4097|2,Fe=!1,kt=e)}}else{if(Gl(e))throw Error(o(418));e.flags=e.flags&-4097|2,Fe=!1,kt=e}}}function Qc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;kt=e}function na(e){if(e!==kt)return!1;if(!Fe)return Qc(e),Fe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Fl(e.type,e.memoizedProps)),t&&(t=St)){if(Gl(e))throw Yc(),Error(o(418));for(;t;)qc(e,t),t=yr(t.nextSibling)}if(Qc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){St=yr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}St=null}}else St=kt?yr(e.stateNode.nextSibling):null;return!0}function Yc(){for(var e=St;e;)e=yr(e.nextSibling)}function yn(){St=kt=null,Fe=!1}function ql(e){Lt===null?Lt=[e]:Lt.push(e)}var pp=A.ReactCurrentBatchConfig;function ns(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(o(309));var a=n.stateNode}if(!a)throw Error(o(147,e));var i=a,d=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===d?t.ref:(t=function(h){var j=i.refs;h===null?delete j[d]:j[d]=h},t._stringRef=d,t)}if(typeof e!="string")throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function sa(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Xc(e){var t=e._init;return t(e._payload)}function Zc(e){function t(R,T){if(e){var I=R.deletions;I===null?(R.deletions=[T],R.flags|=16):I.push(T)}}function n(R,T){if(!e)return null;for(;T!==null;)t(R,T),T=T.sibling;return null}function a(R,T){for(R=new Map;T!==null;)T.key!==null?R.set(T.key,T):R.set(T.index,T),T=T.sibling;return R}function i(R,T){return R=Ar(R,T),R.index=0,R.sibling=null,R}function d(R,T,I){return R.index=I,e?(I=R.alternate,I!==null?(I=I.index,I<T?(R.flags|=2,T):I):(R.flags|=2,T)):(R.flags|=1048576,T)}function h(R){return e&&R.alternate===null&&(R.flags|=2),R}function j(R,T,I,Y){return T===null||T.tag!==6?(T=zo(I,R.mode,Y),T.return=R,T):(T=i(T,I),T.return=R,T)}function S(R,T,I,Y){var ge=I.type;return ge===we?q(R,T,I.props.children,Y,I.key):T!==null&&(T.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===ke&&Xc(ge)===T.type)?(Y=i(T,I.props),Y.ref=ns(R,T,I),Y.return=R,Y):(Y=Ta(I.type,I.key,I.props,null,R.mode,Y),Y.ref=ns(R,T,I),Y.return=R,Y)}function L(R,T,I,Y){return T===null||T.tag!==4||T.stateNode.containerInfo!==I.containerInfo||T.stateNode.implementation!==I.implementation?(T=Bo(I,R.mode,Y),T.return=R,T):(T=i(T,I.children||[]),T.return=R,T)}function q(R,T,I,Y,ge){return T===null||T.tag!==7?(T=Kr(I,R.mode,Y,ge),T.return=R,T):(T=i(T,I),T.return=R,T)}function K(R,T,I){if(typeof T=="string"&&T!==""||typeof T=="number")return T=zo(""+T,R.mode,I),T.return=R,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case X:return I=Ta(T.type,T.key,T.props,null,R.mode,I),I.ref=ns(R,null,T),I.return=R,I;case H:return T=Bo(T,R.mode,I),T.return=R,T;case ke:var Y=T._init;return K(R,Y(T._payload),I)}if(We(T)||ie(T))return T=Kr(T,R.mode,I,null),T.return=R,T;sa(R,T)}return null}function G(R,T,I,Y){var ge=T!==null?T.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return ge!==null?null:j(R,T,""+I,Y);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case X:return I.key===ge?S(R,T,I,Y):null;case H:return I.key===ge?L(R,T,I,Y):null;case ke:return ge=I._init,G(R,T,ge(I._payload),Y)}if(We(I)||ie(I))return ge!==null?null:q(R,T,I,Y,null);sa(R,I)}return null}function oe(R,T,I,Y,ge){if(typeof Y=="string"&&Y!==""||typeof Y=="number")return R=R.get(I)||null,j(T,R,""+Y,ge);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case X:return R=R.get(Y.key===null?I:Y.key)||null,S(T,R,Y,ge);case H:return R=R.get(Y.key===null?I:Y.key)||null,L(T,R,Y,ge);case ke:var be=Y._init;return oe(R,T,I,be(Y._payload),ge)}if(We(Y)||ie(Y))return R=R.get(I)||null,q(T,R,Y,ge,null);sa(T,Y)}return null}function me(R,T,I,Y){for(var ge=null,be=null,je=T,Ne=T=0,Ze=null;je!==null&&Ne<I.length;Ne++){je.index>Ne?(Ze=je,je=null):Ze=je.sibling;var Re=G(R,je,I[Ne],Y);if(Re===null){je===null&&(je=Ze);break}e&&je&&Re.alternate===null&&t(R,je),T=d(Re,T,Ne),be===null?ge=Re:be.sibling=Re,be=Re,je=Ze}if(Ne===I.length)return n(R,je),Fe&&Br(R,Ne),ge;if(je===null){for(;Ne<I.length;Ne++)je=K(R,I[Ne],Y),je!==null&&(T=d(je,T,Ne),be===null?ge=je:be.sibling=je,be=je);return Fe&&Br(R,Ne),ge}for(je=a(R,je);Ne<I.length;Ne++)Ze=oe(je,R,Ne,I[Ne],Y),Ze!==null&&(e&&Ze.alternate!==null&&je.delete(Ze.key===null?Ne:Ze.key),T=d(Ze,T,Ne),be===null?ge=Ze:be.sibling=Ze,be=Ze);return e&&je.forEach(function(Or){return t(R,Or)}),Fe&&Br(R,Ne),ge}function pe(R,T,I,Y){var ge=ie(I);if(typeof ge!="function")throw Error(o(150));if(I=ge.call(I),I==null)throw Error(o(151));for(var be=ge=null,je=T,Ne=T=0,Ze=null,Re=I.next();je!==null&&!Re.done;Ne++,Re=I.next()){je.index>Ne?(Ze=je,je=null):Ze=je.sibling;var Or=G(R,je,Re.value,Y);if(Or===null){je===null&&(je=Ze);break}e&&je&&Or.alternate===null&&t(R,je),T=d(Or,T,Ne),be===null?ge=Or:be.sibling=Or,be=Or,je=Ze}if(Re.done)return n(R,je),Fe&&Br(R,Ne),ge;if(je===null){for(;!Re.done;Ne++,Re=I.next())Re=K(R,Re.value,Y),Re!==null&&(T=d(Re,T,Ne),be===null?ge=Re:be.sibling=Re,be=Re);return Fe&&Br(R,Ne),ge}for(je=a(R,je);!Re.done;Ne++,Re=I.next())Re=oe(je,R,Ne,Re.value,Y),Re!==null&&(e&&Re.alternate!==null&&je.delete(Re.key===null?Ne:Re.key),T=d(Re,T,Ne),be===null?ge=Re:be.sibling=Re,be=Re);return e&&je.forEach(function(Wp){return t(R,Wp)}),Fe&&Br(R,Ne),ge}function He(R,T,I,Y){if(typeof I=="object"&&I!==null&&I.type===we&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case X:e:{for(var ge=I.key,be=T;be!==null;){if(be.key===ge){if(ge=I.type,ge===we){if(be.tag===7){n(R,be.sibling),T=i(be,I.props.children),T.return=R,R=T;break e}}else if(be.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===ke&&Xc(ge)===be.type){n(R,be.sibling),T=i(be,I.props),T.ref=ns(R,be,I),T.return=R,R=T;break e}n(R,be);break}else t(R,be);be=be.sibling}I.type===we?(T=Kr(I.props.children,R.mode,Y,I.key),T.return=R,R=T):(Y=Ta(I.type,I.key,I.props,null,R.mode,Y),Y.ref=ns(R,T,I),Y.return=R,R=Y)}return h(R);case H:e:{for(be=I.key;T!==null;){if(T.key===be)if(T.tag===4&&T.stateNode.containerInfo===I.containerInfo&&T.stateNode.implementation===I.implementation){n(R,T.sibling),T=i(T,I.children||[]),T.return=R,R=T;break e}else{n(R,T);break}else t(R,T);T=T.sibling}T=Bo(I,R.mode,Y),T.return=R,R=T}return h(R);case ke:return be=I._init,He(R,T,be(I._payload),Y)}if(We(I))return me(R,T,I,Y);if(ie(I))return pe(R,T,I,Y);sa(R,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,T!==null&&T.tag===6?(n(R,T.sibling),T=i(T,I),T.return=R,R=T):(n(R,T),T=zo(I,R.mode,Y),T.return=R,R=T),h(R)):n(R,T)}return He}var vn=Zc(!0),ed=Zc(!1),aa=vr(null),la=null,bn=null,Kl=null;function Ql(){Kl=bn=la=null}function Yl(e){var t=aa.current;Me(aa),e._currentValue=t}function Xl(e,t,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function jn(e,t){la=e,Kl=bn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(pt=!0),e.firstContext=null)}function At(e){var t=e._currentValue;if(Kl!==e)if(e={context:e,memoizedValue:t,next:null},bn===null){if(la===null)throw Error(o(308));bn=e,la.dependencies={lanes:0,firstContext:e}}else bn=bn.next=e;return t}var $r=null;function Zl(e){$r===null?$r=[e]:$r.push(e)}function td(e,t,n,a){var i=t.interleaved;return i===null?(n.next=n,Zl(t)):(n.next=i.next,i.next=n),t.interleaved=n,rr(e,a)}function rr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var wr=!1;function eo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function rd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function nr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Nr(e,t,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(Oe&2)!==0){var i=a.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),a.pending=t,rr(e,n)}return i=a.interleaved,i===null?(t.next=t,Zl(a)):(t.next=i.next,i.next=t),a.interleaved=t,rr(e,n)}function oa(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,pl(e,n)}}function nd(e,t){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var i=null,d=null;if(n=n.firstBaseUpdate,n!==null){do{var h={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};d===null?i=d=h:d=d.next=h,n=n.next}while(n!==null);d===null?i=d=t:d=d.next=t}else i=d=t;n={baseState:a.baseState,firstBaseUpdate:i,lastBaseUpdate:d,shared:a.shared,effects:a.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ia(e,t,n,a){var i=e.updateQueue;wr=!1;var d=i.firstBaseUpdate,h=i.lastBaseUpdate,j=i.shared.pending;if(j!==null){i.shared.pending=null;var S=j,L=S.next;S.next=null,h===null?d=L:h.next=L,h=S;var q=e.alternate;q!==null&&(q=q.updateQueue,j=q.lastBaseUpdate,j!==h&&(j===null?q.firstBaseUpdate=L:j.next=L,q.lastBaseUpdate=S))}if(d!==null){var K=i.baseState;h=0,q=L=S=null,j=d;do{var G=j.lane,oe=j.eventTime;if((a&G)===G){q!==null&&(q=q.next={eventTime:oe,lane:0,tag:j.tag,payload:j.payload,callback:j.callback,next:null});e:{var me=e,pe=j;switch(G=t,oe=n,pe.tag){case 1:if(me=pe.payload,typeof me=="function"){K=me.call(oe,K,G);break e}K=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=pe.payload,G=typeof me=="function"?me.call(oe,K,G):me,G==null)break e;K=B({},K,G);break e;case 2:wr=!0}}j.callback!==null&&j.lane!==0&&(e.flags|=64,G=i.effects,G===null?i.effects=[j]:G.push(j))}else oe={eventTime:oe,lane:G,tag:j.tag,payload:j.payload,callback:j.callback,next:null},q===null?(L=q=oe,S=K):q=q.next=oe,h|=G;if(j=j.next,j===null){if(j=i.shared.pending,j===null)break;G=j,j=G.next,G.next=null,i.lastBaseUpdate=G,i.shared.pending=null}}while(!0);if(q===null&&(S=K),i.baseState=S,i.firstBaseUpdate=L,i.lastBaseUpdate=q,t=i.shared.interleaved,t!==null){i=t;do h|=i.lane,i=i.next;while(i!==t)}else d===null&&(i.shared.lanes=0);Hr|=h,e.lanes=h,e.memoizedState=K}}function sd(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var a=e[t],i=a.callback;if(i!==null){if(a.callback=null,a=n,typeof i!="function")throw Error(o(191,i));i.call(a)}}}var ss={},Gt=vr(ss),as=vr(ss),ls=vr(ss);function Jr(e){if(e===ss)throw Error(o(174));return e}function to(e,t){switch(Ie(ls,t),Ie(as,e),Ie(Gt,ss),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:rl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=rl(t,e)}Me(Gt),Ie(Gt,t)}function wn(){Me(Gt),Me(as),Me(ls)}function ad(e){Jr(ls.current);var t=Jr(Gt.current),n=rl(t,e.type);t!==n&&(Ie(as,e),Ie(Gt,n))}function ro(e){as.current===e&&(Me(Gt),Me(as))}var Ue=vr(0);function ca(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var no=[];function so(){for(var e=0;e<no.length;e++)no[e]._workInProgressVersionPrimary=null;no.length=0}var da=A.ReactCurrentDispatcher,ao=A.ReactCurrentBatchConfig,Vr=0,ze=null,Ke=null,Ye=null,ua=!1,os=!1,is=0,hp=0;function at(){throw Error(o(321))}function lo(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!It(e[n],t[n]))return!1;return!0}function oo(e,t,n,a,i,d){if(Vr=d,ze=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,da.current=e===null||e.memoizedState===null?vp:bp,e=n(a,i),os){d=0;do{if(os=!1,is=0,25<=d)throw Error(o(301));d+=1,Ye=Ke=null,t.updateQueue=null,da.current=jp,e=n(a,i)}while(os)}if(da.current=pa,t=Ke!==null&&Ke.next!==null,Vr=0,Ye=Ke=ze=null,ua=!1,t)throw Error(o(300));return e}function io(){var e=is!==0;return is=0,e}function Wt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ye===null?ze.memoizedState=Ye=e:Ye=Ye.next=e,Ye}function Ot(){if(Ke===null){var e=ze.alternate;e=e!==null?e.memoizedState:null}else e=Ke.next;var t=Ye===null?ze.memoizedState:Ye.next;if(t!==null)Ye=t,Ke=e;else{if(e===null)throw Error(o(310));Ke=e,e={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},Ye===null?ze.memoizedState=Ye=e:Ye=Ye.next=e}return Ye}function cs(e,t){return typeof t=="function"?t(e):t}function co(e){var t=Ot(),n=t.queue;if(n===null)throw Error(o(311));n.lastRenderedReducer=e;var a=Ke,i=a.baseQueue,d=n.pending;if(d!==null){if(i!==null){var h=i.next;i.next=d.next,d.next=h}a.baseQueue=i=d,n.pending=null}if(i!==null){d=i.next,a=a.baseState;var j=h=null,S=null,L=d;do{var q=L.lane;if((Vr&q)===q)S!==null&&(S=S.next={lane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),a=L.hasEagerState?L.eagerState:e(a,L.action);else{var K={lane:q,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null};S===null?(j=S=K,h=a):S=S.next=K,ze.lanes|=q,Hr|=q}L=L.next}while(L!==null&&L!==d);S===null?h=a:S.next=j,It(a,t.memoizedState)||(pt=!0),t.memoizedState=a,t.baseState=h,t.baseQueue=S,n.lastRenderedState=a}if(e=n.interleaved,e!==null){i=e;do d=i.lane,ze.lanes|=d,Hr|=d,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function uo(e){var t=Ot(),n=t.queue;if(n===null)throw Error(o(311));n.lastRenderedReducer=e;var a=n.dispatch,i=n.pending,d=t.memoizedState;if(i!==null){n.pending=null;var h=i=i.next;do d=e(d,h.action),h=h.next;while(h!==i);It(d,t.memoizedState)||(pt=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),n.lastRenderedState=d}return[d,a]}function ld(){}function od(e,t){var n=ze,a=Ot(),i=t(),d=!It(a.memoizedState,i);if(d&&(a.memoizedState=i,pt=!0),a=a.queue,mo(dd.bind(null,n,a,e),[e]),a.getSnapshot!==t||d||Ye!==null&&Ye.memoizedState.tag&1){if(n.flags|=2048,ds(9,cd.bind(null,n,a,i,t),void 0,null),Xe===null)throw Error(o(349));(Vr&30)!==0||id(n,t,i)}return i}function id(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ze.updateQueue,t===null?(t={lastEffect:null,stores:null},ze.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function cd(e,t,n,a){t.value=n,t.getSnapshot=a,ud(t)&&md(e)}function dd(e,t,n){return n(function(){ud(t)&&md(e)})}function ud(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!It(e,n)}catch{return!0}}function md(e){var t=rr(e,1);t!==null&&zt(t,e,1,-1)}function fd(e){var t=Wt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:cs,lastRenderedState:e},t.queue=e,e=e.dispatch=yp.bind(null,ze,e),[t.memoizedState,e]}function ds(e,t,n,a){return e={tag:e,create:t,destroy:n,deps:a,next:null},t=ze.updateQueue,t===null?(t={lastEffect:null,stores:null},ze.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e)),e}function pd(){return Ot().memoizedState}function ma(e,t,n,a){var i=Wt();ze.flags|=e,i.memoizedState=ds(1|t,n,void 0,a===void 0?null:a)}function fa(e,t,n,a){var i=Ot();a=a===void 0?null:a;var d=void 0;if(Ke!==null){var h=Ke.memoizedState;if(d=h.destroy,a!==null&&lo(a,h.deps)){i.memoizedState=ds(t,n,d,a);return}}ze.flags|=e,i.memoizedState=ds(1|t,n,d,a)}function hd(e,t){return ma(8390656,8,e,t)}function mo(e,t){return fa(2048,8,e,t)}function gd(e,t){return fa(4,2,e,t)}function xd(e,t){return fa(4,4,e,t)}function yd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function vd(e,t,n){return n=n!=null?n.concat([e]):null,fa(4,4,yd.bind(null,t,e),n)}function fo(){}function bd(e,t){var n=Ot();t=t===void 0?null:t;var a=n.memoizedState;return a!==null&&t!==null&&lo(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function jd(e,t){var n=Ot();t=t===void 0?null:t;var a=n.memoizedState;return a!==null&&t!==null&&lo(t,a[1])?a[0]:(e=e(),n.memoizedState=[e,t],e)}function wd(e,t,n){return(Vr&21)===0?(e.baseState&&(e.baseState=!1,pt=!0),e.memoizedState=n):(It(n,t)||(n=Xi(),ze.lanes|=n,Hr|=n,e.baseState=!0),t)}function gp(e,t){var n=_e;_e=n!==0&&4>n?n:4,e(!0);var a=ao.transition;ao.transition={};try{e(!1),t()}finally{_e=n,ao.transition=a}}function Nd(){return Ot().memoizedState}function xp(e,t,n){var a=Cr(e);if(n={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null},kd(e))Sd(t,n);else if(n=td(e,t,n,a),n!==null){var i=dt();zt(n,e,a,i),Ed(n,t,a)}}function yp(e,t,n){var a=Cr(e),i={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null};if(kd(e))Sd(t,i);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var h=t.lastRenderedState,j=d(h,n);if(i.hasEagerState=!0,i.eagerState=j,It(j,h)){var S=t.interleaved;S===null?(i.next=i,Zl(t)):(i.next=S.next,S.next=i),t.interleaved=i;return}}catch{}finally{}n=td(e,t,i,a),n!==null&&(i=dt(),zt(n,e,a,i),Ed(n,t,a))}}function kd(e){var t=e.alternate;return e===ze||t!==null&&t===ze}function Sd(e,t){os=ua=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ed(e,t,n){if((n&4194240)!==0){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,pl(e,n)}}var pa={readContext:At,useCallback:at,useContext:at,useEffect:at,useImperativeHandle:at,useInsertionEffect:at,useLayoutEffect:at,useMemo:at,useReducer:at,useRef:at,useState:at,useDebugValue:at,useDeferredValue:at,useTransition:at,useMutableSource:at,useSyncExternalStore:at,useId:at,unstable_isNewReconciler:!1},vp={readContext:At,useCallback:function(e,t){return Wt().memoizedState=[e,t===void 0?null:t],e},useContext:At,useEffect:hd,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ma(4194308,4,yd.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ma(4194308,4,e,t)},useInsertionEffect:function(e,t){return ma(4,2,e,t)},useMemo:function(e,t){var n=Wt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var a=Wt();return t=n!==void 0?n(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=xp.bind(null,ze,e),[a.memoizedState,e]},useRef:function(e){var t=Wt();return e={current:e},t.memoizedState=e},useState:fd,useDebugValue:fo,useDeferredValue:function(e){return Wt().memoizedState=e},useTransition:function(){var e=fd(!1),t=e[0];return e=gp.bind(null,e[1]),Wt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var a=ze,i=Wt();if(Fe){if(n===void 0)throw Error(o(407));n=n()}else{if(n=t(),Xe===null)throw Error(o(349));(Vr&30)!==0||id(a,t,n)}i.memoizedState=n;var d={value:n,getSnapshot:t};return i.queue=d,hd(dd.bind(null,a,d,e),[e]),a.flags|=2048,ds(9,cd.bind(null,a,d,n,t),void 0,null),n},useId:function(){var e=Wt(),t=Xe.identifierPrefix;if(Fe){var n=tr,a=er;n=(a&~(1<<32-Dt(a)-1)).toString(32)+n,t=":"+t+"R"+n,n=is++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=hp++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},bp={readContext:At,useCallback:bd,useContext:At,useEffect:mo,useImperativeHandle:vd,useInsertionEffect:gd,useLayoutEffect:xd,useMemo:jd,useReducer:co,useRef:pd,useState:function(){return co(cs)},useDebugValue:fo,useDeferredValue:function(e){var t=Ot();return wd(t,Ke.memoizedState,e)},useTransition:function(){var e=co(cs)[0],t=Ot().memoizedState;return[e,t]},useMutableSource:ld,useSyncExternalStore:od,useId:Nd,unstable_isNewReconciler:!1},jp={readContext:At,useCallback:bd,useContext:At,useEffect:mo,useImperativeHandle:vd,useInsertionEffect:gd,useLayoutEffect:xd,useMemo:jd,useReducer:uo,useRef:pd,useState:function(){return uo(cs)},useDebugValue:fo,useDeferredValue:function(e){var t=Ot();return Ke===null?t.memoizedState=e:wd(t,Ke.memoizedState,e)},useTransition:function(){var e=uo(cs)[0],t=Ot().memoizedState;return[e,t]},useMutableSource:ld,useSyncExternalStore:od,useId:Nd,unstable_isNewReconciler:!1};function Mt(e,t){if(e&&e.defaultProps){t=B({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function po(e,t,n,a){t=e.memoizedState,n=n(a,t),n=n==null?t:B({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ha={isMounted:function(e){return(e=e._reactInternals)?Mr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var a=dt(),i=Cr(e),d=nr(a,i);d.payload=t,n!=null&&(d.callback=n),t=Nr(e,d,i),t!==null&&(zt(t,e,i,a),oa(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=dt(),i=Cr(e),d=nr(a,i);d.tag=1,d.payload=t,n!=null&&(d.callback=n),t=Nr(e,d,i),t!==null&&(zt(t,e,i,a),oa(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=dt(),a=Cr(e),i=nr(n,a);i.tag=2,t!=null&&(i.callback=t),t=Nr(e,i,a),t!==null&&(zt(t,e,a,n),oa(t,e,a))}};function Cd(e,t,n,a,i,d,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,d,h):t.prototype&&t.prototype.isPureReactComponent?!Qn(n,a)||!Qn(i,d):!0}function Td(e,t,n){var a=!1,i=br,d=t.contextType;return typeof d=="object"&&d!==null?d=At(d):(i=ft(t)?Ur:st.current,a=t.contextTypes,d=(a=a!=null)?hn(e,i):br),t=new t(n,d),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ha,e.stateNode=t,t._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=d),t}function Ad(e,t,n,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&ha.enqueueReplaceState(t,t.state,null)}function ho(e,t,n,a){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},eo(e);var d=t.contextType;typeof d=="object"&&d!==null?i.context=At(d):(d=ft(t)?Ur:st.current,i.context=hn(e,d)),i.state=e.memoizedState,d=t.getDerivedStateFromProps,typeof d=="function"&&(po(e,t,d,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&ha.enqueueReplaceState(i,i.state,null),ia(e,n,i,a),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Nn(e,t){try{var n="",a=t;do n+=xe(a),a=a.return;while(a);var i=n}catch(d){i=`
Error generating stack: `+d.message+`
`+d.stack}return{value:e,source:t,stack:i,digest:null}}function go(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function xo(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var wp=typeof WeakMap=="function"?WeakMap:Map;function Od(e,t,n){n=nr(-1,n),n.tag=3,n.payload={element:null};var a=t.value;return n.callback=function(){wa||(wa=!0,Po=a),xo(e,t)},n}function Rd(e,t,n){n=nr(-1,n),n.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var i=t.value;n.payload=function(){return a(i)},n.callback=function(){xo(e,t)}}var d=e.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(n.callback=function(){xo(e,t),typeof a!="function"&&(Sr===null?Sr=new Set([this]):Sr.add(this));var h=t.stack;this.componentDidCatch(t.value,{componentStack:h!==null?h:""})}),n}function Pd(e,t,n){var a=e.pingCache;if(a===null){a=e.pingCache=new wp;var i=new Set;a.set(t,i)}else i=a.get(t),i===void 0&&(i=new Set,a.set(t,i));i.has(n)||(i.add(n),e=Lp.bind(null,e,t,n),t.then(e,e))}function _d(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Dd(e,t,n,a,i){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=nr(-1,1),t.tag=2,Nr(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var Np=A.ReactCurrentOwner,pt=!1;function ct(e,t,n,a){t.child=e===null?ed(t,null,n,a):vn(t,e.child,n,a)}function Id(e,t,n,a,i){n=n.render;var d=t.ref;return jn(t,i),a=oo(e,t,n,a,d,i),n=io(),e!==null&&!pt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,sr(e,t,i)):(Fe&&n&&Vl(t),t.flags|=1,ct(e,t,a,i),t.child)}function Ld(e,t,n,a,i){if(e===null){var d=n.type;return typeof d=="function"&&!Uo(d)&&d.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=d,Md(e,t,d,a,i)):(e=Ta(n.type,null,a,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,(e.lanes&i)===0){var h=d.memoizedProps;if(n=n.compare,n=n!==null?n:Qn,n(h,a)&&e.ref===t.ref)return sr(e,t,i)}return t.flags|=1,e=Ar(d,a),e.ref=t.ref,e.return=t,t.child=e}function Md(e,t,n,a,i){if(e!==null){var d=e.memoizedProps;if(Qn(d,a)&&e.ref===t.ref)if(pt=!1,t.pendingProps=a=d,(e.lanes&i)!==0)(e.flags&131072)!==0&&(pt=!0);else return t.lanes=e.lanes,sr(e,t,i)}return yo(e,t,n,a,i)}function Fd(e,t,n){var a=t.pendingProps,i=a.children,d=e!==null?e.memoizedState:null;if(a.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ie(Sn,Et),Et|=n;else{if((n&1073741824)===0)return e=d!==null?d.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ie(Sn,Et),Et|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=d!==null?d.baseLanes:n,Ie(Sn,Et),Et|=a}else d!==null?(a=d.baseLanes|n,t.memoizedState=null):a=n,Ie(Sn,Et),Et|=a;return ct(e,t,i,n),t.child}function Ud(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function yo(e,t,n,a,i){var d=ft(n)?Ur:st.current;return d=hn(t,d),jn(t,i),n=oo(e,t,n,a,d,i),a=io(),e!==null&&!pt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,sr(e,t,i)):(Fe&&a&&Vl(t),t.flags|=1,ct(e,t,n,i),t.child)}function zd(e,t,n,a,i){if(ft(n)){var d=!0;Zs(t)}else d=!1;if(jn(t,i),t.stateNode===null)xa(e,t),Td(t,n,a),ho(t,n,a,i),a=!0;else if(e===null){var h=t.stateNode,j=t.memoizedProps;h.props=j;var S=h.context,L=n.contextType;typeof L=="object"&&L!==null?L=At(L):(L=ft(n)?Ur:st.current,L=hn(t,L));var q=n.getDerivedStateFromProps,K=typeof q=="function"||typeof h.getSnapshotBeforeUpdate=="function";K||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(j!==a||S!==L)&&Ad(t,h,a,L),wr=!1;var G=t.memoizedState;h.state=G,ia(t,a,h,i),S=t.memoizedState,j!==a||G!==S||mt.current||wr?(typeof q=="function"&&(po(t,n,q,a),S=t.memoizedState),(j=wr||Cd(t,n,j,a,G,S,L))?(K||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(t.flags|=4194308)):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=S),h.props=a,h.state=S,h.context=L,a=j):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{h=t.stateNode,rd(e,t),j=t.memoizedProps,L=t.type===t.elementType?j:Mt(t.type,j),h.props=L,K=t.pendingProps,G=h.context,S=n.contextType,typeof S=="object"&&S!==null?S=At(S):(S=ft(n)?Ur:st.current,S=hn(t,S));var oe=n.getDerivedStateFromProps;(q=typeof oe=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(j!==K||G!==S)&&Ad(t,h,a,S),wr=!1,G=t.memoizedState,h.state=G,ia(t,a,h,i);var me=t.memoizedState;j!==K||G!==me||mt.current||wr?(typeof oe=="function"&&(po(t,n,oe,a),me=t.memoizedState),(L=wr||Cd(t,n,L,a,G,me,S)||!1)?(q||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(a,me,S),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(a,me,S)),typeof h.componentDidUpdate=="function"&&(t.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof h.componentDidUpdate!="function"||j===e.memoizedProps&&G===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||j===e.memoizedProps&&G===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=me),h.props=a,h.state=me,h.context=S,a=L):(typeof h.componentDidUpdate!="function"||j===e.memoizedProps&&G===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||j===e.memoizedProps&&G===e.memoizedState||(t.flags|=1024),a=!1)}return vo(e,t,n,a,d,i)}function vo(e,t,n,a,i,d){Ud(e,t);var h=(t.flags&128)!==0;if(!a&&!h)return i&&Hc(t,n,!1),sr(e,t,d);a=t.stateNode,Np.current=t;var j=h&&typeof n.getDerivedStateFromError!="function"?null:a.render();return t.flags|=1,e!==null&&h?(t.child=vn(t,e.child,null,d),t.child=vn(t,null,j,d)):ct(e,t,j,d),t.memoizedState=a.state,i&&Hc(t,n,!0),t.child}function Bd(e){var t=e.stateNode;t.pendingContext?Jc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Jc(e,t.context,!1),to(e,t.containerInfo)}function $d(e,t,n,a,i){return yn(),ql(i),t.flags|=256,ct(e,t,n,a),t.child}var bo={dehydrated:null,treeContext:null,retryLane:0};function jo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Jd(e,t,n){var a=t.pendingProps,i=Ue.current,d=!1,h=(t.flags&128)!==0,j;if((j=h)||(j=e!==null&&e.memoizedState===null?!1:(i&2)!==0),j?(d=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Ie(Ue,i&1),e===null)return Wl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(h=a.children,e=a.fallback,d?(a=t.mode,d=t.child,h={mode:"hidden",children:h},(a&1)===0&&d!==null?(d.childLanes=0,d.pendingProps=h):d=Aa(h,a,0,null),e=Kr(e,a,n,null),d.return=t,e.return=t,d.sibling=e,t.child=d,t.child.memoizedState=jo(n),t.memoizedState=bo,e):wo(t,h));if(i=e.memoizedState,i!==null&&(j=i.dehydrated,j!==null))return kp(e,t,h,a,j,i,n);if(d){d=a.fallback,h=t.mode,i=e.child,j=i.sibling;var S={mode:"hidden",children:a.children};return(h&1)===0&&t.child!==i?(a=t.child,a.childLanes=0,a.pendingProps=S,t.deletions=null):(a=Ar(i,S),a.subtreeFlags=i.subtreeFlags&14680064),j!==null?d=Ar(j,d):(d=Kr(d,h,n,null),d.flags|=2),d.return=t,a.return=t,a.sibling=d,t.child=a,a=d,d=t.child,h=e.child.memoizedState,h=h===null?jo(n):{baseLanes:h.baseLanes|n,cachePool:null,transitions:h.transitions},d.memoizedState=h,d.childLanes=e.childLanes&~n,t.memoizedState=bo,a}return d=e.child,e=d.sibling,a=Ar(d,{mode:"visible",children:a.children}),(t.mode&1)===0&&(a.lanes=n),a.return=t,a.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function wo(e,t){return t=Aa({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ga(e,t,n,a){return a!==null&&ql(a),vn(t,e.child,null,n),e=wo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function kp(e,t,n,a,i,d,h){if(n)return t.flags&256?(t.flags&=-257,a=go(Error(o(422))),ga(e,t,h,a)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(d=a.fallback,i=t.mode,a=Aa({mode:"visible",children:a.children},i,0,null),d=Kr(d,i,h,null),d.flags|=2,a.return=t,d.return=t,a.sibling=d,t.child=a,(t.mode&1)!==0&&vn(t,e.child,null,h),t.child.memoizedState=jo(h),t.memoizedState=bo,d);if((t.mode&1)===0)return ga(e,t,h,null);if(i.data==="$!"){if(a=i.nextSibling&&i.nextSibling.dataset,a)var j=a.dgst;return a=j,d=Error(o(419)),a=go(d,a,void 0),ga(e,t,h,a)}if(j=(h&e.childLanes)!==0,pt||j){if(a=Xe,a!==null){switch(h&-h){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=(i&(a.suspendedLanes|h))!==0?0:i,i!==0&&i!==d.retryLane&&(d.retryLane=i,rr(e,i),zt(a,e,i,-1))}return Fo(),a=go(Error(o(421))),ga(e,t,h,a)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Mp.bind(null,e),i._reactRetry=t,null):(e=d.treeContext,St=yr(i.nextSibling),kt=t,Fe=!0,Lt=null,e!==null&&(Ct[Tt++]=er,Ct[Tt++]=tr,Ct[Tt++]=zr,er=e.id,tr=e.overflow,zr=t),t=wo(t,a.children),t.flags|=4096,t)}function Vd(e,t,n){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),Xl(e.return,t,n)}function No(e,t,n,a,i){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:i}:(d.isBackwards=t,d.rendering=null,d.renderingStartTime=0,d.last=a,d.tail=n,d.tailMode=i)}function Hd(e,t,n){var a=t.pendingProps,i=a.revealOrder,d=a.tail;if(ct(e,t,a.children,n),a=Ue.current,(a&2)!==0)a=a&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Vd(e,n,t);else if(e.tag===19)Vd(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(Ie(Ue,a),(t.mode&1)===0)t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&ca(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),No(t,!1,i,n,d);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&ca(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}No(t,!0,n,null,d);break;case"together":No(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function xa(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function sr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Hr|=t.lanes,(n&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,n=Ar(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ar(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Sp(e,t,n){switch(t.tag){case 3:Bd(t),yn();break;case 5:ad(t);break;case 1:ft(t.type)&&Zs(t);break;case 4:to(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,i=t.memoizedProps.value;Ie(aa,a._currentValue),a._currentValue=i;break;case 13:if(a=t.memoizedState,a!==null)return a.dehydrated!==null?(Ie(Ue,Ue.current&1),t.flags|=128,null):(n&t.child.childLanes)!==0?Jd(e,t,n):(Ie(Ue,Ue.current&1),e=sr(e,t,n),e!==null?e.sibling:null);Ie(Ue,Ue.current&1);break;case 19:if(a=(n&t.childLanes)!==0,(e.flags&128)!==0){if(a)return Hd(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ie(Ue,Ue.current),a)break;return null;case 22:case 23:return t.lanes=0,Fd(e,t,n)}return sr(e,t,n)}var Gd,ko,Wd,qd;Gd=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},ko=function(){},Wd=function(e,t,n,a){var i=e.memoizedProps;if(i!==a){e=t.stateNode,Jr(Gt.current);var d=null;switch(n){case"input":i=fe(e,i),a=fe(e,a),d=[];break;case"select":i=B({},i,{value:void 0}),a=B({},a,{value:void 0}),d=[];break;case"textarea":i=ur(e,i),a=ur(e,a),d=[];break;default:typeof i.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=Qs)}nl(n,a);var h;n=null;for(L in i)if(!a.hasOwnProperty(L)&&i.hasOwnProperty(L)&&i[L]!=null)if(L==="style"){var j=i[L];for(h in j)j.hasOwnProperty(h)&&(n||(n={}),n[h]="")}else L!=="dangerouslySetInnerHTML"&&L!=="children"&&L!=="suppressContentEditableWarning"&&L!=="suppressHydrationWarning"&&L!=="autoFocus"&&(u.hasOwnProperty(L)?d||(d=[]):(d=d||[]).push(L,null));for(L in a){var S=a[L];if(j=i?.[L],a.hasOwnProperty(L)&&S!==j&&(S!=null||j!=null))if(L==="style")if(j){for(h in j)!j.hasOwnProperty(h)||S&&S.hasOwnProperty(h)||(n||(n={}),n[h]="");for(h in S)S.hasOwnProperty(h)&&j[h]!==S[h]&&(n||(n={}),n[h]=S[h])}else n||(d||(d=[]),d.push(L,n)),n=S;else L==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,j=j?j.__html:void 0,S!=null&&j!==S&&(d=d||[]).push(L,S)):L==="children"?typeof S!="string"&&typeof S!="number"||(d=d||[]).push(L,""+S):L!=="suppressContentEditableWarning"&&L!=="suppressHydrationWarning"&&(u.hasOwnProperty(L)?(S!=null&&L==="onScroll"&&Le("scroll",e),d||j===S||(d=[])):(d=d||[]).push(L,S))}n&&(d=d||[]).push("style",n);var L=d;(t.updateQueue=L)&&(t.flags|=4)}},qd=function(e,t,n,a){n!==a&&(t.flags|=4)};function us(e,t){if(!Fe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function lt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,a|=i.subtreeFlags&14680064,a|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,a|=i.subtreeFlags,a|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function Ep(e,t,n){var a=t.pendingProps;switch(Hl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(t),null;case 1:return ft(t.type)&&Xs(),lt(t),null;case 3:return a=t.stateNode,wn(),Me(mt),Me(st),so(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(na(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Lt!==null&&(Io(Lt),Lt=null))),ko(e,t),lt(t),null;case 5:ro(t);var i=Jr(ls.current);if(n=t.type,e!==null&&t.stateNode!=null)Wd(e,t,n,a,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(t.stateNode===null)throw Error(o(166));return lt(t),null}if(e=Jr(Gt.current),na(t)){a=t.stateNode,n=t.type;var d=t.memoizedProps;switch(a[Ht]=t,a[ts]=d,e=(t.mode&1)!==0,n){case"dialog":Le("cancel",a),Le("close",a);break;case"iframe":case"object":case"embed":Le("load",a);break;case"video":case"audio":for(i=0;i<Xn.length;i++)Le(Xn[i],a);break;case"source":Le("error",a);break;case"img":case"image":case"link":Le("error",a),Le("load",a);break;case"details":Le("toggle",a);break;case"input":Pe(a,d),Le("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!d.multiple},Le("invalid",a);break;case"textarea":Cs(a,d),Le("invalid",a)}nl(n,d),i=null;for(var h in d)if(d.hasOwnProperty(h)){var j=d[h];h==="children"?typeof j=="string"?a.textContent!==j&&(d.suppressHydrationWarning!==!0&&Ks(a.textContent,j,e),i=["children",j]):typeof j=="number"&&a.textContent!==""+j&&(d.suppressHydrationWarning!==!0&&Ks(a.textContent,j,e),i=["children",""+j]):u.hasOwnProperty(h)&&j!=null&&h==="onScroll"&&Le("scroll",a)}switch(n){case"input":ae(a),jt(a,d,!0);break;case"textarea":ae(a),_i(a);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(a.onclick=Qs)}a=i,t.updateQueue=a,a!==null&&(t.flags|=4)}else{h=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Di(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=h.createElement(n,{is:a.is}):(e=h.createElement(n),n==="select"&&(h=e,a.multiple?h.multiple=!0:a.size&&(h.size=a.size))):e=h.createElementNS(e,n),e[Ht]=t,e[ts]=a,Gd(e,t,!1,!1),t.stateNode=e;e:{switch(h=sl(n,a),n){case"dialog":Le("cancel",e),Le("close",e),i=a;break;case"iframe":case"object":case"embed":Le("load",e),i=a;break;case"video":case"audio":for(i=0;i<Xn.length;i++)Le(Xn[i],e);i=a;break;case"source":Le("error",e),i=a;break;case"img":case"image":case"link":Le("error",e),Le("load",e),i=a;break;case"details":Le("toggle",e),i=a;break;case"input":Pe(e,a),i=fe(e,a),Le("invalid",e);break;case"option":i=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},i=B({},a,{value:void 0}),Le("invalid",e);break;case"textarea":Cs(e,a),i=ur(e,a),Le("invalid",e);break;default:i=a}nl(n,i),j=i;for(d in j)if(j.hasOwnProperty(d)){var S=j[d];d==="style"?Mi(e,S):d==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,S!=null&&Ii(e,S)):d==="children"?typeof S=="string"?(n!=="textarea"||S!=="")&&_n(e,S):typeof S=="number"&&_n(e,""+S):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(u.hasOwnProperty(d)?S!=null&&d==="onScroll"&&Le("scroll",e):S!=null&&F(e,d,S,h))}switch(n){case"input":ae(e),jt(e,a,!1);break;case"textarea":ae(e),_i(e);break;case"option":a.value!=null&&e.setAttribute("value",""+z(a.value));break;case"select":e.multiple=!!a.multiple,d=a.value,d!=null?De(e,!!a.multiple,d,!1):a.defaultValue!=null&&De(e,!!a.multiple,a.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Qs)}switch(n){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return lt(t),null;case 6:if(e&&t.stateNode!=null)qd(e,t,e.memoizedProps,a);else{if(typeof a!="string"&&t.stateNode===null)throw Error(o(166));if(n=Jr(ls.current),Jr(Gt.current),na(t)){if(a=t.stateNode,n=t.memoizedProps,a[Ht]=t,(d=a.nodeValue!==n)&&(e=kt,e!==null))switch(e.tag){case 3:Ks(a.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ks(a.nodeValue,n,(e.mode&1)!==0)}d&&(t.flags|=4)}else a=(n.nodeType===9?n:n.ownerDocument).createTextNode(a),a[Ht]=t,t.stateNode=a}return lt(t),null;case 13:if(Me(Ue),a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Fe&&St!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Yc(),yn(),t.flags|=98560,d=!1;else if(d=na(t),a!==null&&a.dehydrated!==null){if(e===null){if(!d)throw Error(o(318));if(d=t.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(o(317));d[Ht]=t}else yn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;lt(t),d=!1}else Lt!==null&&(Io(Lt),Lt=null),d=!0;if(!d)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=n,t):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Ue.current&1)!==0?Qe===0&&(Qe=3):Fo())),t.updateQueue!==null&&(t.flags|=4),lt(t),null);case 4:return wn(),ko(e,t),e===null&&Zn(t.stateNode.containerInfo),lt(t),null;case 10:return Yl(t.type._context),lt(t),null;case 17:return ft(t.type)&&Xs(),lt(t),null;case 19:if(Me(Ue),d=t.memoizedState,d===null)return lt(t),null;if(a=(t.flags&128)!==0,h=d.rendering,h===null)if(a)us(d,!1);else{if(Qe!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(h=ca(e),h!==null){for(t.flags|=128,us(d,!1),a=h.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=n,n=t.child;n!==null;)d=n,e=a,d.flags&=14680066,h=d.alternate,h===null?(d.childLanes=0,d.lanes=e,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=h.childLanes,d.lanes=h.lanes,d.child=h.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=h.memoizedProps,d.memoizedState=h.memoizedState,d.updateQueue=h.updateQueue,d.type=h.type,e=h.dependencies,d.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ie(Ue,Ue.current&1|2),t.child}e=e.sibling}d.tail!==null&&Ve()>En&&(t.flags|=128,a=!0,us(d,!1),t.lanes=4194304)}else{if(!a)if(e=ca(h),e!==null){if(t.flags|=128,a=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),us(d,!0),d.tail===null&&d.tailMode==="hidden"&&!h.alternate&&!Fe)return lt(t),null}else 2*Ve()-d.renderingStartTime>En&&n!==1073741824&&(t.flags|=128,a=!0,us(d,!1),t.lanes=4194304);d.isBackwards?(h.sibling=t.child,t.child=h):(n=d.last,n!==null?n.sibling=h:t.child=h,d.last=h)}return d.tail!==null?(t=d.tail,d.rendering=t,d.tail=t.sibling,d.renderingStartTime=Ve(),t.sibling=null,n=Ue.current,Ie(Ue,a?n&1|2:n&1),t):(lt(t),null);case 22:case 23:return Mo(),a=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(t.flags|=8192),a&&(t.mode&1)!==0?(Et&1073741824)!==0&&(lt(t),t.subtreeFlags&6&&(t.flags|=8192)):lt(t),null;case 24:return null;case 25:return null}throw Error(o(156,t.tag))}function Cp(e,t){switch(Hl(t),t.tag){case 1:return ft(t.type)&&Xs(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return wn(),Me(mt),Me(st),so(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return ro(t),null;case 13:if(Me(Ue),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));yn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Me(Ue),null;case 4:return wn(),null;case 10:return Yl(t.type._context),null;case 22:case 23:return Mo(),null;case 24:return null;default:return null}}var ya=!1,ot=!1,Tp=typeof WeakSet=="function"?WeakSet:Set,ce=null;function kn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(a){Be(e,t,a)}else n.current=null}function So(e,t,n){try{n()}catch(a){Be(e,t,a)}}var Kd=!1;function Ap(e,t){if(Ll=Fs,e=Cc(),Tl(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var i=a.anchorOffset,d=a.focusNode;a=a.focusOffset;try{n.nodeType,d.nodeType}catch{n=null;break e}var h=0,j=-1,S=-1,L=0,q=0,K=e,G=null;t:for(;;){for(var oe;K!==n||i!==0&&K.nodeType!==3||(j=h+i),K!==d||a!==0&&K.nodeType!==3||(S=h+a),K.nodeType===3&&(h+=K.nodeValue.length),(oe=K.firstChild)!==null;)G=K,K=oe;for(;;){if(K===e)break t;if(G===n&&++L===i&&(j=h),G===d&&++q===a&&(S=h),(oe=K.nextSibling)!==null)break;K=G,G=K.parentNode}K=oe}n=j===-1||S===-1?null:{start:j,end:S}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ml={focusedElem:e,selectionRange:n},Fs=!1,ce=t;ce!==null;)if(t=ce,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ce=e;else for(;ce!==null;){t=ce;try{var me=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(me!==null){var pe=me.memoizedProps,He=me.memoizedState,R=t.stateNode,T=R.getSnapshotBeforeUpdate(t.elementType===t.type?pe:Mt(t.type,pe),He);R.__reactInternalSnapshotBeforeUpdate=T}break;case 3:var I=t.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(Y){Be(t,t.return,Y)}if(e=t.sibling,e!==null){e.return=t.return,ce=e;break}ce=t.return}return me=Kd,Kd=!1,me}function ms(e,t,n){var a=t.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var i=a=a.next;do{if((i.tag&e)===e){var d=i.destroy;i.destroy=void 0,d!==void 0&&So(t,n,d)}i=i.next}while(i!==a)}}function va(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var a=n.create;n.destroy=a()}n=n.next}while(n!==t)}}function Eo(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Qd(e){var t=e.alternate;t!==null&&(e.alternate=null,Qd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ht],delete t[ts],delete t[Bl],delete t[up],delete t[mp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Yd(e){return e.tag===5||e.tag===3||e.tag===4}function Xd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Yd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Co(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Qs));else if(a!==4&&(e=e.child,e!==null))for(Co(e,t,n),e=e.sibling;e!==null;)Co(e,t,n),e=e.sibling}function To(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(To(e,t,n),e=e.sibling;e!==null;)To(e,t,n),e=e.sibling}var et=null,Ft=!1;function kr(e,t,n){for(n=n.child;n!==null;)Zd(e,t,n),n=n.sibling}function Zd(e,t,n){if(Vt&&typeof Vt.onCommitFiberUnmount=="function")try{Vt.onCommitFiberUnmount(Ps,n)}catch{}switch(n.tag){case 5:ot||kn(n,t);case 6:var a=et,i=Ft;et=null,kr(e,t,n),et=a,Ft=i,et!==null&&(Ft?(e=et,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):et.removeChild(n.stateNode));break;case 18:et!==null&&(Ft?(e=et,n=n.stateNode,e.nodeType===8?zl(e.parentNode,n):e.nodeType===1&&zl(e,n),Vn(e)):zl(et,n.stateNode));break;case 4:a=et,i=Ft,et=n.stateNode.containerInfo,Ft=!0,kr(e,t,n),et=a,Ft=i;break;case 0:case 11:case 14:case 15:if(!ot&&(a=n.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){i=a=a.next;do{var d=i,h=d.destroy;d=d.tag,h!==void 0&&((d&2)!==0||(d&4)!==0)&&So(n,t,h),i=i.next}while(i!==a)}kr(e,t,n);break;case 1:if(!ot&&(kn(n,t),a=n.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=n.memoizedProps,a.state=n.memoizedState,a.componentWillUnmount()}catch(j){Be(n,t,j)}kr(e,t,n);break;case 21:kr(e,t,n);break;case 22:n.mode&1?(ot=(a=ot)||n.memoizedState!==null,kr(e,t,n),ot=a):kr(e,t,n);break;default:kr(e,t,n)}}function eu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Tp),t.forEach(function(a){var i=Fp.bind(null,e,a);n.has(a)||(n.add(a),a.then(i,i))})}}function Ut(e,t){var n=t.deletions;if(n!==null)for(var a=0;a<n.length;a++){var i=n[a];try{var d=e,h=t,j=h;e:for(;j!==null;){switch(j.tag){case 5:et=j.stateNode,Ft=!1;break e;case 3:et=j.stateNode.containerInfo,Ft=!0;break e;case 4:et=j.stateNode.containerInfo,Ft=!0;break e}j=j.return}if(et===null)throw Error(o(160));Zd(d,h,i),et=null,Ft=!1;var S=i.alternate;S!==null&&(S.return=null),i.return=null}catch(L){Be(i,t,L)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)tu(t,e),t=t.sibling}function tu(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ut(t,e),qt(e),a&4){try{ms(3,e,e.return),va(3,e)}catch(pe){Be(e,e.return,pe)}try{ms(5,e,e.return)}catch(pe){Be(e,e.return,pe)}}break;case 1:Ut(t,e),qt(e),a&512&&n!==null&&kn(n,n.return);break;case 5:if(Ut(t,e),qt(e),a&512&&n!==null&&kn(n,n.return),e.flags&32){var i=e.stateNode;try{_n(i,"")}catch(pe){Be(e,e.return,pe)}}if(a&4&&(i=e.stateNode,i!=null)){var d=e.memoizedProps,h=n!==null?n.memoizedProps:d,j=e.type,S=e.updateQueue;if(e.updateQueue=null,S!==null)try{j==="input"&&d.type==="radio"&&d.name!=null&&Ee(i,d),sl(j,h);var L=sl(j,d);for(h=0;h<S.length;h+=2){var q=S[h],K=S[h+1];q==="style"?Mi(i,K):q==="dangerouslySetInnerHTML"?Ii(i,K):q==="children"?_n(i,K):F(i,q,K,L)}switch(j){case"input":nt(i,d);break;case"textarea":Pi(i,d);break;case"select":var G=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!d.multiple;var oe=d.value;oe!=null?De(i,!!d.multiple,oe,!1):G!==!!d.multiple&&(d.defaultValue!=null?De(i,!!d.multiple,d.defaultValue,!0):De(i,!!d.multiple,d.multiple?[]:"",!1))}i[ts]=d}catch(pe){Be(e,e.return,pe)}}break;case 6:if(Ut(t,e),qt(e),a&4){if(e.stateNode===null)throw Error(o(162));i=e.stateNode,d=e.memoizedProps;try{i.nodeValue=d}catch(pe){Be(e,e.return,pe)}}break;case 3:if(Ut(t,e),qt(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{Vn(t.containerInfo)}catch(pe){Be(e,e.return,pe)}break;case 4:Ut(t,e),qt(e);break;case 13:Ut(t,e),qt(e),i=e.child,i.flags&8192&&(d=i.memoizedState!==null,i.stateNode.isHidden=d,!d||i.alternate!==null&&i.alternate.memoizedState!==null||(Ro=Ve())),a&4&&eu(e);break;case 22:if(q=n!==null&&n.memoizedState!==null,e.mode&1?(ot=(L=ot)||q,Ut(t,e),ot=L):Ut(t,e),qt(e),a&8192){if(L=e.memoizedState!==null,(e.stateNode.isHidden=L)&&!q&&(e.mode&1)!==0)for(ce=e,q=e.child;q!==null;){for(K=ce=q;ce!==null;){switch(G=ce,oe=G.child,G.tag){case 0:case 11:case 14:case 15:ms(4,G,G.return);break;case 1:kn(G,G.return);var me=G.stateNode;if(typeof me.componentWillUnmount=="function"){a=G,n=G.return;try{t=a,me.props=t.memoizedProps,me.state=t.memoizedState,me.componentWillUnmount()}catch(pe){Be(a,n,pe)}}break;case 5:kn(G,G.return);break;case 22:if(G.memoizedState!==null){su(K);continue}}oe!==null?(oe.return=G,ce=oe):su(K)}q=q.sibling}e:for(q=null,K=e;;){if(K.tag===5){if(q===null){q=K;try{i=K.stateNode,L?(d=i.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(j=K.stateNode,S=K.memoizedProps.style,h=S!=null&&S.hasOwnProperty("display")?S.display:null,j.style.display=Li("display",h))}catch(pe){Be(e,e.return,pe)}}}else if(K.tag===6){if(q===null)try{K.stateNode.nodeValue=L?"":K.memoizedProps}catch(pe){Be(e,e.return,pe)}}else if((K.tag!==22&&K.tag!==23||K.memoizedState===null||K===e)&&K.child!==null){K.child.return=K,K=K.child;continue}if(K===e)break e;for(;K.sibling===null;){if(K.return===null||K.return===e)break e;q===K&&(q=null),K=K.return}q===K&&(q=null),K.sibling.return=K.return,K=K.sibling}}break;case 19:Ut(t,e),qt(e),a&4&&eu(e);break;case 21:break;default:Ut(t,e),qt(e)}}function qt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Yd(n)){var a=n;break e}n=n.return}throw Error(o(160))}switch(a.tag){case 5:var i=a.stateNode;a.flags&32&&(_n(i,""),a.flags&=-33);var d=Xd(e);To(e,d,i);break;case 3:case 4:var h=a.stateNode.containerInfo,j=Xd(e);Co(e,j,h);break;default:throw Error(o(161))}}catch(S){Be(e,e.return,S)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Op(e,t,n){ce=e,ru(e)}function ru(e,t,n){for(var a=(e.mode&1)!==0;ce!==null;){var i=ce,d=i.child;if(i.tag===22&&a){var h=i.memoizedState!==null||ya;if(!h){var j=i.alternate,S=j!==null&&j.memoizedState!==null||ot;j=ya;var L=ot;if(ya=h,(ot=S)&&!L)for(ce=i;ce!==null;)h=ce,S=h.child,h.tag===22&&h.memoizedState!==null?au(i):S!==null?(S.return=h,ce=S):au(i);for(;d!==null;)ce=d,ru(d),d=d.sibling;ce=i,ya=j,ot=L}nu(e)}else(i.subtreeFlags&8772)!==0&&d!==null?(d.return=i,ce=d):nu(e)}}function nu(e){for(;ce!==null;){var t=ce;if((t.flags&8772)!==0){var n=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:ot||va(5,t);break;case 1:var a=t.stateNode;if(t.flags&4&&!ot)if(n===null)a.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Mt(t.type,n.memoizedProps);a.componentDidUpdate(i,n.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var d=t.updateQueue;d!==null&&sd(t,d,a);break;case 3:var h=t.updateQueue;if(h!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}sd(t,h,n)}break;case 5:var j=t.stateNode;if(n===null&&t.flags&4){n=j;var S=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":S.autoFocus&&n.focus();break;case"img":S.src&&(n.src=S.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var L=t.alternate;if(L!==null){var q=L.memoizedState;if(q!==null){var K=q.dehydrated;K!==null&&Vn(K)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(o(163))}ot||t.flags&512&&Eo(t)}catch(G){Be(t,t.return,G)}}if(t===e){ce=null;break}if(n=t.sibling,n!==null){n.return=t.return,ce=n;break}ce=t.return}}function su(e){for(;ce!==null;){var t=ce;if(t===e){ce=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ce=n;break}ce=t.return}}function au(e){for(;ce!==null;){var t=ce;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{va(4,t)}catch(S){Be(t,n,S)}break;case 1:var a=t.stateNode;if(typeof a.componentDidMount=="function"){var i=t.return;try{a.componentDidMount()}catch(S){Be(t,i,S)}}var d=t.return;try{Eo(t)}catch(S){Be(t,d,S)}break;case 5:var h=t.return;try{Eo(t)}catch(S){Be(t,h,S)}}}catch(S){Be(t,t.return,S)}if(t===e){ce=null;break}var j=t.sibling;if(j!==null){j.return=t.return,ce=j;break}ce=t.return}}var Rp=Math.ceil,ba=A.ReactCurrentDispatcher,Ao=A.ReactCurrentOwner,Rt=A.ReactCurrentBatchConfig,Oe=0,Xe=null,qe=null,tt=0,Et=0,Sn=vr(0),Qe=0,fs=null,Hr=0,ja=0,Oo=0,ps=null,ht=null,Ro=0,En=1/0,ar=null,wa=!1,Po=null,Sr=null,Na=!1,Er=null,ka=0,hs=0,_o=null,Sa=-1,Ea=0;function dt(){return(Oe&6)!==0?Ve():Sa!==-1?Sa:Sa=Ve()}function Cr(e){return(e.mode&1)===0?1:(Oe&2)!==0&&tt!==0?tt&-tt:pp.transition!==null?(Ea===0&&(Ea=Xi()),Ea):(e=_e,e!==0||(e=window.event,e=e===void 0?16:oc(e.type)),e)}function zt(e,t,n,a){if(50<hs)throw hs=0,_o=null,Error(o(185));Un(e,n,a),((Oe&2)===0||e!==Xe)&&(e===Xe&&((Oe&2)===0&&(ja|=n),Qe===4&&Tr(e,tt)),gt(e,a),n===1&&Oe===0&&(t.mode&1)===0&&(En=Ve()+500,ea&&jr()))}function gt(e,t){var n=e.callbackNode;pf(e,t);var a=Is(e,e===Xe?tt:0);if(a===0)n!==null&&Ki(n),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(n!=null&&Ki(n),t===1)e.tag===0?fp(ou.bind(null,e)):Gc(ou.bind(null,e)),cp(function(){(Oe&6)===0&&jr()}),n=null;else{switch(Zi(a)){case 1:n=ul;break;case 4:n=Qi;break;case 16:n=Rs;break;case 536870912:n=Yi;break;default:n=Rs}n=hu(n,lu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function lu(e,t){if(Sa=-1,Ea=0,(Oe&6)!==0)throw Error(o(327));var n=e.callbackNode;if(Cn()&&e.callbackNode!==n)return null;var a=Is(e,e===Xe?tt:0);if(a===0)return null;if((a&30)!==0||(a&e.expiredLanes)!==0||t)t=Ca(e,a);else{t=a;var i=Oe;Oe|=2;var d=cu();(Xe!==e||tt!==t)&&(ar=null,En=Ve()+500,Wr(e,t));do try{Dp();break}catch(j){iu(e,j)}while(!0);Ql(),ba.current=d,Oe=i,qe!==null?t=0:(Xe=null,tt=0,t=Qe)}if(t!==0){if(t===2&&(i=ml(e),i!==0&&(a=i,t=Do(e,i))),t===1)throw n=fs,Wr(e,0),Tr(e,a),gt(e,Ve()),n;if(t===6)Tr(e,a);else{if(i=e.current.alternate,(a&30)===0&&!Pp(i)&&(t=Ca(e,a),t===2&&(d=ml(e),d!==0&&(a=d,t=Do(e,d))),t===1))throw n=fs,Wr(e,0),Tr(e,a),gt(e,Ve()),n;switch(e.finishedWork=i,e.finishedLanes=a,t){case 0:case 1:throw Error(o(345));case 2:qr(e,ht,ar);break;case 3:if(Tr(e,a),(a&130023424)===a&&(t=Ro+500-Ve(),10<t)){if(Is(e,0)!==0)break;if(i=e.suspendedLanes,(i&a)!==a){dt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Ul(qr.bind(null,e,ht,ar),t);break}qr(e,ht,ar);break;case 4:if(Tr(e,a),(a&4194240)===a)break;for(t=e.eventTimes,i=-1;0<a;){var h=31-Dt(a);d=1<<h,h=t[h],h>i&&(i=h),a&=~d}if(a=i,a=Ve()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*Rp(a/1960))-a,10<a){e.timeoutHandle=Ul(qr.bind(null,e,ht,ar),a);break}qr(e,ht,ar);break;case 5:qr(e,ht,ar);break;default:throw Error(o(329))}}}return gt(e,Ve()),e.callbackNode===n?lu.bind(null,e):null}function Do(e,t){var n=ps;return e.current.memoizedState.isDehydrated&&(Wr(e,t).flags|=256),e=Ca(e,t),e!==2&&(t=ht,ht=n,t!==null&&Io(t)),e}function Io(e){ht===null?ht=e:ht.push.apply(ht,e)}function Pp(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var a=0;a<n.length;a++){var i=n[a],d=i.getSnapshot;i=i.value;try{if(!It(d(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Tr(e,t){for(t&=~Oo,t&=~ja,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Dt(t),a=1<<n;e[n]=-1,t&=~a}}function ou(e){if((Oe&6)!==0)throw Error(o(327));Cn();var t=Is(e,0);if((t&1)===0)return gt(e,Ve()),null;var n=Ca(e,t);if(e.tag!==0&&n===2){var a=ml(e);a!==0&&(t=a,n=Do(e,a))}if(n===1)throw n=fs,Wr(e,0),Tr(e,t),gt(e,Ve()),n;if(n===6)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,qr(e,ht,ar),gt(e,Ve()),null}function Lo(e,t){var n=Oe;Oe|=1;try{return e(t)}finally{Oe=n,Oe===0&&(En=Ve()+500,ea&&jr())}}function Gr(e){Er!==null&&Er.tag===0&&(Oe&6)===0&&Cn();var t=Oe;Oe|=1;var n=Rt.transition,a=_e;try{if(Rt.transition=null,_e=1,e)return e()}finally{_e=a,Rt.transition=n,Oe=t,(Oe&6)===0&&jr()}}function Mo(){Et=Sn.current,Me(Sn)}function Wr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,ip(n)),qe!==null)for(n=qe.return;n!==null;){var a=n;switch(Hl(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&Xs();break;case 3:wn(),Me(mt),Me(st),so();break;case 5:ro(a);break;case 4:wn();break;case 13:Me(Ue);break;case 19:Me(Ue);break;case 10:Yl(a.type._context);break;case 22:case 23:Mo()}n=n.return}if(Xe=e,qe=e=Ar(e.current,null),tt=Et=t,Qe=0,fs=null,Oo=ja=Hr=0,ht=ps=null,$r!==null){for(t=0;t<$r.length;t++)if(n=$r[t],a=n.interleaved,a!==null){n.interleaved=null;var i=a.next,d=n.pending;if(d!==null){var h=d.next;d.next=i,a.next=h}n.pending=a}$r=null}return e}function iu(e,t){do{var n=qe;try{if(Ql(),da.current=pa,ua){for(var a=ze.memoizedState;a!==null;){var i=a.queue;i!==null&&(i.pending=null),a=a.next}ua=!1}if(Vr=0,Ye=Ke=ze=null,os=!1,is=0,Ao.current=null,n===null||n.return===null){Qe=1,fs=t,qe=null;break}e:{var d=e,h=n.return,j=n,S=t;if(t=tt,j.flags|=32768,S!==null&&typeof S=="object"&&typeof S.then=="function"){var L=S,q=j,K=q.tag;if((q.mode&1)===0&&(K===0||K===11||K===15)){var G=q.alternate;G?(q.updateQueue=G.updateQueue,q.memoizedState=G.memoizedState,q.lanes=G.lanes):(q.updateQueue=null,q.memoizedState=null)}var oe=_d(h);if(oe!==null){oe.flags&=-257,Dd(oe,h,j,d,t),oe.mode&1&&Pd(d,L,t),t=oe,S=L;var me=t.updateQueue;if(me===null){var pe=new Set;pe.add(S),t.updateQueue=pe}else me.add(S);break e}else{if((t&1)===0){Pd(d,L,t),Fo();break e}S=Error(o(426))}}else if(Fe&&j.mode&1){var He=_d(h);if(He!==null){(He.flags&65536)===0&&(He.flags|=256),Dd(He,h,j,d,t),ql(Nn(S,j));break e}}d=S=Nn(S,j),Qe!==4&&(Qe=2),ps===null?ps=[d]:ps.push(d),d=h;do{switch(d.tag){case 3:d.flags|=65536,t&=-t,d.lanes|=t;var R=Od(d,S,t);nd(d,R);break e;case 1:j=S;var T=d.type,I=d.stateNode;if((d.flags&128)===0&&(typeof T.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(Sr===null||!Sr.has(I)))){d.flags|=65536,t&=-t,d.lanes|=t;var Y=Rd(d,j,t);nd(d,Y);break e}}d=d.return}while(d!==null)}uu(n)}catch(ge){t=ge,qe===n&&n!==null&&(qe=n=n.return);continue}break}while(!0)}function cu(){var e=ba.current;return ba.current=pa,e===null?pa:e}function Fo(){(Qe===0||Qe===3||Qe===2)&&(Qe=4),Xe===null||(Hr&268435455)===0&&(ja&268435455)===0||Tr(Xe,tt)}function Ca(e,t){var n=Oe;Oe|=2;var a=cu();(Xe!==e||tt!==t)&&(ar=null,Wr(e,t));do try{_p();break}catch(i){iu(e,i)}while(!0);if(Ql(),Oe=n,ba.current=a,qe!==null)throw Error(o(261));return Xe=null,tt=0,Qe}function _p(){for(;qe!==null;)du(qe)}function Dp(){for(;qe!==null&&!sf();)du(qe)}function du(e){var t=pu(e.alternate,e,Et);e.memoizedProps=e.pendingProps,t===null?uu(e):qe=t,Ao.current=null}function uu(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&32768)===0){if(n=Ep(n,t,Et),n!==null){qe=n;return}}else{if(n=Cp(n,t),n!==null){n.flags&=32767,qe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Qe=6,qe=null;return}}if(t=t.sibling,t!==null){qe=t;return}qe=t=e}while(t!==null);Qe===0&&(Qe=5)}function qr(e,t,n){var a=_e,i=Rt.transition;try{Rt.transition=null,_e=1,Ip(e,t,n,a)}finally{Rt.transition=i,_e=a}return null}function Ip(e,t,n,a){do Cn();while(Er!==null);if((Oe&6)!==0)throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var d=n.lanes|n.childLanes;if(hf(e,d),e===Xe&&(qe=Xe=null,tt=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||Na||(Na=!0,hu(Rs,function(){return Cn(),null})),d=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||d){d=Rt.transition,Rt.transition=null;var h=_e;_e=1;var j=Oe;Oe|=4,Ao.current=null,Ap(e,n),tu(n,e),tp(Ml),Fs=!!Ll,Ml=Ll=null,e.current=n,Op(n),af(),Oe=j,_e=h,Rt.transition=d}else e.current=n;if(Na&&(Na=!1,Er=e,ka=i),d=e.pendingLanes,d===0&&(Sr=null),cf(n.stateNode),gt(e,Ve()),t!==null)for(a=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],a(i.value,{componentStack:i.stack,digest:i.digest});if(wa)throw wa=!1,e=Po,Po=null,e;return(ka&1)!==0&&e.tag!==0&&Cn(),d=e.pendingLanes,(d&1)!==0?e===_o?hs++:(hs=0,_o=e):hs=0,jr(),null}function Cn(){if(Er!==null){var e=Zi(ka),t=Rt.transition,n=_e;try{if(Rt.transition=null,_e=16>e?16:e,Er===null)var a=!1;else{if(e=Er,Er=null,ka=0,(Oe&6)!==0)throw Error(o(331));var i=Oe;for(Oe|=4,ce=e.current;ce!==null;){var d=ce,h=d.child;if((ce.flags&16)!==0){var j=d.deletions;if(j!==null){for(var S=0;S<j.length;S++){var L=j[S];for(ce=L;ce!==null;){var q=ce;switch(q.tag){case 0:case 11:case 15:ms(8,q,d)}var K=q.child;if(K!==null)K.return=q,ce=K;else for(;ce!==null;){q=ce;var G=q.sibling,oe=q.return;if(Qd(q),q===L){ce=null;break}if(G!==null){G.return=oe,ce=G;break}ce=oe}}}var me=d.alternate;if(me!==null){var pe=me.child;if(pe!==null){me.child=null;do{var He=pe.sibling;pe.sibling=null,pe=He}while(pe!==null)}}ce=d}}if((d.subtreeFlags&2064)!==0&&h!==null)h.return=d,ce=h;else e:for(;ce!==null;){if(d=ce,(d.flags&2048)!==0)switch(d.tag){case 0:case 11:case 15:ms(9,d,d.return)}var R=d.sibling;if(R!==null){R.return=d.return,ce=R;break e}ce=d.return}}var T=e.current;for(ce=T;ce!==null;){h=ce;var I=h.child;if((h.subtreeFlags&2064)!==0&&I!==null)I.return=h,ce=I;else e:for(h=T;ce!==null;){if(j=ce,(j.flags&2048)!==0)try{switch(j.tag){case 0:case 11:case 15:va(9,j)}}catch(ge){Be(j,j.return,ge)}if(j===h){ce=null;break e}var Y=j.sibling;if(Y!==null){Y.return=j.return,ce=Y;break e}ce=j.return}}if(Oe=i,jr(),Vt&&typeof Vt.onPostCommitFiberRoot=="function")try{Vt.onPostCommitFiberRoot(Ps,e)}catch{}a=!0}return a}finally{_e=n,Rt.transition=t}}return!1}function mu(e,t,n){t=Nn(n,t),t=Od(e,t,1),e=Nr(e,t,1),t=dt(),e!==null&&(Un(e,1,t),gt(e,t))}function Be(e,t,n){if(e.tag===3)mu(e,e,n);else for(;t!==null;){if(t.tag===3){mu(t,e,n);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Sr===null||!Sr.has(a))){e=Nn(n,e),e=Rd(t,e,1),t=Nr(t,e,1),e=dt(),t!==null&&(Un(t,1,e),gt(t,e));break}}t=t.return}}function Lp(e,t,n){var a=e.pingCache;a!==null&&a.delete(t),t=dt(),e.pingedLanes|=e.suspendedLanes&n,Xe===e&&(tt&n)===n&&(Qe===4||Qe===3&&(tt&130023424)===tt&&500>Ve()-Ro?Wr(e,0):Oo|=n),gt(e,t)}function fu(e,t){t===0&&((e.mode&1)===0?t=1:(t=Ds,Ds<<=1,(Ds&130023424)===0&&(Ds=4194304)));var n=dt();e=rr(e,t),e!==null&&(Un(e,t,n),gt(e,n))}function Mp(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),fu(e,n)}function Fp(e,t){var n=0;switch(e.tag){case 13:var a=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(o(314))}a!==null&&a.delete(t),fu(e,n)}var pu;pu=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||mt.current)pt=!0;else{if((e.lanes&n)===0&&(t.flags&128)===0)return pt=!1,Sp(e,t,n);pt=(e.flags&131072)!==0}else pt=!1,Fe&&(t.flags&1048576)!==0&&Wc(t,ra,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;xa(e,t),e=t.pendingProps;var i=hn(t,st.current);jn(t,n),i=oo(null,t,a,e,i,n);var d=io();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ft(a)?(d=!0,Zs(t)):d=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,eo(t),i.updater=ha,t.stateNode=i,i._reactInternals=t,ho(t,a,e,n),t=vo(null,t,a,!0,d,n)):(t.tag=0,Fe&&d&&Vl(t),ct(null,t,i,n),t=t.child),t;case 16:a=t.elementType;e:{switch(xa(e,t),e=t.pendingProps,i=a._init,a=i(a._payload),t.type=a,i=t.tag=zp(a),e=Mt(a,e),i){case 0:t=yo(null,t,a,e,n);break e;case 1:t=zd(null,t,a,e,n);break e;case 11:t=Id(null,t,a,e,n);break e;case 14:t=Ld(null,t,a,Mt(a.type,e),n);break e}throw Error(o(306,a,""))}return t;case 0:return a=t.type,i=t.pendingProps,i=t.elementType===a?i:Mt(a,i),yo(e,t,a,i,n);case 1:return a=t.type,i=t.pendingProps,i=t.elementType===a?i:Mt(a,i),zd(e,t,a,i,n);case 3:e:{if(Bd(t),e===null)throw Error(o(387));a=t.pendingProps,d=t.memoizedState,i=d.element,rd(e,t),ia(t,a,null,n);var h=t.memoizedState;if(a=h.element,d.isDehydrated)if(d={element:a,isDehydrated:!1,cache:h.cache,pendingSuspenseBoundaries:h.pendingSuspenseBoundaries,transitions:h.transitions},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){i=Nn(Error(o(423)),t),t=$d(e,t,a,n,i);break e}else if(a!==i){i=Nn(Error(o(424)),t),t=$d(e,t,a,n,i);break e}else for(St=yr(t.stateNode.containerInfo.firstChild),kt=t,Fe=!0,Lt=null,n=ed(t,null,a,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(yn(),a===i){t=sr(e,t,n);break e}ct(e,t,a,n)}t=t.child}return t;case 5:return ad(t),e===null&&Wl(t),a=t.type,i=t.pendingProps,d=e!==null?e.memoizedProps:null,h=i.children,Fl(a,i)?h=null:d!==null&&Fl(a,d)&&(t.flags|=32),Ud(e,t),ct(e,t,h,n),t.child;case 6:return e===null&&Wl(t),null;case 13:return Jd(e,t,n);case 4:return to(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=vn(t,null,a,n):ct(e,t,a,n),t.child;case 11:return a=t.type,i=t.pendingProps,i=t.elementType===a?i:Mt(a,i),Id(e,t,a,i,n);case 7:return ct(e,t,t.pendingProps,n),t.child;case 8:return ct(e,t,t.pendingProps.children,n),t.child;case 12:return ct(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(a=t.type._context,i=t.pendingProps,d=t.memoizedProps,h=i.value,Ie(aa,a._currentValue),a._currentValue=h,d!==null)if(It(d.value,h)){if(d.children===i.children&&!mt.current){t=sr(e,t,n);break e}}else for(d=t.child,d!==null&&(d.return=t);d!==null;){var j=d.dependencies;if(j!==null){h=d.child;for(var S=j.firstContext;S!==null;){if(S.context===a){if(d.tag===1){S=nr(-1,n&-n),S.tag=2;var L=d.updateQueue;if(L!==null){L=L.shared;var q=L.pending;q===null?S.next=S:(S.next=q.next,q.next=S),L.pending=S}}d.lanes|=n,S=d.alternate,S!==null&&(S.lanes|=n),Xl(d.return,n,t),j.lanes|=n;break}S=S.next}}else if(d.tag===10)h=d.type===t.type?null:d.child;else if(d.tag===18){if(h=d.return,h===null)throw Error(o(341));h.lanes|=n,j=h.alternate,j!==null&&(j.lanes|=n),Xl(h,n,t),h=d.sibling}else h=d.child;if(h!==null)h.return=d;else for(h=d;h!==null;){if(h===t){h=null;break}if(d=h.sibling,d!==null){d.return=h.return,h=d;break}h=h.return}d=h}ct(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,a=t.pendingProps.children,jn(t,n),i=At(i),a=a(i),t.flags|=1,ct(e,t,a,n),t.child;case 14:return a=t.type,i=Mt(a,t.pendingProps),i=Mt(a.type,i),Ld(e,t,a,i,n);case 15:return Md(e,t,t.type,t.pendingProps,n);case 17:return a=t.type,i=t.pendingProps,i=t.elementType===a?i:Mt(a,i),xa(e,t),t.tag=1,ft(a)?(e=!0,Zs(t)):e=!1,jn(t,n),Td(t,a,i),ho(t,a,i,n),vo(null,t,a,!0,e,n);case 19:return Hd(e,t,n);case 22:return Fd(e,t,n)}throw Error(o(156,t.tag))};function hu(e,t){return qi(e,t)}function Up(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pt(e,t,n,a){return new Up(e,t,n,a)}function Uo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function zp(e){if(typeof e=="function")return Uo(e)?1:0;if(e!=null){if(e=e.$$typeof,e===he)return 11;if(e===ve)return 14}return 2}function Ar(e,t){var n=e.alternate;return n===null?(n=Pt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ta(e,t,n,a,i,d){var h=2;if(a=e,typeof e=="function")Uo(e)&&(h=1);else if(typeof e=="string")h=5;else e:switch(e){case we:return Kr(n.children,i,d,t);case te:h=8,i|=8;break;case le:return e=Pt(12,n,t,i|2),e.elementType=le,e.lanes=d,e;case ne:return e=Pt(13,n,t,i),e.elementType=ne,e.lanes=d,e;case re:return e=Pt(19,n,t,i),e.elementType=re,e.lanes=d,e;case Ce:return Aa(n,i,d,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case se:h=10;break e;case W:h=9;break e;case he:h=11;break e;case ve:h=14;break e;case ke:h=16,a=null;break e}throw Error(o(130,e==null?e:typeof e,""))}return t=Pt(h,n,t,i),t.elementType=e,t.type=a,t.lanes=d,t}function Kr(e,t,n,a){return e=Pt(7,e,a,t),e.lanes=n,e}function Aa(e,t,n,a){return e=Pt(22,e,a,t),e.elementType=Ce,e.lanes=n,e.stateNode={isHidden:!1},e}function zo(e,t,n){return e=Pt(6,e,null,t),e.lanes=n,e}function Bo(e,t,n){return t=Pt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bp(e,t,n,a,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fl(0),this.expirationTimes=fl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fl(0),this.identifierPrefix=a,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function $o(e,t,n,a,i,d,h,j,S){return e=new Bp(e,t,n,j,S),t===1?(t=1,d===!0&&(t|=8)):t=0,d=Pt(3,null,null,t),e.current=d,d.stateNode=e,d.memoizedState={element:a,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},eo(d),e}function $p(e,t,n){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:H,key:a==null?null:""+a,children:e,containerInfo:t,implementation:n}}function gu(e){if(!e)return br;e=e._reactInternals;e:{if(Mr(e)!==e||e.tag!==1)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ft(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(o(171))}if(e.tag===1){var n=e.type;if(ft(n))return Vc(e,n,t)}return t}function xu(e,t,n,a,i,d,h,j,S){return e=$o(n,a,!0,e,i,d,h,j,S),e.context=gu(null),n=e.current,a=dt(),i=Cr(n),d=nr(a,i),d.callback=t??null,Nr(n,d,i),e.current.lanes=i,Un(e,i,a),gt(e,a),e}function Oa(e,t,n,a){var i=t.current,d=dt(),h=Cr(i);return n=gu(n),t.context===null?t.context=n:t.pendingContext=n,t=nr(d,h),t.payload={element:e},a=a===void 0?null:a,a!==null&&(t.callback=a),e=Nr(i,t,h),e!==null&&(zt(e,i,h,d),oa(e,i,h)),h}function Ra(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function yu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Jo(e,t){yu(e,t),(e=e.alternate)&&yu(e,t)}function Jp(){return null}var vu=typeof reportError=="function"?reportError:function(e){console.error(e)};function Vo(e){this._internalRoot=e}Pa.prototype.render=Vo.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));Oa(e,t,null,null)},Pa.prototype.unmount=Vo.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Gr(function(){Oa(null,e,null,null)}),t[Xt]=null}};function Pa(e){this._internalRoot=e}Pa.prototype.unstable_scheduleHydration=function(e){if(e){var t=rc();e={blockedOn:null,target:e,priority:t};for(var n=0;n<hr.length&&t!==0&&t<hr[n].priority;n++);hr.splice(n,0,e),n===0&&ac(e)}};function Ho(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function _a(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function bu(){}function Vp(e,t,n,a,i){if(i){if(typeof a=="function"){var d=a;a=function(){var L=Ra(h);d.call(L)}}var h=xu(t,a,e,0,null,!1,!1,"",bu);return e._reactRootContainer=h,e[Xt]=h.current,Zn(e.nodeType===8?e.parentNode:e),Gr(),h}for(;i=e.lastChild;)e.removeChild(i);if(typeof a=="function"){var j=a;a=function(){var L=Ra(S);j.call(L)}}var S=$o(e,0,!1,null,null,!1,!1,"",bu);return e._reactRootContainer=S,e[Xt]=S.current,Zn(e.nodeType===8?e.parentNode:e),Gr(function(){Oa(t,S,n,a)}),S}function Da(e,t,n,a,i){var d=n._reactRootContainer;if(d){var h=d;if(typeof i=="function"){var j=i;i=function(){var S=Ra(h);j.call(S)}}Oa(t,h,e,i)}else h=Vp(n,t,e,i,a);return Ra(h)}ec=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Fn(t.pendingLanes);n!==0&&(pl(t,n|1),gt(t,Ve()),(Oe&6)===0&&(En=Ve()+500,jr()))}break;case 13:Gr(function(){var a=rr(e,1);if(a!==null){var i=dt();zt(a,e,1,i)}}),Jo(e,1)}},hl=function(e){if(e.tag===13){var t=rr(e,134217728);if(t!==null){var n=dt();zt(t,e,134217728,n)}Jo(e,134217728)}},tc=function(e){if(e.tag===13){var t=Cr(e),n=rr(e,t);if(n!==null){var a=dt();zt(n,e,t,a)}Jo(e,t)}},rc=function(){return _e},nc=function(e,t){var n=_e;try{return _e=e,t()}finally{_e=n}},ol=function(e,t,n){switch(t){case"input":if(nt(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var i=Ys(a);if(!i)throw Error(o(90));D(a),nt(a,i)}}}break;case"textarea":Pi(e,n);break;case"select":t=n.value,t!=null&&De(e,!!n.multiple,t,!1)}},Bi=Lo,$i=Gr;var Hp={usingClientEntryPoint:!1,Events:[rs,fn,Ys,Ui,zi,Lo]},gs={findFiberByHostInstance:Fr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Gp={bundleType:gs.bundleType,version:gs.version,rendererPackageName:gs.rendererPackageName,rendererConfig:gs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:A.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Gi(e),e===null?null:e.stateNode},findFiberByHostInstance:gs.findFiberByHostInstance||Jp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ia=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ia.isDisabled&&Ia.supportsFiber)try{Ps=Ia.inject(Gp),Vt=Ia}catch{}}return xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hp,xt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ho(t))throw Error(o(200));return $p(e,t,null,n)},xt.createRoot=function(e,t){if(!Ho(e))throw Error(o(299));var n=!1,a="",i=vu;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=$o(e,1,!1,null,null,n,!1,a,i),e[Xt]=t.current,Zn(e.nodeType===8?e.parentNode:e),new Vo(t)},xt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=Gi(t),e=e===null?null:e.stateNode,e},xt.flushSync=function(e){return Gr(e)},xt.hydrate=function(e,t,n){if(!_a(t))throw Error(o(200));return Da(null,e,t,!0,n)},xt.hydrateRoot=function(e,t,n){if(!Ho(e))throw Error(o(405));var a=n!=null&&n.hydratedSources||null,i=!1,d="",h=vu;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(d=n.identifierPrefix),n.onRecoverableError!==void 0&&(h=n.onRecoverableError)),t=xu(t,null,e,1,n??null,i,!1,d,h),e[Xt]=t.current,Zn(e),a)for(e=0;e<a.length;e++)n=a[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Pa(t)},xt.render=function(e,t,n){if(!_a(t))throw Error(o(200));return Da(null,e,t,!1,n)},xt.unmountComponentAtNode=function(e){if(!_a(e))throw Error(o(40));return e._reactRootContainer?(Gr(function(){Da(null,null,e,!1,function(){e._reactRootContainer=null,e[Xt]=null})}),!0):!1},xt.unstable_batchedUpdates=Lo,xt.unstable_renderSubtreeIntoContainer=function(e,t,n,a){if(!_a(n))throw Error(o(200));if(e==null||e._reactInternals===void 0)throw Error(o(38));return Da(e,t,n,!1,a)},xt.version="18.3.1-next-f1338f8080-20240426",xt}var Tu;function am(){if(Tu)return qo.exports;Tu=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(l){console.error(l)}}return s(),qo.exports=th(),qo.exports}var Au;function rh(){if(Au)return La;Au=1;var s=am();return La.createRoot=s.createRoot,La.hydrateRoot=s.hydrateRoot,La}var nh=rh();const sh=sm(nh);am();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function js(){return js=Object.assign?Object.assign.bind():function(s){for(var l=1;l<arguments.length;l++){var o=arguments[l];for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(s[c]=o[c])}return s},js.apply(this,arguments)}var Pr;(function(s){s.Pop="POP",s.Push="PUSH",s.Replace="REPLACE"})(Pr||(Pr={}));const Ou="popstate";function ah(s){s===void 0&&(s={});function l(c,u){let{pathname:m,search:f,hash:p}=c.location;return ri("",{pathname:m,search:f,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function o(c,u){return typeof u=="string"?u:$a(u)}return oh(l,o,null,s)}function Ge(s,l){if(s===!1||s===null||typeof s>"u")throw new Error(l)}function lm(s,l){if(!s){typeof console<"u"&&console.warn(l);try{throw new Error(l)}catch{}}}function lh(){return Math.random().toString(36).substr(2,8)}function Ru(s,l){return{usr:s.state,key:s.key,idx:l}}function ri(s,l,o,c){return o===void 0&&(o=null),js({pathname:typeof s=="string"?s:s.pathname,search:"",hash:""},typeof l=="string"?Tn(l):l,{state:o,key:l&&l.key||c||lh()})}function $a(s){let{pathname:l="/",search:o="",hash:c=""}=s;return o&&o!=="?"&&(l+=o.charAt(0)==="?"?o:"?"+o),c&&c!=="#"&&(l+=c.charAt(0)==="#"?c:"#"+c),l}function Tn(s){let l={};if(s){let o=s.indexOf("#");o>=0&&(l.hash=s.substr(o),s=s.substr(0,o));let c=s.indexOf("?");c>=0&&(l.search=s.substr(c),s=s.substr(0,c)),s&&(l.pathname=s)}return l}function oh(s,l,o,c){c===void 0&&(c={});let{window:u=document.defaultView,v5Compat:m=!1}=c,f=u.history,p=Pr.Pop,g=null,v=b();v==null&&(v=0,f.replaceState(js({},f.state,{idx:v}),""));function b(){return(f.state||{idx:null}).idx}function N(){p=Pr.Pop;let k=b(),J=k==null?null:k-v;v=k,g&&g({action:p,location:_.location,delta:J})}function C(k,J){p=Pr.Push;let O=ri(_.location,k,J);v=b()+1;let F=Ru(O,v),A=_.createHref(O);try{f.pushState(F,"",A)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;u.location.assign(A)}m&&g&&g({action:p,location:_.location,delta:1})}function P(k,J){p=Pr.Replace;let O=ri(_.location,k,J);v=b();let F=Ru(O,v),A=_.createHref(O);f.replaceState(F,"",A),m&&g&&g({action:p,location:_.location,delta:0})}function E(k){let J=u.location.origin!=="null"?u.location.origin:u.location.href,O=typeof k=="string"?k:$a(k);return O=O.replace(/ $/,"%20"),Ge(J,"No window.location.(origin|href) available to create URL for href: "+O),new URL(O,J)}let _={get action(){return p},get location(){return s(u,f)},listen(k){if(g)throw new Error("A history only accepts one active listener");return u.addEventListener(Ou,N),g=k,()=>{u.removeEventListener(Ou,N),g=null}},createHref(k){return l(u,k)},createURL:E,encodeLocation(k){let J=E(k);return{pathname:J.pathname,search:J.search,hash:J.hash}},push:C,replace:P,go(k){return f.go(k)}};return _}var Pu;(function(s){s.data="data",s.deferred="deferred",s.redirect="redirect",s.error="error"})(Pu||(Pu={}));function ih(s,l,o){return o===void 0&&(o="/"),ch(s,l,o)}function ch(s,l,o,c){let u=typeof l=="string"?Tn(l):l,m=ji(u.pathname||"/",o);if(m==null)return null;let f=om(s);dh(f);let p=null;for(let g=0;p==null&&g<f.length;++g){let v=wh(m);p=vh(f[g],v)}return p}function om(s,l,o,c){l===void 0&&(l=[]),o===void 0&&(o=[]),c===void 0&&(c="");let u=(m,f,p)=>{let g={relativePath:p===void 0?m.path||"":p,caseSensitive:m.caseSensitive===!0,childrenIndex:f,route:m};g.relativePath.startsWith("/")&&(Ge(g.relativePath.startsWith(c),'Absolute route path "'+g.relativePath+'" nested under path '+('"'+c+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),g.relativePath=g.relativePath.slice(c.length));let v=_r([c,g.relativePath]),b=o.concat(g);m.children&&m.children.length>0&&(Ge(m.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+v+'".')),om(m.children,l,b,v)),!(m.path==null&&!m.index)&&l.push({path:v,score:xh(v,m.index),routesMeta:b})};return s.forEach((m,f)=>{var p;if(m.path===""||!((p=m.path)!=null&&p.includes("?")))u(m,f);else for(let g of im(m.path))u(m,f,g)}),l}function im(s){let l=s.split("/");if(l.length===0)return[];let[o,...c]=l,u=o.endsWith("?"),m=o.replace(/\?$/,"");if(c.length===0)return u?[m,""]:[m];let f=im(c.join("/")),p=[];return p.push(...f.map(g=>g===""?m:[m,g].join("/"))),u&&p.push(...f),p.map(g=>s.startsWith("/")&&g===""?"/":g)}function dh(s){s.sort((l,o)=>l.score!==o.score?o.score-l.score:yh(l.routesMeta.map(c=>c.childrenIndex),o.routesMeta.map(c=>c.childrenIndex)))}const uh=/^:[\w-]+$/,mh=3,fh=2,ph=1,hh=10,gh=-2,_u=s=>s==="*";function xh(s,l){let o=s.split("/"),c=o.length;return o.some(_u)&&(c+=gh),l&&(c+=fh),o.filter(u=>!_u(u)).reduce((u,m)=>u+(uh.test(m)?mh:m===""?ph:hh),c)}function yh(s,l){return s.length===l.length&&s.slice(0,-1).every((c,u)=>c===l[u])?s[s.length-1]-l[l.length-1]:0}function vh(s,l,o){let{routesMeta:c}=s,u={},m="/",f=[];for(let p=0;p<c.length;++p){let g=c[p],v=p===c.length-1,b=m==="/"?l:l.slice(m.length)||"/",N=bh({path:g.relativePath,caseSensitive:g.caseSensitive,end:v},b),C=g.route;if(!N)return null;Object.assign(u,N.params),f.push({params:u,pathname:_r([m,N.pathname]),pathnameBase:Eh(_r([m,N.pathnameBase])),route:C}),N.pathnameBase!=="/"&&(m=_r([m,N.pathnameBase]))}return f}function bh(s,l){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[o,c]=jh(s.path,s.caseSensitive,s.end),u=l.match(o);if(!u)return null;let m=u[0],f=m.replace(/(.)\/+$/,"$1"),p=u.slice(1);return{params:c.reduce((v,b,N)=>{let{paramName:C,isOptional:P}=b;if(C==="*"){let _=p[N]||"";f=m.slice(0,m.length-_.length).replace(/(.)\/+$/,"$1")}const E=p[N];return P&&!E?v[C]=void 0:v[C]=(E||"").replace(/%2F/g,"/"),v},{}),pathname:m,pathnameBase:f,pattern:s}}function jh(s,l,o){l===void 0&&(l=!1),o===void 0&&(o=!0),lm(s==="*"||!s.endsWith("*")||s.endsWith("/*"),'Route path "'+s+'" will be treated as if it were '+('"'+s.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+s.replace(/\*$/,"/*")+'".'));let c=[],u="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,p,g)=>(c.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(c.push({paramName:"*"}),u+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):o?u+="\\/*$":s!==""&&s!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,l?void 0:"i"),c]}function wh(s){try{return s.split("/").map(l=>decodeURIComponent(l).replace(/\//g,"%2F")).join("/")}catch(l){return lm(!1,'The URL path "'+s+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+l+").")),s}}function ji(s,l){if(l==="/")return s;if(!s.toLowerCase().startsWith(l.toLowerCase()))return null;let o=l.endsWith("/")?l.length-1:l.length,c=s.charAt(o);return c&&c!=="/"?null:s.slice(o)||"/"}function Nh(s,l){l===void 0&&(l="/");let{pathname:o,search:c="",hash:u=""}=typeof s=="string"?Tn(s):s;return{pathname:o?o.startsWith("/")?o:kh(o,l):l,search:Ch(c),hash:Th(u)}}function kh(s,l){let o=l.replace(/\/+$/,"").split("/");return s.split("/").forEach(u=>{u===".."?o.length>1&&o.pop():u!=="."&&o.push(u)}),o.length>1?o.join("/"):"/"}function Yo(s,l,o,c){return"Cannot include a '"+s+"' character in a manually specified "+("`to."+l+"` field ["+JSON.stringify(c)+"].  Please separate it out to the ")+("`to."+o+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Sh(s){return s.filter((l,o)=>o===0||l.route.path&&l.route.path.length>0)}function wi(s,l){let o=Sh(s);return l?o.map((c,u)=>u===o.length-1?c.pathname:c.pathnameBase):o.map(c=>c.pathnameBase)}function Ni(s,l,o,c){c===void 0&&(c=!1);let u;typeof s=="string"?u=Tn(s):(u=js({},s),Ge(!u.pathname||!u.pathname.includes("?"),Yo("?","pathname","search",u)),Ge(!u.pathname||!u.pathname.includes("#"),Yo("#","pathname","hash",u)),Ge(!u.search||!u.search.includes("#"),Yo("#","search","hash",u)));let m=s===""||u.pathname==="",f=m?"/":u.pathname,p;if(f==null)p=o;else{let N=l.length-1;if(!c&&f.startsWith("..")){let C=f.split("/");for(;C[0]==="..";)C.shift(),N-=1;u.pathname=C.join("/")}p=N>=0?l[N]:"/"}let g=Nh(u,p),v=f&&f!=="/"&&f.endsWith("/"),b=(m||f===".")&&o.endsWith("/");return!g.pathname.endsWith("/")&&(v||b)&&(g.pathname+="/"),g}const _r=s=>s.join("/").replace(/\/\/+/g,"/"),Eh=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),Ch=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,Th=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function Ah(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}const cm=["post","put","patch","delete"];new Set(cm);const Oh=["get",...cm];new Set(Oh);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ws(){return ws=Object.assign?Object.assign.bind():function(s){for(var l=1;l<arguments.length;l++){var o=arguments[l];for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(s[c]=o[c])}return s},ws.apply(this,arguments)}const ki=y.createContext(null),Rh=y.createContext(null),Dr=y.createContext(null),Wa=y.createContext(null),dr=y.createContext({outlet:null,matches:[],isDataRoute:!1}),dm=y.createContext(null);function Ph(s,l){let{relative:o}=l===void 0?{}:l;An()||Ge(!1);let{basename:c,navigator:u}=y.useContext(Dr),{hash:m,pathname:f,search:p}=mm(s,{relative:o}),g=f;return c!=="/"&&(g=f==="/"?c:_r([c,f])),u.createHref({pathname:g,search:p,hash:m})}function An(){return y.useContext(Wa)!=null}function tn(){return An()||Ge(!1),y.useContext(Wa).location}function um(s){y.useContext(Dr).static||y.useLayoutEffect(s)}function Ir(){let{isDataRoute:s}=y.useContext(dr);return s?Wh():_h()}function _h(){An()||Ge(!1);let s=y.useContext(ki),{basename:l,future:o,navigator:c}=y.useContext(Dr),{matches:u}=y.useContext(dr),{pathname:m}=tn(),f=JSON.stringify(wi(u,o.v7_relativeSplatPath)),p=y.useRef(!1);return um(()=>{p.current=!0}),y.useCallback(function(v,b){if(b===void 0&&(b={}),!p.current)return;if(typeof v=="number"){c.go(v);return}let N=Ni(v,JSON.parse(f),m,b.relative==="path");s==null&&l!=="/"&&(N.pathname=N.pathname==="/"?l:_r([l,N.pathname])),(b.replace?c.replace:c.push)(N,b.state,b)},[l,c,f,m,s])}const Dh=y.createContext(null);function Ih(s){let l=y.useContext(dr).outlet;return l&&y.createElement(Dh.Provider,{value:s},l)}function mm(s,l){let{relative:o}=l===void 0?{}:l,{future:c}=y.useContext(Dr),{matches:u}=y.useContext(dr),{pathname:m}=tn(),f=JSON.stringify(wi(u,c.v7_relativeSplatPath));return y.useMemo(()=>Ni(s,JSON.parse(f),m,o==="path"),[s,f,m,o])}function Lh(s,l){return Mh(s,l)}function Mh(s,l,o,c){An()||Ge(!1);let{navigator:u}=y.useContext(Dr),{matches:m}=y.useContext(dr),f=m[m.length-1],p=f?f.params:{};f&&f.pathname;let g=f?f.pathnameBase:"/";f&&f.route;let v=tn(),b;if(l){var N;let k=typeof l=="string"?Tn(l):l;g==="/"||(N=k.pathname)!=null&&N.startsWith(g)||Ge(!1),b=k}else b=v;let C=b.pathname||"/",P=C;if(g!=="/"){let k=g.replace(/^\//,"").split("/");P="/"+C.replace(/^\//,"").split("/").slice(k.length).join("/")}let E=ih(s,{pathname:P}),_=$h(E&&E.map(k=>Object.assign({},k,{params:Object.assign({},p,k.params),pathname:_r([g,u.encodeLocation?u.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?g:_r([g,u.encodeLocation?u.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),m,o,c);return l&&_?y.createElement(Wa.Provider,{value:{location:ws({pathname:"/",search:"",hash:"",state:null,key:"default"},b),navigationType:Pr.Pop}},_):_}function Fh(){let s=Gh(),l=Ah(s)?s.status+" "+s.statusText:s instanceof Error?s.message:JSON.stringify(s),o=s instanceof Error?s.stack:null,u={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},l),o?y.createElement("pre",{style:u},o):null,null)}const Uh=y.createElement(Fh,null);class zh extends y.Component{constructor(l){super(l),this.state={location:l.location,revalidation:l.revalidation,error:l.error}}static getDerivedStateFromError(l){return{error:l}}static getDerivedStateFromProps(l,o){return o.location!==l.location||o.revalidation!=="idle"&&l.revalidation==="idle"?{error:l.error,location:l.location,revalidation:l.revalidation}:{error:l.error!==void 0?l.error:o.error,location:o.location,revalidation:l.revalidation||o.revalidation}}componentDidCatch(l,o){console.error("React Router caught the following error during render",l,o)}render(){return this.state.error!==void 0?y.createElement(dr.Provider,{value:this.props.routeContext},y.createElement(dm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Bh(s){let{routeContext:l,match:o,children:c}=s,u=y.useContext(ki);return u&&u.static&&u.staticContext&&(o.route.errorElement||o.route.ErrorBoundary)&&(u.staticContext._deepestRenderedBoundaryId=o.route.id),y.createElement(dr.Provider,{value:l},c)}function $h(s,l,o,c){var u;if(l===void 0&&(l=[]),o===void 0&&(o=null),c===void 0&&(c=null),s==null){var m;if(!o)return null;if(o.errors)s=o.matches;else if((m=c)!=null&&m.v7_partialHydration&&l.length===0&&!o.initialized&&o.matches.length>0)s=o.matches;else return null}let f=s,p=(u=o)==null?void 0:u.errors;if(p!=null){let b=f.findIndex(N=>N.route.id&&p?.[N.route.id]!==void 0);b>=0||Ge(!1),f=f.slice(0,Math.min(f.length,b+1))}let g=!1,v=-1;if(o&&c&&c.v7_partialHydration)for(let b=0;b<f.length;b++){let N=f[b];if((N.route.HydrateFallback||N.route.hydrateFallbackElement)&&(v=b),N.route.id){let{loaderData:C,errors:P}=o,E=N.route.loader&&C[N.route.id]===void 0&&(!P||P[N.route.id]===void 0);if(N.route.lazy||E){g=!0,v>=0?f=f.slice(0,v+1):f=[f[0]];break}}}return f.reduceRight((b,N,C)=>{let P,E=!1,_=null,k=null;o&&(P=p&&N.route.id?p[N.route.id]:void 0,_=N.route.errorElement||Uh,g&&(v<0&&C===0?(qh("route-fallback"),E=!0,k=null):v===C&&(E=!0,k=N.route.hydrateFallbackElement||null)));let J=l.concat(f.slice(0,C+1)),O=()=>{let F;return P?F=_:E?F=k:N.route.Component?F=y.createElement(N.route.Component,null):N.route.element?F=N.route.element:F=b,y.createElement(Bh,{match:N,routeContext:{outlet:b,matches:J,isDataRoute:o!=null},children:F})};return o&&(N.route.ErrorBoundary||N.route.errorElement||C===0)?y.createElement(zh,{location:o.location,revalidation:o.revalidation,component:_,error:P,children:O(),routeContext:{outlet:null,matches:J,isDataRoute:!0}}):O()},null)}var fm=function(s){return s.UseBlocker="useBlocker",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s}(fm||{}),pm=function(s){return s.UseBlocker="useBlocker",s.UseLoaderData="useLoaderData",s.UseActionData="useActionData",s.UseRouteError="useRouteError",s.UseNavigation="useNavigation",s.UseRouteLoaderData="useRouteLoaderData",s.UseMatches="useMatches",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s.UseRouteId="useRouteId",s}(pm||{});function Jh(s){let l=y.useContext(ki);return l||Ge(!1),l}function Vh(s){let l=y.useContext(Rh);return l||Ge(!1),l}function Hh(s){let l=y.useContext(dr);return l||Ge(!1),l}function hm(s){let l=Hh(),o=l.matches[l.matches.length-1];return o.route.id||Ge(!1),o.route.id}function Gh(){var s;let l=y.useContext(dm),o=Vh(),c=hm();return l!==void 0?l:(s=o.errors)==null?void 0:s[c]}function Wh(){let{router:s}=Jh(fm.UseNavigateStable),l=hm(pm.UseNavigateStable),o=y.useRef(!1);return um(()=>{o.current=!0}),y.useCallback(function(u,m){m===void 0&&(m={}),o.current&&(typeof u=="number"?s.navigate(u):s.navigate(u,ws({fromRouteId:l},m)))},[s,l])}const Du={};function qh(s,l,o){Du[s]||(Du[s]=!0)}function Kh(s,l){s?.v7_startTransition,s?.v7_relativeSplatPath}function ni(s){let{to:l,replace:o,state:c,relative:u}=s;An()||Ge(!1);let{future:m,static:f}=y.useContext(Dr),{matches:p}=y.useContext(dr),{pathname:g}=tn(),v=Ir(),b=Ni(l,wi(p,m.v7_relativeSplatPath),g,u==="path"),N=JSON.stringify(b);return y.useEffect(()=>v(JSON.parse(N),{replace:o,state:c,relative:u}),[v,N,u,o,c]),null}function Qh(s){return Ih(s.context)}function ut(s){Ge(!1)}function Yh(s){let{basename:l="/",children:o=null,location:c,navigationType:u=Pr.Pop,navigator:m,static:f=!1,future:p}=s;An()&&Ge(!1);let g=l.replace(/^\/*/,"/"),v=y.useMemo(()=>({basename:g,navigator:m,static:f,future:ws({v7_relativeSplatPath:!1},p)}),[g,p,m,f]);typeof c=="string"&&(c=Tn(c));let{pathname:b="/",search:N="",hash:C="",state:P=null,key:E="default"}=c,_=y.useMemo(()=>{let k=ji(b,g);return k==null?null:{location:{pathname:k,search:N,hash:C,state:P,key:E},navigationType:u}},[g,b,N,C,P,E,u]);return _==null?null:y.createElement(Dr.Provider,{value:v},y.createElement(Wa.Provider,{children:o,value:_}))}function Xh(s){let{children:l,location:o}=s;return Lh(si(l),o)}new Promise(()=>{});function si(s,l){l===void 0&&(l=[]);let o=[];return y.Children.forEach(s,(c,u)=>{if(!y.isValidElement(c))return;let m=[...l,u];if(c.type===y.Fragment){o.push.apply(o,si(c.props.children,m));return}c.type!==ut&&Ge(!1),!c.props.index||!c.props.children||Ge(!1);let f={id:c.props.id||m.join("-"),caseSensitive:c.props.caseSensitive,element:c.props.element,Component:c.props.Component,index:c.props.index,path:c.props.path,loader:c.props.loader,action:c.props.action,errorElement:c.props.errorElement,ErrorBoundary:c.props.ErrorBoundary,hasErrorBoundary:c.props.ErrorBoundary!=null||c.props.errorElement!=null,shouldRevalidate:c.props.shouldRevalidate,handle:c.props.handle,lazy:c.props.lazy};c.props.children&&(f.children=si(c.props.children,m)),o.push(f)}),o}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ai(){return ai=Object.assign?Object.assign.bind():function(s){for(var l=1;l<arguments.length;l++){var o=arguments[l];for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(s[c]=o[c])}return s},ai.apply(this,arguments)}function Zh(s,l){if(s==null)return{};var o={},c=Object.keys(s),u,m;for(m=0;m<c.length;m++)u=c[m],!(l.indexOf(u)>=0)&&(o[u]=s[u]);return o}function eg(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function tg(s,l){return s.button===0&&(!l||l==="_self")&&!eg(s)}function li(s){return s===void 0&&(s=""),new URLSearchParams(typeof s=="string"||Array.isArray(s)||s instanceof URLSearchParams?s:Object.keys(s).reduce((l,o)=>{let c=s[o];return l.concat(Array.isArray(c)?c.map(u=>[o,u]):[[o,c]])},[]))}function rg(s,l){let o=li(s);return l&&l.forEach((c,u)=>{o.has(u)||l.getAll(u).forEach(m=>{o.append(u,m)})}),o}const ng=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],sg="6";try{window.__reactRouterVersion=sg}catch{}const ag="startTransition",Iu=Xp[ag];function lg(s){let{basename:l,children:o,future:c,window:u}=s,m=y.useRef();m.current==null&&(m.current=ah({window:u,v5Compat:!0}));let f=m.current,[p,g]=y.useState({action:f.action,location:f.location}),{v7_startTransition:v}=c||{},b=y.useCallback(N=>{v&&Iu?Iu(()=>g(N)):g(N)},[g,v]);return y.useLayoutEffect(()=>f.listen(b),[f,b]),y.useEffect(()=>Kh(c),[c]),y.createElement(Yh,{basename:l,children:o,location:p.location,navigationType:p.action,navigator:f,future:c})}const og=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ig=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,oi=y.forwardRef(function(l,o){let{onClick:c,relative:u,reloadDocument:m,replace:f,state:p,target:g,to:v,preventScrollReset:b,viewTransition:N}=l,C=Zh(l,ng),{basename:P}=y.useContext(Dr),E,_=!1;if(typeof v=="string"&&ig.test(v)&&(E=v,og))try{let F=new URL(window.location.href),A=v.startsWith("//")?new URL(F.protocol+v):new URL(v),X=ji(A.pathname,P);A.origin===F.origin&&X!=null?v=X+A.search+A.hash:_=!0}catch{}let k=Ph(v,{relative:u}),J=cg(v,{replace:f,state:p,target:g,preventScrollReset:b,relative:u,viewTransition:N});function O(F){c&&c(F),F.defaultPrevented||J(F)}return y.createElement("a",ai({},C,{href:E||k,onClick:_||m?c:O,ref:o,target:g}))});var Lu;(function(s){s.UseScrollRestoration="useScrollRestoration",s.UseSubmit="useSubmit",s.UseSubmitFetcher="useSubmitFetcher",s.UseFetcher="useFetcher",s.useViewTransitionState="useViewTransitionState"})(Lu||(Lu={}));var Mu;(function(s){s.UseFetcher="useFetcher",s.UseFetchers="useFetchers",s.UseScrollRestoration="useScrollRestoration"})(Mu||(Mu={}));function cg(s,l){let{target:o,replace:c,state:u,preventScrollReset:m,relative:f,viewTransition:p}=l===void 0?{}:l,g=Ir(),v=tn(),b=mm(s,{relative:f});return y.useCallback(N=>{if(tg(N,o)){N.preventDefault();let C=c!==void 0?c:$a(v)===$a(b);g(s,{replace:C,state:u,preventScrollReset:m,relative:f,viewTransition:p})}},[v,g,b,c,u,o,s,m,f,p])}function dg(s){let l=y.useRef(li(s)),o=y.useRef(!1),c=tn(),u=y.useMemo(()=>rg(c.search,o.current?null:l.current),[c.search]),m=Ir(),f=y.useCallback((p,g)=>{const v=li(typeof p=="function"?p(u):p);o.current=!0,m("?"+v,g)},[m,u]);return[u,f]}let ug={data:""},mg=s=>typeof window=="object"?((s?s.querySelector("#_goober"):window._goober)||Object.assign((s||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:s||ug,fg=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,pg=/\/\*[^]*?\*\/|  +/g,Fu=/\n+/g,Rr=(s,l)=>{let o="",c="",u="";for(let m in s){let f=s[m];m[0]=="@"?m[1]=="i"?o=m+" "+f+";":c+=m[1]=="f"?Rr(f,m):m+"{"+Rr(f,m[1]=="k"?"":l)+"}":typeof f=="object"?c+=Rr(f,l?l.replace(/([^,])+/g,p=>m.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,g=>/&/.test(g)?g.replace(/&/g,p):p?p+" "+g:g)):m):f!=null&&(m=/^--/.test(m)?m:m.replace(/[A-Z]/g,"-$&").toLowerCase(),u+=Rr.p?Rr.p(m,f):m+":"+f+";")}return o+(l&&u?l+"{"+u+"}":u)+c},lr={},gm=s=>{if(typeof s=="object"){let l="";for(let o in s)l+=o+gm(s[o]);return l}return s},hg=(s,l,o,c,u)=>{let m=gm(s),f=lr[m]||(lr[m]=(g=>{let v=0,b=11;for(;v<g.length;)b=101*b+g.charCodeAt(v++)>>>0;return"go"+b})(m));if(!lr[f]){let g=m!==s?s:(v=>{let b,N,C=[{}];for(;b=fg.exec(v.replace(pg,""));)b[4]?C.shift():b[3]?(N=b[3].replace(Fu," ").trim(),C.unshift(C[0][N]=C[0][N]||{})):C[0][b[1]]=b[2].replace(Fu," ").trim();return C[0]})(s);lr[f]=Rr(u?{["@keyframes "+f]:g}:g,o?"":"."+f)}let p=o&&lr.g?lr.g:null;return o&&(lr.g=lr[f]),((g,v,b,N)=>{N?v.data=v.data.replace(N,g):v.data.indexOf(g)===-1&&(v.data=b?g+v.data:v.data+g)})(lr[f],l,c,p),f},gg=(s,l,o)=>s.reduce((c,u,m)=>{let f=l[m];if(f&&f.call){let p=f(o),g=p&&p.props&&p.props.className||/^go/.test(p)&&p;f=g?"."+g:p&&typeof p=="object"?p.props?"":Rr(p,""):p===!1?"":p}return c+u+(f??"")},"");function qa(s){let l=this||{},o=s.call?s(l.p):s;return hg(o.unshift?o.raw?gg(o,[].slice.call(arguments,1),l.p):o.reduce((c,u)=>Object.assign(c,u&&u.call?u(l.p):u),{}):o,mg(l.target),l.g,l.o,l.k)}let xm,ii,ci;qa.bind({g:1});let ir=qa.bind({k:1});function xg(s,l,o,c){Rr.p=l,xm=s,ii=o,ci=c}function Lr(s,l){let o=this||{};return function(){let c=arguments;function u(m,f){let p=Object.assign({},m),g=p.className||u.className;o.p=Object.assign({theme:ii&&ii()},p),o.o=/ *go\d+/.test(g),p.className=qa.apply(o,c)+(g?" "+g:"");let v=s;return s[0]&&(v=p.as||s,delete p.as),ci&&v[0]&&ci(p),xm(v,p)}return u}}var yg=s=>typeof s=="function",Ja=(s,l)=>yg(s)?s(l):s,vg=(()=>{let s=0;return()=>(++s).toString()})(),ym=(()=>{let s;return()=>{if(s===void 0&&typeof window<"u"){let l=matchMedia("(prefers-reduced-motion: reduce)");s=!l||l.matches}return s}})(),bg=20,vm=(s,l)=>{switch(l.type){case 0:return{...s,toasts:[l.toast,...s.toasts].slice(0,bg)};case 1:return{...s,toasts:s.toasts.map(m=>m.id===l.toast.id?{...m,...l.toast}:m)};case 2:let{toast:o}=l;return vm(s,{type:s.toasts.find(m=>m.id===o.id)?1:0,toast:o});case 3:let{toastId:c}=l;return{...s,toasts:s.toasts.map(m=>m.id===c||c===void 0?{...m,dismissed:!0,visible:!1}:m)};case 4:return l.toastId===void 0?{...s,toasts:[]}:{...s,toasts:s.toasts.filter(m=>m.id!==l.toastId)};case 5:return{...s,pausedAt:l.time};case 6:let u=l.time-(s.pausedAt||0);return{...s,pausedAt:void 0,toasts:s.toasts.map(m=>({...m,pauseDuration:m.pauseDuration+u}))}}},Fa=[],Yr={toasts:[],pausedAt:void 0},rn=s=>{Yr=vm(Yr,s),Fa.forEach(l=>{l(Yr)})},jg={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},wg=(s={})=>{let[l,o]=y.useState(Yr),c=y.useRef(Yr);y.useEffect(()=>(c.current!==Yr&&o(Yr),Fa.push(o),()=>{let m=Fa.indexOf(o);m>-1&&Fa.splice(m,1)}),[]);let u=l.toasts.map(m=>{var f,p,g;return{...s,...s[m.type],...m,removeDelay:m.removeDelay||((f=s[m.type])==null?void 0:f.removeDelay)||s?.removeDelay,duration:m.duration||((p=s[m.type])==null?void 0:p.duration)||s?.duration||jg[m.type],style:{...s.style,...(g=s[m.type])==null?void 0:g.style,...m.style}}});return{...l,toasts:u}},Ng=(s,l="blank",o)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:l,ariaProps:{role:"status","aria-live":"polite"},message:s,pauseDuration:0,...o,id:o?.id||vg()}),ks=s=>(l,o)=>{let c=Ng(l,s,o);return rn({type:2,toast:c}),c.id},yt=(s,l)=>ks("blank")(s,l);yt.error=ks("error");yt.success=ks("success");yt.loading=ks("loading");yt.custom=ks("custom");yt.dismiss=s=>{rn({type:3,toastId:s})};yt.remove=s=>rn({type:4,toastId:s});yt.promise=(s,l,o)=>{let c=yt.loading(l.loading,{...o,...o?.loading});return typeof s=="function"&&(s=s()),s.then(u=>{let m=l.success?Ja(l.success,u):void 0;return m?yt.success(m,{id:c,...o,...o?.success}):yt.dismiss(c),u}).catch(u=>{let m=l.error?Ja(l.error,u):void 0;m?yt.error(m,{id:c,...o,...o?.error}):yt.dismiss(c)}),s};var kg=(s,l)=>{rn({type:1,toast:{id:s,height:l}})},Sg=()=>{rn({type:5,time:Date.now()})},bs=new Map,Eg=1e3,Cg=(s,l=Eg)=>{if(bs.has(s))return;let o=setTimeout(()=>{bs.delete(s),rn({type:4,toastId:s})},l);bs.set(s,o)},Tg=s=>{let{toasts:l,pausedAt:o}=wg(s);y.useEffect(()=>{if(o)return;let m=Date.now(),f=l.map(p=>{if(p.duration===1/0)return;let g=(p.duration||0)+p.pauseDuration-(m-p.createdAt);if(g<0){p.visible&&yt.dismiss(p.id);return}return setTimeout(()=>yt.dismiss(p.id),g)});return()=>{f.forEach(p=>p&&clearTimeout(p))}},[l,o]);let c=y.useCallback(()=>{o&&rn({type:6,time:Date.now()})},[o]),u=y.useCallback((m,f)=>{let{reverseOrder:p=!1,gutter:g=8,defaultPosition:v}=f||{},b=l.filter(P=>(P.position||v)===(m.position||v)&&P.height),N=b.findIndex(P=>P.id===m.id),C=b.filter((P,E)=>E<N&&P.visible).length;return b.filter(P=>P.visible).slice(...p?[C+1]:[0,C]).reduce((P,E)=>P+(E.height||0)+g,0)},[l]);return y.useEffect(()=>{l.forEach(m=>{if(m.dismissed)Cg(m.id,m.removeDelay);else{let f=bs.get(m.id);f&&(clearTimeout(f),bs.delete(m.id))}})},[l]),{toasts:l,handlers:{updateHeight:kg,startPause:Sg,endPause:c,calculateOffset:u}}},Ag=ir`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Og=ir`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Rg=ir`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Pg=Lr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${s=>s.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Ag} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Og} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${s=>s.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Rg} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,_g=ir`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Dg=Lr("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${s=>s.secondary||"#e0e0e0"};
  border-right-color: ${s=>s.primary||"#616161"};
  animation: ${_g} 1s linear infinite;
`,Ig=ir`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Lg=ir`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Mg=Lr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${s=>s.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Ig} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Lg} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${s=>s.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Fg=Lr("div")`
  position: absolute;
`,Ug=Lr("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,zg=ir`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Bg=Lr("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${zg} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,$g=({toast:s})=>{let{icon:l,type:o,iconTheme:c}=s;return l!==void 0?typeof l=="string"?y.createElement(Bg,null,l):l:o==="blank"?null:y.createElement(Ug,null,y.createElement(Dg,{...c}),o!=="loading"&&y.createElement(Fg,null,o==="error"?y.createElement(Pg,{...c}):y.createElement(Mg,{...c})))},Jg=s=>`
0% {transform: translate3d(0,${s*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Vg=s=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${s*-150}%,-1px) scale(.6); opacity:0;}
`,Hg="0%{opacity:0;} 100%{opacity:1;}",Gg="0%{opacity:1;} 100%{opacity:0;}",Wg=Lr("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,qg=Lr("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Kg=(s,l)=>{let o=s.includes("top")?1:-1,[c,u]=ym()?[Hg,Gg]:[Jg(o),Vg(o)];return{animation:l?`${ir(c)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ir(u)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Qg=y.memo(({toast:s,position:l,style:o,children:c})=>{let u=s.height?Kg(s.position||l||"top-center",s.visible):{opacity:0},m=y.createElement($g,{toast:s}),f=y.createElement(qg,{...s.ariaProps},Ja(s.message,s));return y.createElement(Wg,{className:s.className,style:{...u,...o,...s.style}},typeof c=="function"?c({icon:m,message:f}):y.createElement(y.Fragment,null,m,f))});xg(y.createElement);var Yg=({id:s,className:l,style:o,onHeightUpdate:c,children:u})=>{let m=y.useCallback(f=>{if(f){let p=()=>{let g=f.getBoundingClientRect().height;c(s,g)};p(),new MutationObserver(p).observe(f,{subtree:!0,childList:!0,characterData:!0})}},[s,c]);return y.createElement("div",{ref:m,className:l,style:o},u)},Xg=(s,l)=>{let o=s.includes("top"),c=o?{top:0}:{bottom:0},u=s.includes("center")?{justifyContent:"center"}:s.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:ym()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${l*(o?1:-1)}px)`,...c,...u}},Zg=qa`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Ma=16,e0=({reverseOrder:s,position:l="top-center",toastOptions:o,gutter:c,children:u,containerStyle:m,containerClassName:f})=>{let{toasts:p,handlers:g}=Tg(o);return y.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Ma,left:Ma,right:Ma,bottom:Ma,pointerEvents:"none",...m},className:f,onMouseEnter:g.startPause,onMouseLeave:g.endPause},p.map(v=>{let b=v.position||l,N=g.calculateOffset(v,{reverseOrder:s,gutter:c,defaultPosition:l}),C=Xg(b,N);return y.createElement(Yg,{id:v.id,key:v.id,onHeightUpdate:g.updateHeight,className:v.visible?Zg:"",style:C},v.type==="custom"?Ja(v.message,v):u?u(v):y.createElement(Qg,{toast:v,position:b}))}))};function bm(s,l){return function(){return s.apply(l,arguments)}}const{toString:t0}=Object.prototype,{getPrototypeOf:Si}=Object,{iterator:Ka,toStringTag:jm}=Symbol,Qa=(s=>l=>{const o=t0.call(l);return s[o]||(s[o]=o.slice(8,-1).toLowerCase())})(Object.create(null)),$t=s=>(s=s.toLowerCase(),l=>Qa(l)===s),Ya=s=>l=>typeof l===s,{isArray:On}=Array,Ns=Ya("undefined");function r0(s){return s!==null&&!Ns(s)&&s.constructor!==null&&!Ns(s.constructor)&&vt(s.constructor.isBuffer)&&s.constructor.isBuffer(s)}const wm=$t("ArrayBuffer");function n0(s){let l;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?l=ArrayBuffer.isView(s):l=s&&s.buffer&&wm(s.buffer),l}const s0=Ya("string"),vt=Ya("function"),Nm=Ya("number"),Xa=s=>s!==null&&typeof s=="object",a0=s=>s===!0||s===!1,Ua=s=>{if(Qa(s)!=="object")return!1;const l=Si(s);return(l===null||l===Object.prototype||Object.getPrototypeOf(l)===null)&&!(jm in s)&&!(Ka in s)},l0=$t("Date"),o0=$t("File"),i0=$t("Blob"),c0=$t("FileList"),d0=s=>Xa(s)&&vt(s.pipe),u0=s=>{let l;return s&&(typeof FormData=="function"&&s instanceof FormData||vt(s.append)&&((l=Qa(s))==="formdata"||l==="object"&&vt(s.toString)&&s.toString()==="[object FormData]"))},m0=$t("URLSearchParams"),[f0,p0,h0,g0]=["ReadableStream","Request","Response","Headers"].map($t),x0=s=>s.trim?s.trim():s.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ss(s,l,{allOwnKeys:o=!1}={}){if(s===null||typeof s>"u")return;let c,u;if(typeof s!="object"&&(s=[s]),On(s))for(c=0,u=s.length;c<u;c++)l.call(null,s[c],c,s);else{const m=o?Object.getOwnPropertyNames(s):Object.keys(s),f=m.length;let p;for(c=0;c<f;c++)p=m[c],l.call(null,s[p],p,s)}}function km(s,l){l=l.toLowerCase();const o=Object.keys(s);let c=o.length,u;for(;c-- >0;)if(u=o[c],l===u.toLowerCase())return u;return null}const Xr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Sm=s=>!Ns(s)&&s!==Xr;function di(){const{caseless:s}=Sm(this)&&this||{},l={},o=(c,u)=>{const m=s&&km(l,u)||u;Ua(l[m])&&Ua(c)?l[m]=di(l[m],c):Ua(c)?l[m]=di({},c):On(c)?l[m]=c.slice():l[m]=c};for(let c=0,u=arguments.length;c<u;c++)arguments[c]&&Ss(arguments[c],o);return l}const y0=(s,l,o,{allOwnKeys:c}={})=>(Ss(l,(u,m)=>{o&&vt(u)?s[m]=bm(u,o):s[m]=u},{allOwnKeys:c}),s),v0=s=>(s.charCodeAt(0)===65279&&(s=s.slice(1)),s),b0=(s,l,o,c)=>{s.prototype=Object.create(l.prototype,c),s.prototype.constructor=s,Object.defineProperty(s,"super",{value:l.prototype}),o&&Object.assign(s.prototype,o)},j0=(s,l,o,c)=>{let u,m,f;const p={};if(l=l||{},s==null)return l;do{for(u=Object.getOwnPropertyNames(s),m=u.length;m-- >0;)f=u[m],(!c||c(f,s,l))&&!p[f]&&(l[f]=s[f],p[f]=!0);s=o!==!1&&Si(s)}while(s&&(!o||o(s,l))&&s!==Object.prototype);return l},w0=(s,l,o)=>{s=String(s),(o===void 0||o>s.length)&&(o=s.length),o-=l.length;const c=s.indexOf(l,o);return c!==-1&&c===o},N0=s=>{if(!s)return null;if(On(s))return s;let l=s.length;if(!Nm(l))return null;const o=new Array(l);for(;l-- >0;)o[l]=s[l];return o},k0=(s=>l=>s&&l instanceof s)(typeof Uint8Array<"u"&&Si(Uint8Array)),S0=(s,l)=>{const c=(s&&s[Ka]).call(s);let u;for(;(u=c.next())&&!u.done;){const m=u.value;l.call(s,m[0],m[1])}},E0=(s,l)=>{let o;const c=[];for(;(o=s.exec(l))!==null;)c.push(o);return c},C0=$t("HTMLFormElement"),T0=s=>s.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(o,c,u){return c.toUpperCase()+u}),Uu=(({hasOwnProperty:s})=>(l,o)=>s.call(l,o))(Object.prototype),A0=$t("RegExp"),Em=(s,l)=>{const o=Object.getOwnPropertyDescriptors(s),c={};Ss(o,(u,m)=>{let f;(f=l(u,m,s))!==!1&&(c[m]=f||u)}),Object.defineProperties(s,c)},O0=s=>{Em(s,(l,o)=>{if(vt(s)&&["arguments","caller","callee"].indexOf(o)!==-1)return!1;const c=s[o];if(vt(c)){if(l.enumerable=!1,"writable"in l){l.writable=!1;return}l.set||(l.set=()=>{throw Error("Can not rewrite read-only method '"+o+"'")})}})},R0=(s,l)=>{const o={},c=u=>{u.forEach(m=>{o[m]=!0})};return On(s)?c(s):c(String(s).split(l)),o},P0=()=>{},_0=(s,l)=>s!=null&&Number.isFinite(s=+s)?s:l;function D0(s){return!!(s&&vt(s.append)&&s[jm]==="FormData"&&s[Ka])}const I0=s=>{const l=new Array(10),o=(c,u)=>{if(Xa(c)){if(l.indexOf(c)>=0)return;if(!("toJSON"in c)){l[u]=c;const m=On(c)?[]:{};return Ss(c,(f,p)=>{const g=o(f,u+1);!Ns(g)&&(m[p]=g)}),l[u]=void 0,m}}return c};return o(s,0)},L0=$t("AsyncFunction"),M0=s=>s&&(Xa(s)||vt(s))&&vt(s.then)&&vt(s.catch),Cm=((s,l)=>s?setImmediate:l?((o,c)=>(Xr.addEventListener("message",({source:u,data:m})=>{u===Xr&&m===o&&c.length&&c.shift()()},!1),u=>{c.push(u),Xr.postMessage(o,"*")}))(`axios@${Math.random()}`,[]):o=>setTimeout(o))(typeof setImmediate=="function",vt(Xr.postMessage)),F0=typeof queueMicrotask<"u"?queueMicrotask.bind(Xr):typeof process<"u"&&process.nextTick||Cm,U0=s=>s!=null&&vt(s[Ka]),U={isArray:On,isArrayBuffer:wm,isBuffer:r0,isFormData:u0,isArrayBufferView:n0,isString:s0,isNumber:Nm,isBoolean:a0,isObject:Xa,isPlainObject:Ua,isReadableStream:f0,isRequest:p0,isResponse:h0,isHeaders:g0,isUndefined:Ns,isDate:l0,isFile:o0,isBlob:i0,isRegExp:A0,isFunction:vt,isStream:d0,isURLSearchParams:m0,isTypedArray:k0,isFileList:c0,forEach:Ss,merge:di,extend:y0,trim:x0,stripBOM:v0,inherits:b0,toFlatObject:j0,kindOf:Qa,kindOfTest:$t,endsWith:w0,toArray:N0,forEachEntry:S0,matchAll:E0,isHTMLForm:C0,hasOwnProperty:Uu,hasOwnProp:Uu,reduceDescriptors:Em,freezeMethods:O0,toObjectSet:R0,toCamelCase:T0,noop:P0,toFiniteNumber:_0,findKey:km,global:Xr,isContextDefined:Sm,isSpecCompliantForm:D0,toJSONObject:I0,isAsyncFn:L0,isThenable:M0,setImmediate:Cm,asap:F0,isIterable:U0};function Se(s,l,o,c,u){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=s,this.name="AxiosError",l&&(this.code=l),o&&(this.config=o),c&&(this.request=c),u&&(this.response=u,this.status=u.status?u.status:null)}U.inherits(Se,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:U.toJSONObject(this.config),code:this.code,status:this.status}}});const Tm=Se.prototype,Am={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(s=>{Am[s]={value:s}});Object.defineProperties(Se,Am);Object.defineProperty(Tm,"isAxiosError",{value:!0});Se.from=(s,l,o,c,u,m)=>{const f=Object.create(Tm);return U.toFlatObject(s,f,function(g){return g!==Error.prototype},p=>p!=="isAxiosError"),Se.call(f,s.message,l,o,c,u),f.cause=s,f.name=s.name,m&&Object.assign(f,m),f};const z0=null;function ui(s){return U.isPlainObject(s)||U.isArray(s)}function Om(s){return U.endsWith(s,"[]")?s.slice(0,-2):s}function zu(s,l,o){return s?s.concat(l).map(function(u,m){return u=Om(u),!o&&m?"["+u+"]":u}).join(o?".":""):l}function B0(s){return U.isArray(s)&&!s.some(ui)}const $0=U.toFlatObject(U,{},null,function(l){return/^is[A-Z]/.test(l)});function Za(s,l,o){if(!U.isObject(s))throw new TypeError("target must be an object");l=l||new FormData,o=U.toFlatObject(o,{metaTokens:!0,dots:!1,indexes:!1},!1,function(_,k){return!U.isUndefined(k[_])});const c=o.metaTokens,u=o.visitor||b,m=o.dots,f=o.indexes,g=(o.Blob||typeof Blob<"u"&&Blob)&&U.isSpecCompliantForm(l);if(!U.isFunction(u))throw new TypeError("visitor must be a function");function v(E){if(E===null)return"";if(U.isDate(E))return E.toISOString();if(U.isBoolean(E))return E.toString();if(!g&&U.isBlob(E))throw new Se("Blob is not supported. Use a Buffer instead.");return U.isArrayBuffer(E)||U.isTypedArray(E)?g&&typeof Blob=="function"?new Blob([E]):Buffer.from(E):E}function b(E,_,k){let J=E;if(E&&!k&&typeof E=="object"){if(U.endsWith(_,"{}"))_=c?_:_.slice(0,-2),E=JSON.stringify(E);else if(U.isArray(E)&&B0(E)||(U.isFileList(E)||U.endsWith(_,"[]"))&&(J=U.toArray(E)))return _=Om(_),J.forEach(function(F,A){!(U.isUndefined(F)||F===null)&&l.append(f===!0?zu([_],A,m):f===null?_:_+"[]",v(F))}),!1}return ui(E)?!0:(l.append(zu(k,_,m),v(E)),!1)}const N=[],C=Object.assign($0,{defaultVisitor:b,convertValue:v,isVisitable:ui});function P(E,_){if(!U.isUndefined(E)){if(N.indexOf(E)!==-1)throw Error("Circular reference detected in "+_.join("."));N.push(E),U.forEach(E,function(J,O){(!(U.isUndefined(J)||J===null)&&u.call(l,J,U.isString(O)?O.trim():O,_,C))===!0&&P(J,_?_.concat(O):[O])}),N.pop()}}if(!U.isObject(s))throw new TypeError("data must be an object");return P(s),l}function Bu(s){const l={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(s).replace(/[!'()~]|%20|%00/g,function(c){return l[c]})}function Ei(s,l){this._pairs=[],s&&Za(s,this,l)}const Rm=Ei.prototype;Rm.append=function(l,o){this._pairs.push([l,o])};Rm.toString=function(l){const o=l?function(c){return l.call(this,c,Bu)}:Bu;return this._pairs.map(function(u){return o(u[0])+"="+o(u[1])},"").join("&")};function J0(s){return encodeURIComponent(s).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Pm(s,l,o){if(!l)return s;const c=o&&o.encode||J0;U.isFunction(o)&&(o={serialize:o});const u=o&&o.serialize;let m;if(u?m=u(l,o):m=U.isURLSearchParams(l)?l.toString():new Ei(l,o).toString(c),m){const f=s.indexOf("#");f!==-1&&(s=s.slice(0,f)),s+=(s.indexOf("?")===-1?"?":"&")+m}return s}class $u{constructor(){this.handlers=[]}use(l,o,c){return this.handlers.push({fulfilled:l,rejected:o,synchronous:c?c.synchronous:!1,runWhen:c?c.runWhen:null}),this.handlers.length-1}eject(l){this.handlers[l]&&(this.handlers[l]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(l){U.forEach(this.handlers,function(c){c!==null&&l(c)})}}const _m={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},V0=typeof URLSearchParams<"u"?URLSearchParams:Ei,H0=typeof FormData<"u"?FormData:null,G0=typeof Blob<"u"?Blob:null,W0={isBrowser:!0,classes:{URLSearchParams:V0,FormData:H0,Blob:G0},protocols:["http","https","file","blob","url","data"]},Ci=typeof window<"u"&&typeof document<"u",mi=typeof navigator=="object"&&navigator||void 0,q0=Ci&&(!mi||["ReactNative","NativeScript","NS"].indexOf(mi.product)<0),K0=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Q0=Ci&&window.location.href||"http://localhost",Y0=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Ci,hasStandardBrowserEnv:q0,hasStandardBrowserWebWorkerEnv:K0,navigator:mi,origin:Q0},Symbol.toStringTag,{value:"Module"})),it={...Y0,...W0};function X0(s,l){return Za(s,new it.classes.URLSearchParams,Object.assign({visitor:function(o,c,u,m){return it.isNode&&U.isBuffer(o)?(this.append(c,o.toString("base64")),!1):m.defaultVisitor.apply(this,arguments)}},l))}function Z0(s){return U.matchAll(/\w+|\[(\w*)]/g,s).map(l=>l[0]==="[]"?"":l[1]||l[0])}function ex(s){const l={},o=Object.keys(s);let c;const u=o.length;let m;for(c=0;c<u;c++)m=o[c],l[m]=s[m];return l}function Dm(s){function l(o,c,u,m){let f=o[m++];if(f==="__proto__")return!0;const p=Number.isFinite(+f),g=m>=o.length;return f=!f&&U.isArray(u)?u.length:f,g?(U.hasOwnProp(u,f)?u[f]=[u[f],c]:u[f]=c,!p):((!u[f]||!U.isObject(u[f]))&&(u[f]=[]),l(o,c,u[f],m)&&U.isArray(u[f])&&(u[f]=ex(u[f])),!p)}if(U.isFormData(s)&&U.isFunction(s.entries)){const o={};return U.forEachEntry(s,(c,u)=>{l(Z0(c),u,o,0)}),o}return null}function tx(s,l,o){if(U.isString(s))try{return(l||JSON.parse)(s),U.trim(s)}catch(c){if(c.name!=="SyntaxError")throw c}return(o||JSON.stringify)(s)}const Es={transitional:_m,adapter:["xhr","http","fetch"],transformRequest:[function(l,o){const c=o.getContentType()||"",u=c.indexOf("application/json")>-1,m=U.isObject(l);if(m&&U.isHTMLForm(l)&&(l=new FormData(l)),U.isFormData(l))return u?JSON.stringify(Dm(l)):l;if(U.isArrayBuffer(l)||U.isBuffer(l)||U.isStream(l)||U.isFile(l)||U.isBlob(l)||U.isReadableStream(l))return l;if(U.isArrayBufferView(l))return l.buffer;if(U.isURLSearchParams(l))return o.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),l.toString();let p;if(m){if(c.indexOf("application/x-www-form-urlencoded")>-1)return X0(l,this.formSerializer).toString();if((p=U.isFileList(l))||c.indexOf("multipart/form-data")>-1){const g=this.env&&this.env.FormData;return Za(p?{"files[]":l}:l,g&&new g,this.formSerializer)}}return m||u?(o.setContentType("application/json",!1),tx(l)):l}],transformResponse:[function(l){const o=this.transitional||Es.transitional,c=o&&o.forcedJSONParsing,u=this.responseType==="json";if(U.isResponse(l)||U.isReadableStream(l))return l;if(l&&U.isString(l)&&(c&&!this.responseType||u)){const f=!(o&&o.silentJSONParsing)&&u;try{return JSON.parse(l)}catch(p){if(f)throw p.name==="SyntaxError"?Se.from(p,Se.ERR_BAD_RESPONSE,this,null,this.response):p}}return l}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:it.classes.FormData,Blob:it.classes.Blob},validateStatus:function(l){return l>=200&&l<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};U.forEach(["delete","get","head","post","put","patch"],s=>{Es.headers[s]={}});const rx=U.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),nx=s=>{const l={};let o,c,u;return s&&s.split(`
`).forEach(function(f){u=f.indexOf(":"),o=f.substring(0,u).trim().toLowerCase(),c=f.substring(u+1).trim(),!(!o||l[o]&&rx[o])&&(o==="set-cookie"?l[o]?l[o].push(c):l[o]=[c]:l[o]=l[o]?l[o]+", "+c:c)}),l},Ju=Symbol("internals");function ys(s){return s&&String(s).trim().toLowerCase()}function za(s){return s===!1||s==null?s:U.isArray(s)?s.map(za):String(s)}function sx(s){const l=Object.create(null),o=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let c;for(;c=o.exec(s);)l[c[1]]=c[2];return l}const ax=s=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(s.trim());function Xo(s,l,o,c,u){if(U.isFunction(c))return c.call(this,l,o);if(u&&(l=o),!!U.isString(l)){if(U.isString(c))return l.indexOf(c)!==-1;if(U.isRegExp(c))return c.test(l)}}function lx(s){return s.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(l,o,c)=>o.toUpperCase()+c)}function ox(s,l){const o=U.toCamelCase(" "+l);["get","set","has"].forEach(c=>{Object.defineProperty(s,c+o,{value:function(u,m,f){return this[c].call(this,l,u,m,f)},configurable:!0})})}let bt=class{constructor(l){l&&this.set(l)}set(l,o,c){const u=this;function m(p,g,v){const b=ys(g);if(!b)throw new Error("header name must be a non-empty string");const N=U.findKey(u,b);(!N||u[N]===void 0||v===!0||v===void 0&&u[N]!==!1)&&(u[N||g]=za(p))}const f=(p,g)=>U.forEach(p,(v,b)=>m(v,b,g));if(U.isPlainObject(l)||l instanceof this.constructor)f(l,o);else if(U.isString(l)&&(l=l.trim())&&!ax(l))f(nx(l),o);else if(U.isObject(l)&&U.isIterable(l)){let p={},g,v;for(const b of l){if(!U.isArray(b))throw TypeError("Object iterator must return a key-value pair");p[v=b[0]]=(g=p[v])?U.isArray(g)?[...g,b[1]]:[g,b[1]]:b[1]}f(p,o)}else l!=null&&m(o,l,c);return this}get(l,o){if(l=ys(l),l){const c=U.findKey(this,l);if(c){const u=this[c];if(!o)return u;if(o===!0)return sx(u);if(U.isFunction(o))return o.call(this,u,c);if(U.isRegExp(o))return o.exec(u);throw new TypeError("parser must be boolean|regexp|function")}}}has(l,o){if(l=ys(l),l){const c=U.findKey(this,l);return!!(c&&this[c]!==void 0&&(!o||Xo(this,this[c],c,o)))}return!1}delete(l,o){const c=this;let u=!1;function m(f){if(f=ys(f),f){const p=U.findKey(c,f);p&&(!o||Xo(c,c[p],p,o))&&(delete c[p],u=!0)}}return U.isArray(l)?l.forEach(m):m(l),u}clear(l){const o=Object.keys(this);let c=o.length,u=!1;for(;c--;){const m=o[c];(!l||Xo(this,this[m],m,l,!0))&&(delete this[m],u=!0)}return u}normalize(l){const o=this,c={};return U.forEach(this,(u,m)=>{const f=U.findKey(c,m);if(f){o[f]=za(u),delete o[m];return}const p=l?lx(m):String(m).trim();p!==m&&delete o[m],o[p]=za(u),c[p]=!0}),this}concat(...l){return this.constructor.concat(this,...l)}toJSON(l){const o=Object.create(null);return U.forEach(this,(c,u)=>{c!=null&&c!==!1&&(o[u]=l&&U.isArray(c)?c.join(", "):c)}),o}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([l,o])=>l+": "+o).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(l){return l instanceof this?l:new this(l)}static concat(l,...o){const c=new this(l);return o.forEach(u=>c.set(u)),c}static accessor(l){const c=(this[Ju]=this[Ju]={accessors:{}}).accessors,u=this.prototype;function m(f){const p=ys(f);c[p]||(ox(u,f),c[p]=!0)}return U.isArray(l)?l.forEach(m):m(l),this}};bt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);U.reduceDescriptors(bt.prototype,({value:s},l)=>{let o=l[0].toUpperCase()+l.slice(1);return{get:()=>s,set(c){this[o]=c}}});U.freezeMethods(bt);function Zo(s,l){const o=this||Es,c=l||o,u=bt.from(c.headers);let m=c.data;return U.forEach(s,function(p){m=p.call(o,m,u.normalize(),l?l.status:void 0)}),u.normalize(),m}function Im(s){return!!(s&&s.__CANCEL__)}function Rn(s,l,o){Se.call(this,s??"canceled",Se.ERR_CANCELED,l,o),this.name="CanceledError"}U.inherits(Rn,Se,{__CANCEL__:!0});function Lm(s,l,o){const c=o.config.validateStatus;!o.status||!c||c(o.status)?s(o):l(new Se("Request failed with status code "+o.status,[Se.ERR_BAD_REQUEST,Se.ERR_BAD_RESPONSE][Math.floor(o.status/100)-4],o.config,o.request,o))}function ix(s){const l=/^([-+\w]{1,25})(:?\/\/|:)/.exec(s);return l&&l[1]||""}function cx(s,l){s=s||10;const o=new Array(s),c=new Array(s);let u=0,m=0,f;return l=l!==void 0?l:1e3,function(g){const v=Date.now(),b=c[m];f||(f=v),o[u]=g,c[u]=v;let N=m,C=0;for(;N!==u;)C+=o[N++],N=N%s;if(u=(u+1)%s,u===m&&(m=(m+1)%s),v-f<l)return;const P=b&&v-b;return P?Math.round(C*1e3/P):void 0}}function dx(s,l){let o=0,c=1e3/l,u,m;const f=(v,b=Date.now())=>{o=b,u=null,m&&(clearTimeout(m),m=null),s.apply(null,v)};return[(...v)=>{const b=Date.now(),N=b-o;N>=c?f(v,b):(u=v,m||(m=setTimeout(()=>{m=null,f(u)},c-N)))},()=>u&&f(u)]}const Va=(s,l,o=3)=>{let c=0;const u=cx(50,250);return dx(m=>{const f=m.loaded,p=m.lengthComputable?m.total:void 0,g=f-c,v=u(g),b=f<=p;c=f;const N={loaded:f,total:p,progress:p?f/p:void 0,bytes:g,rate:v||void 0,estimated:v&&p&&b?(p-f)/v:void 0,event:m,lengthComputable:p!=null,[l?"download":"upload"]:!0};s(N)},o)},Vu=(s,l)=>{const o=s!=null;return[c=>l[0]({lengthComputable:o,total:s,loaded:c}),l[1]]},Hu=s=>(...l)=>U.asap(()=>s(...l)),ux=it.hasStandardBrowserEnv?((s,l)=>o=>(o=new URL(o,it.origin),s.protocol===o.protocol&&s.host===o.host&&(l||s.port===o.port)))(new URL(it.origin),it.navigator&&/(msie|trident)/i.test(it.navigator.userAgent)):()=>!0,mx=it.hasStandardBrowserEnv?{write(s,l,o,c,u,m){const f=[s+"="+encodeURIComponent(l)];U.isNumber(o)&&f.push("expires="+new Date(o).toGMTString()),U.isString(c)&&f.push("path="+c),U.isString(u)&&f.push("domain="+u),m===!0&&f.push("secure"),document.cookie=f.join("; ")},read(s){const l=document.cookie.match(new RegExp("(^|;\\s*)("+s+")=([^;]*)"));return l?decodeURIComponent(l[3]):null},remove(s){this.write(s,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function fx(s){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(s)}function px(s,l){return l?s.replace(/\/?\/$/,"")+"/"+l.replace(/^\/+/,""):s}function Mm(s,l,o){let c=!fx(l);return s&&(c||o==!1)?px(s,l):l}const Gu=s=>s instanceof bt?{...s}:s;function en(s,l){l=l||{};const o={};function c(v,b,N,C){return U.isPlainObject(v)&&U.isPlainObject(b)?U.merge.call({caseless:C},v,b):U.isPlainObject(b)?U.merge({},b):U.isArray(b)?b.slice():b}function u(v,b,N,C){if(U.isUndefined(b)){if(!U.isUndefined(v))return c(void 0,v,N,C)}else return c(v,b,N,C)}function m(v,b){if(!U.isUndefined(b))return c(void 0,b)}function f(v,b){if(U.isUndefined(b)){if(!U.isUndefined(v))return c(void 0,v)}else return c(void 0,b)}function p(v,b,N){if(N in l)return c(v,b);if(N in s)return c(void 0,v)}const g={url:m,method:m,data:m,baseURL:f,transformRequest:f,transformResponse:f,paramsSerializer:f,timeout:f,timeoutMessage:f,withCredentials:f,withXSRFToken:f,adapter:f,responseType:f,xsrfCookieName:f,xsrfHeaderName:f,onUploadProgress:f,onDownloadProgress:f,decompress:f,maxContentLength:f,maxBodyLength:f,beforeRedirect:f,transport:f,httpAgent:f,httpsAgent:f,cancelToken:f,socketPath:f,responseEncoding:f,validateStatus:p,headers:(v,b,N)=>u(Gu(v),Gu(b),N,!0)};return U.forEach(Object.keys(Object.assign({},s,l)),function(b){const N=g[b]||u,C=N(s[b],l[b],b);U.isUndefined(C)&&N!==p||(o[b]=C)}),o}const Fm=s=>{const l=en({},s);let{data:o,withXSRFToken:c,xsrfHeaderName:u,xsrfCookieName:m,headers:f,auth:p}=l;l.headers=f=bt.from(f),l.url=Pm(Mm(l.baseURL,l.url,l.allowAbsoluteUrls),s.params,s.paramsSerializer),p&&f.set("Authorization","Basic "+btoa((p.username||"")+":"+(p.password?unescape(encodeURIComponent(p.password)):"")));let g;if(U.isFormData(o)){if(it.hasStandardBrowserEnv||it.hasStandardBrowserWebWorkerEnv)f.setContentType(void 0);else if((g=f.getContentType())!==!1){const[v,...b]=g?g.split(";").map(N=>N.trim()).filter(Boolean):[];f.setContentType([v||"multipart/form-data",...b].join("; "))}}if(it.hasStandardBrowserEnv&&(c&&U.isFunction(c)&&(c=c(l)),c||c!==!1&&ux(l.url))){const v=u&&m&&mx.read(m);v&&f.set(u,v)}return l},hx=typeof XMLHttpRequest<"u",gx=hx&&function(s){return new Promise(function(o,c){const u=Fm(s);let m=u.data;const f=bt.from(u.headers).normalize();let{responseType:p,onUploadProgress:g,onDownloadProgress:v}=u,b,N,C,P,E;function _(){P&&P(),E&&E(),u.cancelToken&&u.cancelToken.unsubscribe(b),u.signal&&u.signal.removeEventListener("abort",b)}let k=new XMLHttpRequest;k.open(u.method.toUpperCase(),u.url,!0),k.timeout=u.timeout;function J(){if(!k)return;const F=bt.from("getAllResponseHeaders"in k&&k.getAllResponseHeaders()),X={data:!p||p==="text"||p==="json"?k.responseText:k.response,status:k.status,statusText:k.statusText,headers:F,config:s,request:k};Lm(function(we){o(we),_()},function(we){c(we),_()},X),k=null}"onloadend"in k?k.onloadend=J:k.onreadystatechange=function(){!k||k.readyState!==4||k.status===0&&!(k.responseURL&&k.responseURL.indexOf("file:")===0)||setTimeout(J)},k.onabort=function(){k&&(c(new Se("Request aborted",Se.ECONNABORTED,s,k)),k=null)},k.onerror=function(){c(new Se("Network Error",Se.ERR_NETWORK,s,k)),k=null},k.ontimeout=function(){let A=u.timeout?"timeout of "+u.timeout+"ms exceeded":"timeout exceeded";const X=u.transitional||_m;u.timeoutErrorMessage&&(A=u.timeoutErrorMessage),c(new Se(A,X.clarifyTimeoutError?Se.ETIMEDOUT:Se.ECONNABORTED,s,k)),k=null},m===void 0&&f.setContentType(null),"setRequestHeader"in k&&U.forEach(f.toJSON(),function(A,X){k.setRequestHeader(X,A)}),U.isUndefined(u.withCredentials)||(k.withCredentials=!!u.withCredentials),p&&p!=="json"&&(k.responseType=u.responseType),v&&([C,E]=Va(v,!0),k.addEventListener("progress",C)),g&&k.upload&&([N,P]=Va(g),k.upload.addEventListener("progress",N),k.upload.addEventListener("loadend",P)),(u.cancelToken||u.signal)&&(b=F=>{k&&(c(!F||F.type?new Rn(null,s,k):F),k.abort(),k=null)},u.cancelToken&&u.cancelToken.subscribe(b),u.signal&&(u.signal.aborted?b():u.signal.addEventListener("abort",b)));const O=ix(u.url);if(O&&it.protocols.indexOf(O)===-1){c(new Se("Unsupported protocol "+O+":",Se.ERR_BAD_REQUEST,s));return}k.send(m||null)})},xx=(s,l)=>{const{length:o}=s=s?s.filter(Boolean):[];if(l||o){let c=new AbortController,u;const m=function(v){if(!u){u=!0,p();const b=v instanceof Error?v:this.reason;c.abort(b instanceof Se?b:new Rn(b instanceof Error?b.message:b))}};let f=l&&setTimeout(()=>{f=null,m(new Se(`timeout ${l} of ms exceeded`,Se.ETIMEDOUT))},l);const p=()=>{s&&(f&&clearTimeout(f),f=null,s.forEach(v=>{v.unsubscribe?v.unsubscribe(m):v.removeEventListener("abort",m)}),s=null)};s.forEach(v=>v.addEventListener("abort",m));const{signal:g}=c;return g.unsubscribe=()=>U.asap(p),g}},yx=function*(s,l){let o=s.byteLength;if(o<l){yield s;return}let c=0,u;for(;c<o;)u=c+l,yield s.slice(c,u),c=u},vx=async function*(s,l){for await(const o of bx(s))yield*yx(o,l)},bx=async function*(s){if(s[Symbol.asyncIterator]){yield*s;return}const l=s.getReader();try{for(;;){const{done:o,value:c}=await l.read();if(o)break;yield c}}finally{await l.cancel()}},Wu=(s,l,o,c)=>{const u=vx(s,l);let m=0,f,p=g=>{f||(f=!0,c&&c(g))};return new ReadableStream({async pull(g){try{const{done:v,value:b}=await u.next();if(v){p(),g.close();return}let N=b.byteLength;if(o){let C=m+=N;o(C)}g.enqueue(new Uint8Array(b))}catch(v){throw p(v),v}},cancel(g){return p(g),u.return()}},{highWaterMark:2})},el=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Um=el&&typeof ReadableStream=="function",jx=el&&(typeof TextEncoder=="function"?(s=>l=>s.encode(l))(new TextEncoder):async s=>new Uint8Array(await new Response(s).arrayBuffer())),zm=(s,...l)=>{try{return!!s(...l)}catch{return!1}},wx=Um&&zm(()=>{let s=!1;const l=new Request(it.origin,{body:new ReadableStream,method:"POST",get duplex(){return s=!0,"half"}}).headers.has("Content-Type");return s&&!l}),qu=64*1024,fi=Um&&zm(()=>U.isReadableStream(new Response("").body)),Ha={stream:fi&&(s=>s.body)};el&&(s=>{["text","arrayBuffer","blob","formData","stream"].forEach(l=>{!Ha[l]&&(Ha[l]=U.isFunction(s[l])?o=>o[l]():(o,c)=>{throw new Se(`Response type '${l}' is not supported`,Se.ERR_NOT_SUPPORT,c)})})})(new Response);const Nx=async s=>{if(s==null)return 0;if(U.isBlob(s))return s.size;if(U.isSpecCompliantForm(s))return(await new Request(it.origin,{method:"POST",body:s}).arrayBuffer()).byteLength;if(U.isArrayBufferView(s)||U.isArrayBuffer(s))return s.byteLength;if(U.isURLSearchParams(s)&&(s=s+""),U.isString(s))return(await jx(s)).byteLength},kx=async(s,l)=>{const o=U.toFiniteNumber(s.getContentLength());return o??Nx(l)},Sx=el&&(async s=>{let{url:l,method:o,data:c,signal:u,cancelToken:m,timeout:f,onDownloadProgress:p,onUploadProgress:g,responseType:v,headers:b,withCredentials:N="same-origin",fetchOptions:C}=Fm(s);v=v?(v+"").toLowerCase():"text";let P=xx([u,m&&m.toAbortSignal()],f),E;const _=P&&P.unsubscribe&&(()=>{P.unsubscribe()});let k;try{if(g&&wx&&o!=="get"&&o!=="head"&&(k=await kx(b,c))!==0){let X=new Request(l,{method:"POST",body:c,duplex:"half"}),H;if(U.isFormData(c)&&(H=X.headers.get("content-type"))&&b.setContentType(H),X.body){const[we,te]=Vu(k,Va(Hu(g)));c=Wu(X.body,qu,we,te)}}U.isString(N)||(N=N?"include":"omit");const J="credentials"in Request.prototype;E=new Request(l,{...C,signal:P,method:o.toUpperCase(),headers:b.normalize().toJSON(),body:c,duplex:"half",credentials:J?N:void 0});let O=await fetch(E,C);const F=fi&&(v==="stream"||v==="response");if(fi&&(p||F&&_)){const X={};["status","statusText","headers"].forEach(le=>{X[le]=O[le]});const H=U.toFiniteNumber(O.headers.get("content-length")),[we,te]=p&&Vu(H,Va(Hu(p),!0))||[];O=new Response(Wu(O.body,qu,we,()=>{te&&te(),_&&_()}),X)}v=v||"text";let A=await Ha[U.findKey(Ha,v)||"text"](O,s);return!F&&_&&_(),await new Promise((X,H)=>{Lm(X,H,{data:A,headers:bt.from(O.headers),status:O.status,statusText:O.statusText,config:s,request:E})})}catch(J){throw _&&_(),J&&J.name==="TypeError"&&/Load failed|fetch/i.test(J.message)?Object.assign(new Se("Network Error",Se.ERR_NETWORK,s,E),{cause:J.cause||J}):Se.from(J,J&&J.code,s,E)}}),pi={http:z0,xhr:gx,fetch:Sx};U.forEach(pi,(s,l)=>{if(s){try{Object.defineProperty(s,"name",{value:l})}catch{}Object.defineProperty(s,"adapterName",{value:l})}});const Ku=s=>`- ${s}`,Ex=s=>U.isFunction(s)||s===null||s===!1,Bm={getAdapter:s=>{s=U.isArray(s)?s:[s];const{length:l}=s;let o,c;const u={};for(let m=0;m<l;m++){o=s[m];let f;if(c=o,!Ex(o)&&(c=pi[(f=String(o)).toLowerCase()],c===void 0))throw new Se(`Unknown adapter '${f}'`);if(c)break;u[f||"#"+m]=c}if(!c){const m=Object.entries(u).map(([p,g])=>`adapter ${p} `+(g===!1?"is not supported by the environment":"is not available in the build"));let f=l?m.length>1?`since :
`+m.map(Ku).join(`
`):" "+Ku(m[0]):"as no adapter specified";throw new Se("There is no suitable adapter to dispatch the request "+f,"ERR_NOT_SUPPORT")}return c},adapters:pi};function ei(s){if(s.cancelToken&&s.cancelToken.throwIfRequested(),s.signal&&s.signal.aborted)throw new Rn(null,s)}function Qu(s){return ei(s),s.headers=bt.from(s.headers),s.data=Zo.call(s,s.transformRequest),["post","put","patch"].indexOf(s.method)!==-1&&s.headers.setContentType("application/x-www-form-urlencoded",!1),Bm.getAdapter(s.adapter||Es.adapter)(s).then(function(c){return ei(s),c.data=Zo.call(s,s.transformResponse,c),c.headers=bt.from(c.headers),c},function(c){return Im(c)||(ei(s),c&&c.response&&(c.response.data=Zo.call(s,s.transformResponse,c.response),c.response.headers=bt.from(c.response.headers))),Promise.reject(c)})}const $m="1.10.0",tl={};["object","boolean","number","function","string","symbol"].forEach((s,l)=>{tl[s]=function(c){return typeof c===s||"a"+(l<1?"n ":" ")+s}});const Yu={};tl.transitional=function(l,o,c){function u(m,f){return"[Axios v"+$m+"] Transitional option '"+m+"'"+f+(c?". "+c:"")}return(m,f,p)=>{if(l===!1)throw new Se(u(f," has been removed"+(o?" in "+o:"")),Se.ERR_DEPRECATED);return o&&!Yu[f]&&(Yu[f]=!0,console.warn(u(f," has been deprecated since v"+o+" and will be removed in the near future"))),l?l(m,f,p):!0}};tl.spelling=function(l){return(o,c)=>(console.warn(`${c} is likely a misspelling of ${l}`),!0)};function Cx(s,l,o){if(typeof s!="object")throw new Se("options must be an object",Se.ERR_BAD_OPTION_VALUE);const c=Object.keys(s);let u=c.length;for(;u-- >0;){const m=c[u],f=l[m];if(f){const p=s[m],g=p===void 0||f(p,m,s);if(g!==!0)throw new Se("option "+m+" must be "+g,Se.ERR_BAD_OPTION_VALUE);continue}if(o!==!0)throw new Se("Unknown option "+m,Se.ERR_BAD_OPTION)}}const Ba={assertOptions:Cx,validators:tl},Kt=Ba.validators;let Zr=class{constructor(l){this.defaults=l||{},this.interceptors={request:new $u,response:new $u}}async request(l,o){try{return await this._request(l,o)}catch(c){if(c instanceof Error){let u={};Error.captureStackTrace?Error.captureStackTrace(u):u=new Error;const m=u.stack?u.stack.replace(/^.+\n/,""):"";try{c.stack?m&&!String(c.stack).endsWith(m.replace(/^.+\n.+\n/,""))&&(c.stack+=`
`+m):c.stack=m}catch{}}throw c}}_request(l,o){typeof l=="string"?(o=o||{},o.url=l):o=l||{},o=en(this.defaults,o);const{transitional:c,paramsSerializer:u,headers:m}=o;c!==void 0&&Ba.assertOptions(c,{silentJSONParsing:Kt.transitional(Kt.boolean),forcedJSONParsing:Kt.transitional(Kt.boolean),clarifyTimeoutError:Kt.transitional(Kt.boolean)},!1),u!=null&&(U.isFunction(u)?o.paramsSerializer={serialize:u}:Ba.assertOptions(u,{encode:Kt.function,serialize:Kt.function},!0)),o.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?o.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:o.allowAbsoluteUrls=!0),Ba.assertOptions(o,{baseUrl:Kt.spelling("baseURL"),withXsrfToken:Kt.spelling("withXSRFToken")},!0),o.method=(o.method||this.defaults.method||"get").toLowerCase();let f=m&&U.merge(m.common,m[o.method]);m&&U.forEach(["delete","get","head","post","put","patch","common"],E=>{delete m[E]}),o.headers=bt.concat(f,m);const p=[];let g=!0;this.interceptors.request.forEach(function(_){typeof _.runWhen=="function"&&_.runWhen(o)===!1||(g=g&&_.synchronous,p.unshift(_.fulfilled,_.rejected))});const v=[];this.interceptors.response.forEach(function(_){v.push(_.fulfilled,_.rejected)});let b,N=0,C;if(!g){const E=[Qu.bind(this),void 0];for(E.unshift.apply(E,p),E.push.apply(E,v),C=E.length,b=Promise.resolve(o);N<C;)b=b.then(E[N++],E[N++]);return b}C=p.length;let P=o;for(N=0;N<C;){const E=p[N++],_=p[N++];try{P=E(P)}catch(k){_.call(this,k);break}}try{b=Qu.call(this,P)}catch(E){return Promise.reject(E)}for(N=0,C=v.length;N<C;)b=b.then(v[N++],v[N++]);return b}getUri(l){l=en(this.defaults,l);const o=Mm(l.baseURL,l.url,l.allowAbsoluteUrls);return Pm(o,l.params,l.paramsSerializer)}};U.forEach(["delete","get","head","options"],function(l){Zr.prototype[l]=function(o,c){return this.request(en(c||{},{method:l,url:o,data:(c||{}).data}))}});U.forEach(["post","put","patch"],function(l){function o(c){return function(m,f,p){return this.request(en(p||{},{method:l,headers:c?{"Content-Type":"multipart/form-data"}:{},url:m,data:f}))}}Zr.prototype[l]=o(),Zr.prototype[l+"Form"]=o(!0)});let Tx=class Jm{constructor(l){if(typeof l!="function")throw new TypeError("executor must be a function.");let o;this.promise=new Promise(function(m){o=m});const c=this;this.promise.then(u=>{if(!c._listeners)return;let m=c._listeners.length;for(;m-- >0;)c._listeners[m](u);c._listeners=null}),this.promise.then=u=>{let m;const f=new Promise(p=>{c.subscribe(p),m=p}).then(u);return f.cancel=function(){c.unsubscribe(m)},f},l(function(m,f,p){c.reason||(c.reason=new Rn(m,f,p),o(c.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(l){if(this.reason){l(this.reason);return}this._listeners?this._listeners.push(l):this._listeners=[l]}unsubscribe(l){if(!this._listeners)return;const o=this._listeners.indexOf(l);o!==-1&&this._listeners.splice(o,1)}toAbortSignal(){const l=new AbortController,o=c=>{l.abort(c)};return this.subscribe(o),l.signal.unsubscribe=()=>this.unsubscribe(o),l.signal}static source(){let l;return{token:new Jm(function(u){l=u}),cancel:l}}};function Ax(s){return function(o){return s.apply(null,o)}}function Ox(s){return U.isObject(s)&&s.isAxiosError===!0}const hi={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(hi).forEach(([s,l])=>{hi[l]=s});function Vm(s){const l=new Zr(s),o=bm(Zr.prototype.request,l);return U.extend(o,Zr.prototype,l,{allOwnKeys:!0}),U.extend(o,l,null,{allOwnKeys:!0}),o.create=function(u){return Vm(en(s,u))},o}const Je=Vm(Es);Je.Axios=Zr;Je.CanceledError=Rn;Je.CancelToken=Tx;Je.isCancel=Im;Je.VERSION=$m;Je.toFormData=Za;Je.AxiosError=Se;Je.Cancel=Je.CanceledError;Je.all=function(l){return Promise.all(l)};Je.spread=Ax;Je.isAxiosError=Ox;Je.mergeConfig=en;Je.AxiosHeaders=bt;Je.formToJSON=s=>Dm(U.isHTMLForm(s)?new FormData(s):s);Je.getAdapter=Bm.getAdapter;Je.HttpStatusCode=hi;Je.default=Je;const{Axios:My,AxiosError:Fy,CanceledError:Uy,isCancel:zy,CancelToken:By,VERSION:$y,all:Jy,Cancel:Vy,isAxiosError:Hy,spread:Gy,toFormData:Wy,AxiosHeaders:qy,HttpStatusCode:Ky,formToJSON:Qy,getAdapter:Yy,mergeConfig:Xy}=Je;console.log(" Debug: import.meta.env loaded:",{VITE_DEV_MODE:"true",VITE_API_URL:"http://localhost:3002/api",VITE_ENABLE_MOCK_API:"false",VITE_APP_NAME:"Nebulahunt Admin Panel",VITE_ENABLE_2FA:"true",VITE_ENABLE_TELEGRAM_AUTH:void 0,DEV:!1,MODE:"production",BASE_URL:"/"});const or={DEV_MODE:!0,API_URL:"http://localhost:3002/api",ENABLE_MOCK_API:!1,SMTP_HOST:"smtp.gmail.com",SMTP_PORT:"587",SMTP_USER:"tatyanamixx@gmail.com",SMTP_PASS:"A09160130a!",APP_NAME:"Nebulahunt Admin Panel",APP_URL:"http://localhost:3000",ENABLE_2FA:!0,ENABLE_EMAIL_INVITES:!0,ENABLE_GOOGLE_AUTH:!0};console.log(" Debug: env object created:",or);const Rx=()=>or.DEV_MODE;console.log(" Debug: isDevelopment:",Rx());const Px=()=>or.SMTP_USER,_x=()=>!0,Dx=()=>({devMode:or.DEV_MODE,mockApi:or.ENABLE_MOCK_API,emailSupported:Px(),canUseApp:_x(),apiUrl:or.API_URL,enable2FA:or.ENABLE_2FA,enableEmailInvites:or.ENABLE_EMAIL_INVITES,enableGoogleAuth:or.ENABLE_GOOGLE_AUTH}),Ix=()=>{console.log(" Environment Info:",Dx())};console.log(" Debug: VITE_API_URL from import.meta.env:","http://localhost:3002/api");console.log(" Debug: Using baseURL:","http://localhost:3002/api");const ue=Je.create({baseURL:"http://localhost:3002/api",timeout:1e4});ue.interceptors.request.use(s=>{const l=localStorage.getItem("accessToken");return l&&(s.headers.Authorization=`Bearer ${l}`),console.log(" API Request:",{method:s.method?.toUpperCase(),url:s.url,baseURL:s.baseURL,fullURL:`${s.baseURL}${s.url}`,data:s.data,hasToken:!!l,tokenPreview:l?`${l.substring(0,20)}...`:"none",authorizationHeader:s.headers.Authorization?"present":"missing"}),s},s=>(console.error(" API Request Error:",s),Promise.reject(s)));ue.interceptors.response.use(s=>(console.log(" API Response:",{status:s.status,url:s.config.url,data:s.data}),s),s=>{if(!s.response){console.error(" Network Error - Server unavailable:",{message:s.message,url:s.config?.url,code:s.code});const l={response:{status:0,statusText:"Network Error",data:{message:"Server unavailable. Please check your internet connection and try again.",error:"NETWORK_ERROR",details:s.message}},config:s.config,message:"Network Error - Server unavailable"};return Promise.reject(l)}if(s.message&&s.message.includes("Unexpected end of JSON input")){console.error(" JSON Parsing Error:",{status:s.response?.status,url:s.config?.url,message:s.message});const l={response:{status:s.response?.status||500,statusText:s.response?.statusText||"JSON Parse Error",data:{message:"Server unavailable. Please check your internet connection and try again.",error:"JSON_PARSE_ERROR",details:s.message}},config:s.config,message:"JSON parsing failed"};return Promise.reject(l)}return console.error(" API Response Error:",{status:s.response?.status,url:s.config?.url,data:s.response?.data,message:s.message}),Promise.reject(s)});ue.interceptors.request.use(s=>{const l=localStorage.getItem("accessToken");return l&&(s.headers.Authorization=`Bearer ${l}`),s},s=>Promise.reject(s));ue.interceptors.response.use(s=>s,async s=>{const l=s.config;if(s.response?.status===401&&!l._retry){l._retry=!0;const o=localStorage.getItem("refreshToken");if(o)try{const c=await Je.post("/api/admin/refresh",{refreshToken:o}),{accessToken:u}=c.data;return localStorage.setItem("accessToken",u),l.headers.Authorization=`Bearer ${u}`,ue(l)}catch(c){return localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),window.location.href="/login",Promise.reject(c)}}return Promise.reject(s)});const vs={getAll:()=>ue.get("/artifact-templates"),getBySlug:s=>ue.get(`/artifact-templates/${s}`),create:s=>ue.post("/artifact-templates",s),update:s=>ue.put(`/artifact-templates/${s.slug}`,s),delete:s=>ue.delete(`/artifact-templates/${s}`)},Hm=y.createContext(void 0);function Lx({children:s}){const[l,o]=y.useState(null),[c,u]=y.useState(!0),m=()=>{console.log(" AuthContext: logout called"),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("tempOAuthData"),o(null)},f=()=>{console.log(" AuthContext: clearTokens called"),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("tempOAuthData"),o(null)},p=async()=>{try{const C=localStorage.getItem("refreshToken");if(console.log(" Attempting token refresh with refresh token:",C?C.substring(0,50)+"...":"none"),!C)throw new Error("No refresh token found");const P=await ue.post("/admin/refresh",{refreshToken:C});console.log("Token refresh response:",P.data);const{accessToken:E,refreshToken:_,...k}=P.data;localStorage.setItem("accessToken",E),localStorage.setItem("refreshToken",_),o(k),console.log(" Token refresh successful, user set:",k)}catch(C){throw console.error("Token refresh error:",C),console.error("Refresh error details:",{status:C.response?.status,statusText:C.response?.statusText,data:C.response?.data}),C.response?.status===0||C.response?.data?.error==="NETWORK_ERROR"||C.response?.data?.error==="JSON_PARSE_ERROR"||C.message?.includes("HTTP 500")||C.message?.includes("Internal Server Error")?(console.error("Server unavailable during token refresh"),m(),new Error("Server unavailable. Please try again later.")):(m(),C)}};y.useEffect(()=>{(async()=>{const P=localStorage.getItem("accessToken");if(P)try{const E=JSON.parse(atob(P.split(".")[1]));console.log("Token payload:",E);const _=Math.floor(Date.now()/1e3);if(E.exp&&E.exp<_){console.log("Token expired, attempting refresh");try{await p();return}catch(k){console.error("Token refresh failed:",k),m();return}}try{console.log(" Attempting server verification with token:",P.substring(0,50)+"...");const k=await ue.get("/admin/me");console.log("Server verification response:",k.data),o(k.data)}catch(k){if(console.error("Server verification failed:",k),console.error("Error details:",{status:k.response?.status,statusText:k.response?.statusText,data:k.response?.data}),k.response?.status===0||k.response?.data?.error==="NETWORK_ERROR"||k.response?.data?.error==="JSON_PARSE_ERROR"){console.error("Server unavailable, logging out"),m();return}try{console.log(" Attempting token refresh after verification failure"),await p()}catch(J){console.error("Token refresh failed after server verification:",J),m()}return}}catch(E){console.error("Token parsing error:",E),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),o(null)}else console.log("No access token found, clearing user"),o(null);u(!1)})()},[]);const N={user:l,isAuthenticated:!!l,loginWithGoogle:async C=>{try{if(!window.google?.accounts?.oauth2)throw new Error("Google OAuth not available");const P="143535369155-1habb6crarv0l2o9hbi6jf35vir42ccf.apps.googleusercontent.com";window.google.accounts.oauth2.initTokenClient({client_id:P,scope:"email profile",callback:async _=>{try{if(_.error)throw new Error(`Google OAuth error: ${_.error}`);const k=await ue.post("/admin/oauth/google",{accessToken:_.access_token});if(console.log("Google OAuth server response:",k.data),console.log(" Server response requires2FA:",k.data.requires2FA),k.data.requires2FA){const A={provider:"google",accessToken:_.access_token,userData:k.data.userData};console.log(" Saving temp OAuth data:",A),localStorage.setItem("tempOAuthData",JSON.stringify(A)),console.log(" tempOAuthData saved to localStorage"),C&&C();return}const{accessToken:J,refreshToken:O,...F}=k.data;localStorage.setItem("accessToken",J),localStorage.setItem("refreshToken",O),o(F)}catch(k){throw console.error("Google OAuth server error:",k),k.response?.status===0||k.response?.data?.error==="NETWORK_ERROR"||k.response?.data?.error==="JSON_PARSE_ERROR"||k.message?.includes("HTTP 500")||k.message?.includes("Internal Server Error")?new Error("Server unavailable. Please try again later."):k.response?.data?.message?new Error(k.response.data.message):new Error("Google authentication failed. Please try again.")}}}).requestAccessToken()}catch(P){throw console.error("Google OAuth error:",P),P.message?.includes("Server unavailable")||P.message?.includes("Network Error")||P.message?.includes("Failed to fetch")?P:new Error("Authentication failed. Please try again.")}},login:async()=>{try{console.log(" login() ");const C=localStorage.getItem("accessToken");if(console.log(" accessToken  localStorage:",C?"present":"missing"),!C)throw new Error("No access token found");console.log(" Decoding token...");const P=C.split(".");if(console.log(" Token parts count:",P.length),P.length!==3)throw new Error("Invalid token format");const E=JSON.parse(atob(P[1]));console.log(" Token payload:",E);const _={id:E.id,email:E.email,username:E.name,firstName:E.firstName,lastName:E.lastName,role:E.role,provider:E.provider,providerId:E.providerId};console.log(" Setting user data:",_),o(_),console.log(" setUser() ")}catch(C){throw console.error("Password login error:",C),C}},verify2FA:async C=>{try{console.log(" verify2FA called with OTP:",C);const P=localStorage.getItem("tempOAuthData");if(console.log(" tempOAuthData from localStorage:",P),!P)throw new Error("No temporary OAuth data found");const{provider:E,..._}=JSON.parse(P);console.log(" Parsed OAuth data:",{provider:E,oauthData:_});const k={provider:E,otp:C,..._};console.log(" Sending 2FA verification request:",k);const J=await ue.post("/admin/oauth/2fa/verify",k);console.log(" 2FA verification response:",J.data),localStorage.removeItem("tempOAuthData");const{accessToken:O,refreshToken:F,...A}=J.data;localStorage.setItem("accessToken",O),localStorage.setItem("refreshToken",F),o(A)}catch(P){throw console.error(" 2FA verification error:",P),P.response?.status===0||P.response?.data?.error==="NETWORK_ERROR"||P.response?.data?.error==="JSON_PARSE_ERROR"||P.message?.includes("HTTP 500")||P.message?.includes("Internal Server Error")?new Error("Server unavailable. Please try again later."):P.response?.data?.message?new Error(P.response.data.message):new Error("2FA verification failed. Please try again.")}},refreshToken:p,logout:m,clearTokens:f,loading:c};return r.jsx(Hm.Provider,{value:N,children:s})}function Jt(){const s=y.useContext(Hm);if(s===void 0)throw console.error(" useAuth: Context is undefined - not within AuthProvider"),new Error("useAuth must be used within an AuthProvider");return s}function rt(...s){return s.filter(Boolean).join(" ")}function Mx(){const{isAuthenticated:s}=Jt(),l=Ir();return y.useEffect(()=>{Ix()},[]),y.useEffect(()=>{s&&l("/dashboard")},[s,l]),y.useEffect(()=>{l("/admin/login")},[l]),r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-900 px-4",children:r.jsxs("div",{className:"max-w-md w-full space-y-8",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"mx-auto h-12 w-12 text-blue-400",children:""}),r.jsx("h2",{className:"mt-6 text-3xl font-bold text-white",children:"Redirecting..."}),r.jsx("p",{className:"mt-2 text-sm text-gray-400",children:"System switched to new Google 2FA authentication"}),r.jsx("div",{className:"mt-4 p-3 bg-blue-900 border border-blue-700 rounded-md",children:r.jsx("p",{className:"text-sm text-blue-200",children:" Redirecting to administrator login page"})})]}),r.jsx("div",{className:"text-center",children:r.jsx(oi,{to:"/admin/login",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 focus:ring-offset-gray-900",children:"Go to Login"})})]})})}async function Fx(){try{const o=`${"http://localhost:3002/api".replace("/api","")}/health`;console.log(" Debug: Checking server status at:",o);const c=await fetch(o,{method:"GET",headers:{"Content-Type":"application/json"},signal:AbortSignal.timeout(5e3)});return c.ok?{isAvailable:!0,message:"Server is available"}:{isAvailable:!1,message:"Server unavailable. Please check your internet connection and try again.",error:`HTTP ${c.status}`}}catch(s){return console.error("Server status check failed:",s),s.name==="AbortError"?{isAvailable:!1,message:"Server not responding (timeout)",error:"TIMEOUT"}:s.name==="TypeError"&&s.message.includes("fetch")?{isAvailable:!1,message:"Server unavailable. Check your internet connection.",error:"NETWORK_ERROR"}:{isAvailable:!1,message:"Error connecting to server",error:s.message||"UNKNOWN_ERROR"}}}async function Qr(s,l={}){try{const o="http://localhost:3002/api";let c;s.startsWith("http")?c=s:s.startsWith("/api")?c=`${o.replace("/api","")}${s}`:c=`${o}${s}`,console.log(" Debug: safeFetch URL:",{original:s,full:c,apiUrl:o});const u=await fetch(c,{...l,signal:AbortSignal.timeout(1e4)});if(!u.ok)try{return{ok:!1,error:(await u.json()).message||"Server unavailable. Please try again later."}}catch{return{ok:!1,error:"Server unavailable. Please try again later."}}try{return{ok:!0,data:await u.json()}}catch{return{ok:!1,error:"Error processing server response"}}}catch(o){return console.error("Fetch request failed:",o),o.name==="AbortError"?{ok:!1,error:"Server not responding (timeout)"}:o.name==="TypeError"&&o.message.includes("fetch")?{ok:!1,error:"Server unavailable. Check your internet connection."}:{ok:!1,error:o.message||"Unknown error"}}}/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ux=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Gm=(...s)=>s.filter((l,o,c)=>!!l&&l.trim()!==""&&c.indexOf(l)===o).join(" ").trim();/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var zx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bx=y.forwardRef(({color:s="currentColor",size:l=24,strokeWidth:o=2,absoluteStrokeWidth:c,className:u="",children:m,iconNode:f,...p},g)=>y.createElement("svg",{ref:g,...zx,width:l,height:l,stroke:s,strokeWidth:c?Number(o)*24/Number(l):o,className:Gm("lucide",u),...p},[...f.map(([v,b])=>y.createElement(v,b)),...Array.isArray(m)?m:[m]]));/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=(s,l)=>{const o=y.forwardRef(({className:c,...u},m)=>y.createElement(Bx,{ref:m,iconNode:l,className:Gm(`lucide-${Ux(s)}`,c),...u}));return o.displayName=`${s}`,o};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gi=Ae("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=Ae("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wm=Ae("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $x=Ae("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xi=Ae("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=Ae("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ti=Ae("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ai=Ae("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jx=Ae("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oi=Ae("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qm=Ae("Gamepad2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vx=Ae("Gem",[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hx=Ae("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gx=Ae("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wx=Ae("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qx=Ae("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kx=Ae("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qx=Ae("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qt=Ae("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ga=Ae("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Km=Ae("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yx=Ae("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qm=Ae("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pn=Ae("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xx=Ae("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zx=Ae("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ey=Ae("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=Ae("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ty=Ae("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cr=Ae("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ry=Ae("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ny=Ae("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sy=Ae("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ay=Ae("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yi=Ae("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ly=Ae("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=Ae("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ri=Ae("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function oy({message:s="Server unavailable. Please check your internet connection and try again.",onRetry:l,className:o=""}){return r.jsx("div",{className:`bg-red-900 border border-red-700 rounded-lg p-4 ${o}`,children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(ty,{className:"h-5 w-5 text-red-400 mt-0.5 flex-shrink-0"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-sm font-medium text-red-200",children:"Server Connection Error"}),r.jsx("p",{className:"mt-1 text-sm text-red-300",children:s}),l&&r.jsxs("button",{onClick:l,className:"mt-3 inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-red-700 bg-red-100 hover:bg-red-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors",children:[r.jsx(Ga,{className:"h-4 w-4 mr-2"}),"Try Again"]})]})]})})}function iy(){const s=Ir(),{loginWithGoogle:l,verify2FA:o,login:c,clearTokens:u,loading:m,isAuthenticated:f}=Jt(),[p,g]=y.useState("oauth");y.useEffect(()=>{console.log(" AdminLogin component mount - Auth state:",{isAuthenticated:f,accessToken:localStorage.getItem("accessToken")?"present":"missing",refreshToken:localStorage.getItem("refreshToken")?"present":"missing",tempOAuthData:localStorage.getItem("tempOAuthData")?"present":"missing"}),(async()=>{try{const w=await Fx();w.isAvailable||H(w.message||"Server unavailable")}catch(w){console.error("Server status check failed:",w),H("Server unavailable. Please check your internet connection and try again.")}})(),f&&(console.log(" Already authenticated, redirecting to dashboard"),s("/dashboard")),p==="2fa"&&!localStorage.getItem("tempOAuthData")&&(console.log(" No tempOAuthData found on 2FA step, returning to OAuth step"),g("oauth"),ve("Please complete Google OAuth first",!0))},[f,s,p]);const[v,b]=y.useState(""),[N,C]=y.useState(""),[P,E]=y.useState(!1),[_,k]=y.useState(""),[J,O]=y.useState(""),[F,A]=y.useState(!1),[X,H]=y.useState(null),[we,te]=y.useState(""),[le,se]=y.useState(""),[W,he]=y.useState(!1),[ne,re]=y.useState({clientId:"143535369155-1habb6crarv0l2o9hbi6jf35vir42ccf.apps.googleusercontent.com",googleOAuthAvailable:!1,scriptLoaded:!1}),ve=(B,w=!1)=>{C(B),H(null),w||setTimeout(()=>C(""),5e3)};y.useEffect(()=>{const B=()=>{const M=!!document.querySelector('script[src*="accounts.google.com"]'),$=!!window.google?.accounts?.oauth2;re({clientId:"143535369155-1habb6crarv0l2o9hbi6jf35vir42ccf.apps.googleusercontent.com",googleOAuthAvailable:$,scriptLoaded:M})};B();const w=setInterval(B,2e3);return()=>clearInterval(w)},[]),y.useEffect(()=>{p==="2fa"&&(A(!1),k(""),O(""))},[p]);const ke=async()=>{E(!0);try{await l(()=>{g("2fa"),ve("Google authentication successful. Please enter 2FA code")}),localStorage.getItem("tempOAuthData")||(ve("Login successful"),s("/dashboard"))}catch(B){console.error("Google login error:",B);let w=B.response?.data?.message||B.message||"Google login error";if(w.includes("Google OAuth Client ID not configured")&&(w="Google OAuth not configured. Follow instructions in GOOGLE_OAUTH_SETUP_CLIENT.md"),B.response?.status===0||B.response?.data?.error==="NETWORK_ERROR"||B.response?.data?.error==="JSON_PARSE_ERROR"){H("Server unavailable. Please check your internet connection and try again.");return}ve(w,!0)}finally{E(!1)}},Ce=async B=>{B.preventDefault(),console.log(" handle2FAVerification called with OTP:",v);const w=localStorage.getItem("accessToken"),M=localStorage.getItem("refreshToken"),$=localStorage.getItem("tempOAuthData");if(console.log(" localStorage debug:",{accessToken:w?"present":"missing",refreshToken:M?"present":"missing",tempOAuthData:$?"present":"missing",tempOAuthDataContent:$}),!v){ve("Please enter 2FA code",!0);return}E(!0);try{console.log(" Calling verify2FA..."),await o(v),console.log(" verify2FA successful"),ve("Login successful"),s("/dashboard")}catch(ee){if(console.error(" handle2FAVerification error:",ee),ee.response?.status===0||ee.response?.data?.error==="NETWORK_ERROR"||ee.response?.data?.error==="JSON_PARSE_ERROR"||ee.message?.includes("HTTP 500")||ee.message?.includes("Internal Server Error")){H("Server unavailable. Please check your internet connection and try again.");return}const xe=ee.message||"2FA verification failed. Please try again.";ve(xe,!0)}finally{E(!1)}},Q=async B=>{console.log(" handlePasswordLogin called"),B.preventDefault(),console.log(" preventDefault executed"),he(!0),C(""),console.log(" State updated");try{console.log("  :",{email:we,hasPassword:!!le});const w=await Qr("/api/admin/login/password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:we,password:le})});if(!w.ok)throw new Error(w.error||"Login error");const M=w.data;if(console.log("  :",M),M.requires2FA){console.log(" 2FA required for password login"),localStorage.setItem("tempPasswordData",JSON.stringify({email:M.userData.email,provider:"password"})),g("password2fa");return}localStorage.setItem("accessToken",M.accessToken),localStorage.setItem("refreshToken",M.refreshToken),await c(),M.passwordWarning&&alert(`Warning: ${M.passwordMessage}`),s("/dashboard")}catch(w){if(console.log(" :",w),w.response?.status===0||w.response?.data?.error==="NETWORK_ERROR"||w.response?.data?.error==="JSON_PARSE_ERROR"||w.message?.includes("Failed to fetch")||w.message?.includes("Network Error")||w.message?.includes("HTTP 500")||w.message?.includes("Internal Server Error")){H("Server unavailable. Please check your internet connection and try again.");return}C("Login failed. Please try again.")}finally{console.log("  handlePasswordLogin"),he(!1)}},ie=async B=>{if(B.preventDefault(),!v||v.length!==6){ve("Please enter a valid 6-digit 2FA code",!0);return}E(!0);try{const w=localStorage.getItem("tempPasswordData");if(!w)throw new Error("No password data found");const M=JSON.parse(w),$=await Qr("/api/admin/login/password/2fa/verify",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:M.email,otp:v})});if(!$.ok)throw new Error($.error||"2FA verification error");const ee=$.data;localStorage.setItem("accessToken",ee.accessToken),localStorage.setItem("refreshToken",ee.refreshToken),await c(),localStorage.removeItem("tempPasswordData"),ve("Login successful! Redirecting..."),setTimeout(()=>s("/dashboard"),1e3)}catch(w){let M=w.response?.data?.message||w.message||"2FA verification failed";if(w.response?.status===0||w.response?.data?.error==="NETWORK_ERROR"||w.response?.data?.error==="JSON_PARSE_ERROR"||w.message?.includes("Failed to fetch")||w.message?.includes("Network Error")){H("Server unavailable. Please check your internet connection and try again.");return}ve(M,!0)}finally{E(!1)}};return r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-900 px-4",children:r.jsxs("div",{className:"max-w-md w-full space-y-8",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"mx-auto h-12 w-12 text-blue-400",children:""}),r.jsx("h2",{className:"mt-6 text-3xl font-bold text-white",children:"Admin Login"}),r.jsx("p",{className:"mt-2 text-sm text-gray-400",children:"Sign in with Google OAuth or email and password"}),r.jsxs("div",{className:"mt-4 p-3 bg-yellow-900 border border-yellow-700 rounded-md",children:[r.jsx("p",{className:"text-sm text-yellow-200",children:" Development mode: Testing "}),r.jsxs("div",{className:"mt-2 text-xs text-yellow-300 space-y-1",children:[r.jsxs("div",{children:["Client ID: ",ne.clientId.substring(0,20),"..."]}),r.jsxs("div",{children:["Script Loaded:"," ",ne.scriptLoaded?"":""]}),r.jsxs("div",{children:["OAuth Available:"," ",ne.googleOAuthAvailable?"":""]})]}),r.jsx("button",{onClick:u,className:"mt-2 px-3 py-1 bg-red-600 text-white text-xs rounded hover:bg-red-700",children:"Clear Tokens"})]})]}),X&&r.jsx(oy,{message:X,onRetry:()=>H(null),className:"mb-4"}),N&&!X&&r.jsx("div",{className:`p-4 rounded-md ${N.includes("error")||N.includes("Error")?"bg-red-900 text-red-200 border border-red-700":"bg-green-900 text-green-200 border border-green-700"}`,children:N}),p==="oauth"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("button",{onClick:ke,disabled:P||m,className:"w-full flex items-center justify-center px-4 py-3 border border-gray-600 rounded-md shadow-sm bg-gray-800 text-sm font-medium text-gray-300 hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 focus:ring-offset-gray-900 disabled:opacity-50 disabled:cursor-not-allowed",children:[r.jsxs("svg",{className:"w-5 h-5 mr-3",viewBox:"0 0 24 24",children:[r.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),r.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),r.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),r.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Sign in with Google"]}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-0 flex items-center",children:r.jsx("div",{className:"w-full border-t border-gray-600"})}),r.jsx("div",{className:"relative flex justify-center text-sm",children:r.jsx("span",{className:"px-2 bg-gray-900 text-gray-400",children:"2FA "})})]})]}),r.jsxs("form",{onSubmit:Q,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300",children:"Email"}),r.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:we,onChange:B=>te(B.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-600 bg-gray-700 placeholder-gray-400 text-white rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Enter email"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300",children:"Password"}),r.jsx("input",{id:"password",name:"password",type:"password",required:!0,value:le,onChange:B=>se(B.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-600 bg-gray-700 placeholder-gray-400 text-white rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Enter password"})]}),r.jsx("button",{type:"submit",disabled:W,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",children:W?"Signing in...":"Sign in with email and password"})]}),r.jsxs("div",{className:"text-center text-sm text-gray-400",children:[r.jsx("p",{children:"For admin panel access, you need:"}),r.jsx("p",{children:"1. Google authentication + 2FA"}),r.jsx("p",{children:"2. Or sign in with email and password"})]})]}),p==="2fa"&&r.jsxs("div",{className:"space-y-6",children:[F&&_?r.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg border border-gray-700",children:[r.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Google Authenticator Setup"}),r.jsxs("div",{className:"space-y-4",children:[F?r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"QR Code for scanning:"}),r.jsx("button",{type:"button",onClick:()=>A(!1),className:"text-sm text-gray-400 hover:text-gray-300",children:"Hide QR Code"})]}),r.jsx("div",{className:"flex justify-center",children:r.jsx("img",{src:`https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${encodeURIComponent(_)}`,alt:"QR Code",className:"border border-gray-600 rounded"})}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Secret for manual entry:"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("input",{type:"text",value:J,readOnly:!0,"aria-label":"Google 2FA secret key",className:"flex-1 px-3 py-2 border border-gray-600 bg-gray-700 text-white text-sm font-mono rounded-md"}),r.jsx("button",{onClick:()=>navigator.clipboard.writeText(J),className:"px-3 py-2 text-sm border border-gray-600 bg-gray-700 text-gray-300 rounded-md hover:bg-gray-600","aria-label":"Copy secret to clipboard",children:"Copy"})]})]})]}):r.jsx("div",{className:"bg-gray-800 p-4 rounded-lg border border-gray-700",children:r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-gray-300 mb-3",children:"Need to scan QR code in Google Authenticator?"}),r.jsx("button",{type:"button",onClick:async()=>{try{const B=localStorage.getItem("tempOAuthData");if(B){const{userData:w}=JSON.parse(B),M=await Qr(`/api/admin/2fa/qr/${w.email}`);M.ok&&M.data&&(k(M.data.otpAuthUrl),O(M.data.google2faSecret),A(!0))}}catch(B){console.error("Failed to get QR code:",B)}},className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Show QR Code"})]})}),r.jsxs("div",{className:"bg-blue-900 p-4 rounded-md border border-blue-700",children:[r.jsx("h4",{className:"text-sm font-medium text-blue-200 mb-2",children:"Instructions:"}),r.jsxs("ol",{className:"text-sm text-blue-300 space-y-1",children:[r.jsx("li",{children:"1. Open Google Authenticator app"}),r.jsx("li",{children:'2. Tap "+" to add account'}),r.jsx("li",{children:'3. Choose "Scan QR code" or enter secret manually'}),r.jsx("li",{children:"4. Enter the received code below"})]})]})]})]}):r.jsx("div",{className:"bg-gray-800 p-4 rounded-lg border border-gray-700",children:r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-gray-300 mb-3",children:"Need to scan QR code in Google Authenticator?"}),r.jsx("button",{type:"button",onClick:async()=>{try{const B=localStorage.getItem("tempOAuthData");if(B){const{userData:w}=JSON.parse(B),M=await Qr(`/api/admin/2fa/qr/${w.email}`);if(M.ok){const $=M.data;k($.otpAuthUrl),O($.google2faSecret),A(!0)}}}catch(B){console.error("Failed to get QR code:",B)}},className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Show QR Code"})]})}),r.jsxs("form",{onSubmit:Ce,className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"otp",className:"block text-sm font-medium text-gray-300",children:"2FA Code"}),r.jsx("input",{id:"otp",name:"otp",type:"text",required:!0,value:v,onChange:B=>b(B.target.value),className:"mt-1 appearance-none relative block w-full px-3 py-2 border border-gray-600 bg-gray-700 placeholder-gray-400 text-white rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"000000",maxLength:6,pattern:"[0-9]{6}"})]}),r.jsx("div",{children:r.jsx("button",{type:"submit",disabled:P||m,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 focus:ring-offset-gray-900 disabled:opacity-50 disabled:cursor-not-allowed",children:P||m?"Verifying...":"Verify"})}),r.jsx("div",{className:"text-center",children:r.jsx("button",{type:"button",onClick:()=>g("oauth"),className:"text-sm text-blue-400 hover:text-blue-300",children:" Back to login options"})})]})]}),p==="password2fa"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg border border-gray-700",children:[r.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Google Authenticator Setup"}),r.jsxs("div",{className:"space-y-4",children:[F?r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"QR Code for scanning:"}),r.jsx("div",{className:"flex justify-center",children:r.jsx("img",{src:`https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${encodeURIComponent(_)}`,alt:"QR Code",className:"border border-gray-600 rounded"})})]}):r.jsx("div",{className:"bg-gray-800 p-4 rounded-lg border border-gray-700",children:r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-gray-300 mb-3",children:"Need to scan QR code in Google Authenticator?"}),r.jsx("button",{type:"button",onClick:async()=>{try{const B=localStorage.getItem("tempPasswordData");if(B){const{email:w}=JSON.parse(B),M=await Qr(`/api/admin/2fa/qr/${w}`);if(M.ok){const $=M.data;k($.otpAuthUrl),O($.google2faSecret),A(!0)}}}catch(B){console.error("Failed to get QR code:",B)}},className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Show QR Code"})]})}),F&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Secret for manual entry:"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("input",{type:"text",value:J,readOnly:!0,"aria-label":"Google 2FA secret key",className:"flex-1 px-3 py-2 border border-gray-600 bg-gray-700 text-white text-sm font-mono rounded-md"}),r.jsx("button",{onClick:()=>navigator.clipboard.writeText(J),className:"px-3 py-2 text-sm border border-gray-600 bg-gray-700 text-gray-300 rounded-md hover:bg-gray-600","aria-label":"Copy secret to clipboard",children:"Copy"})]})]}),r.jsxs("div",{className:"bg-blue-900 p-4 rounded-md border border-blue-700",children:[r.jsx("h4",{className:"text-sm font-medium text-blue-200 mb-2",children:"Instructions:"}),r.jsxs("ol",{className:"text-sm text-blue-300 space-y-1",children:[r.jsx("li",{children:"1. Open Google Authenticator app"}),r.jsx("li",{children:'2. Tap "+" to add account'}),r.jsx("li",{children:'3. Choose "Scan QR code" or enter secret manually'}),r.jsx("li",{children:"4. Enter the received code below"})]})]})]})]}),r.jsxs("form",{onSubmit:ie,className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"otp",className:"block text-sm font-medium text-gray-300",children:"2FA Code"}),r.jsx("input",{id:"otp",name:"otp",type:"text",required:!0,value:v,onChange:B=>b(B.target.value),className:"mt-1 appearance-none relative block w-full px-3 py-2 border border-gray-600 bg-gray-700 placeholder-gray-400 text-white rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"000000",maxLength:6,pattern:"[0-9]{6}"})]}),r.jsx("div",{children:r.jsx("button",{type:"submit",disabled:P||m,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 focus:ring-offset-gray-900 disabled:opacity-50 disabled:cursor-not-allowed",children:P||m?"Verifying...":"Verify"})}),r.jsx("div",{className:"text-center",children:r.jsx("button",{type:"button",onClick:()=>g("oauth"),className:"text-sm text-blue-400 hover:text-blue-300",children:" Back to login options"})})]})]})]})})}function cy(){const s=Ir(),[l,o]=y.useState(!1),[c,u]=y.useState(""),[m,f]=y.useState(""),[p,g]=y.useState(""),[v,b]=y.useState(""),[N,C]=y.useState(""),[P,E]=y.useState("");y.useEffect(()=>{u("admin@test.com"),f("supersecret")},[]);const _=(F,A=!1)=>{g(F),setTimeout(()=>g(""),1e4)},k=async F=>{if(F.preventDefault(),!c||!m){_("Fill in all fields",!0);return}o(!0);try{const A=await ue.post("/admin/init",{email:c,secretKey:m}),{google2faSecret:X,otpAuthUrl:H}=A.data;C(X),b(H),_("Administrator initialized! Set up Google Authenticator")}catch(A){const X=A.response?.data?.message||"Initialization error";_(X,!0)}finally{o(!1)}},J=async()=>{o(!0);try{const F=await ue.post("/admin/supervisor/init"),{google2faSecret:A,otpAuthUrl:X}=F.data;C(A),b(X),_("Supervisor initialized! Set up Google Authenticator")}catch(F){const A=F.response?.data?.message||"Supervisor initialization error";_(A,!0)}finally{o(!1)}},O=async F=>{if(F.preventDefault(),!P||P.length!==6){_("Please enter a valid 6-digit 2FA code",!0);return}o(!0);try{const A=await ue.post("/admin/2fa/verify",{email:c,otp:P});_("2FA setup completed successfully! You can now login."),E(""),b(""),C(""),setTimeout(()=>{s("/admin/login")},2e3)}catch(A){const X=A.response?.data?.message||"2FA verification failed";_(X,!0)}finally{o(!1)}};return r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-900 px-4",children:r.jsxs("div",{className:"max-w-md w-full space-y-8",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"mx-auto h-12 w-12 text-blue-400",children:""}),r.jsx("h2",{className:"mt-6 text-3xl font-bold text-white",children:"Administrator Initialization"}),r.jsx("p",{className:"mt-2 text-sm text-gray-400",children:"Create new administrators and supervisor"}),r.jsx("div",{className:"mt-4 p-3 bg-yellow-900 border border-yellow-700 rounded-md",children:r.jsx("p",{className:"text-sm text-yellow-200",children:" Development mode: Testing initialization"})})]}),p&&r.jsx("div",{className:rt("p-4 rounded-md",p.includes("error")||p.includes("Error")?"bg-red-900 text-red-200 border border-red-700":"bg-green-900 text-green-200 border border-green-700"),children:p}),v?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg border border-gray-700",children:[r.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Google Authenticator Setup"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"QR Code for scanning:"}),r.jsx("div",{className:"flex justify-center",children:v?r.jsx("img",{src:`https://api.qrserver.com/v1/create-qr-code/?size=250x250&data=${encodeURIComponent(v)}&margin=10&format=png`,alt:"QR Code for Google Authenticator",className:"border-2 border-gray-600 rounded-lg shadow-lg",style:{maxWidth:"250px",height:"auto"}}):r.jsx("div",{className:"flex items-center justify-center w-64 h-64 border-2 border-gray-600 rounded-lg bg-gray-700",children:r.jsxs("div",{className:"text-gray-400 text-center",children:[r.jsx("div",{className:"text-4xl mb-2",children:""}),r.jsx("div",{className:"text-sm",children:"QR Code loading..."})]})})}),v&&r.jsx("div",{className:"text-center mt-2",children:r.jsx("p",{className:"text-xs text-gray-400",children:"Scan this QR code with Google Authenticator"})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Secret Key (for manual entry):"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("input",{type:"text",value:N,readOnly:!0,"aria-label":"Google 2FA secret key",className:"flex-1 px-3 py-2 border border-gray-600 rounded-md bg-gray-700 text-white text-sm font-mono tracking-wider"}),r.jsx("button",{onClick:()=>{navigator.clipboard.writeText(N),_("Secret key copied to clipboard!")},className:"px-3 py-2 text-sm border border-gray-600 bg-gray-700 text-gray-300 rounded-md hover:bg-gray-600 transition-colors","aria-label":"Copy secret to clipboard",children:" Copy"})]}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Use this secret key if you can't scan the QR code"})]}),r.jsxs("div",{className:"bg-blue-900 p-4 rounded-md border border-blue-700",children:[r.jsx("h4",{className:"text-sm font-medium text-blue-200 mb-2",children:" Setup Instructions:"}),r.jsxs("ol",{className:"text-sm text-blue-300 space-y-2",children:[r.jsxs("li",{className:"flex items-start",children:[r.jsx("span",{className:"mr-2",children:"1."}),r.jsxs("span",{children:["Open"," ",r.jsx("strong",{children:"Google Authenticator"})," ","app on your phone"]})]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx("span",{className:"mr-2",children:"2."}),r.jsxs("span",{children:["Tap the ",r.jsx("strong",{children:'"+"'})," ","button to add a new account"]})]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx("span",{className:"mr-2",children:"3."}),r.jsxs("span",{children:["Choose"," ",r.jsx("strong",{children:'"Scan QR code"'})," ","and scan the code above, OR"]})]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx("span",{className:"mr-2",children:"4."}),r.jsxs("span",{children:["Choose"," ",r.jsx("strong",{children:'"Enter setup key"'})," ","and paste the secret key"]})]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx("span",{className:"mr-2",children:"5."}),r.jsx("span",{children:"Verify the 6-digit code appears in the app"})]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx("span",{className:"mr-2",children:"6."}),r.jsx("span",{children:"Enter the code below to complete setup"})]})]})]})]})]}),r.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg border border-gray-700",children:[r.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:" Complete 2FA Setup"}),r.jsxs("form",{onSubmit:O,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"otp",className:"block text-sm font-medium text-gray-300 mb-2",children:"2FA Verification Code:"}),r.jsx("input",{type:"text",id:"otp",value:P,onChange:F=>E(F.target.value),placeholder:"Enter 6-digit code from Google Authenticator",className:"w-full px-3 py-2 border border-gray-600 rounded-md bg-gray-700 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",maxLength:6,pattern:"[0-9]{6}",required:!0}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Enter the 6-digit code from your Google Authenticator app"})]}),r.jsx("button",{type:"submit",disabled:l||!P||P.length!==6,className:"w-full py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 focus:ring-offset-gray-900 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:l?r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx("div",{className:"h-4 w-4 animate-spin border-2 border-white border-t-transparent rounded-full mr-2"}),"Verifying..."]}):" Complete 2FA Setup"})]})]}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsx("button",{onClick:()=>{b(""),C(""),g("")},className:"flex-1 py-2 px-4 border border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-300 bg-gray-700 hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 focus:ring-offset-gray-900",children:"Back"}),r.jsx("button",{onClick:()=>s("/admin/login"),className:"flex-1 py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 focus:ring-offset-gray-900",children:"Go to Login"})]})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("form",{onSubmit:k,className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300",children:"Administrator Email"}),r.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:c,onChange:F=>u(F.target.value),className:"mt-1 appearance-none relative block w-full px-3 py-2 border border-gray-600 bg-gray-700 placeholder-gray-400 text-white rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"admin@example.com"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"secretKey",className:"block text-sm font-medium text-gray-300",children:"Secret Key"}),r.jsx("input",{id:"secretKey",name:"secretKey",type:"password",required:!0,value:m,onChange:F=>f(F.target.value),className:"mt-1 appearance-none relative block w-full px-3 py-2 border border-gray-600 bg-gray-700 placeholder-gray-400 text-white rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Enter secret key"})]}),r.jsx("button",{type:"submit",disabled:l,className:rt("group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 focus:ring-offset-gray-900 disabled:opacity-50 disabled:cursor-not-allowed"),children:l?r.jsx("div",{className:"h-5 w-5 animate-spin border-2 border-white border-t-transparent rounded-full"}):"Initialize Administrator"})]}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-0 flex items-center",children:r.jsx("div",{className:"w-full border-t border-gray-600"})}),r.jsx("div",{className:"relative flex justify-center text-sm",children:r.jsx("span",{className:"px-2 bg-gray-900 text-gray-400",children:"Or"})})]}),r.jsx("button",{onClick:J,disabled:l,className:rt("group relative w-full flex justify-center py-3 px-4 border border-gray-600 text-sm font-medium rounded-md text-gray-300 bg-gray-700 hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 focus:ring-offset-gray-900 disabled:opacity-50 disabled:cursor-not-allowed"),children:l?r.jsx("div",{className:"h-5 w-5 animate-spin border-2 border-gray-400 border-t-transparent rounded-full"}):"Initialize Supervisor"})]})]})})}function dy(){const s=Ir(),[l,o]=y.useState(!1),[c,u]=y.useState({email:"",role:"ADMIN",name:""}),[m,f]=y.useState("");c.email||u(b=>({...b,email:"admin@test.com",name:"Test Admin"}));const p=(b,N=!1)=>{f(b),setTimeout(()=>f(""),1e4)},g=async b=>{if(b.preventDefault(),!c.email||!c.name){p("Fill in all required fields",!0);return}o(!0);try{await ue.post("/admin/invite",c),p(`Invitation sent to ${c.email}`),u({email:"",role:"ADMIN",name:""})}catch(N){const C=N.response?.data?.message||"Error sending invitation";p(C,!0)}finally{o(!1)}},v=(b,N)=>{u(C=>({...C,[b]:N}))};return r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-900 px-4",children:r.jsxs("div",{className:"max-w-md w-full space-y-8",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"mx-auto h-12 w-12 text-blue-400",children:""}),r.jsx("h2",{className:"mt-6 text-3xl font-bold text-white",children:"Invite Administrator"}),r.jsx("p",{className:"mt-2 text-sm text-gray-400",children:"Send invitation to new administrator via email"}),r.jsx("div",{className:"mt-4 p-3 bg-yellow-900 border border-yellow-700 rounded-md",children:r.jsx("p",{className:"text-sm text-yellow-200",children:" Development mode: Testing invitations"})})]}),m&&r.jsx("div",{className:rt("p-4 rounded-md",m.includes("Error")||m.includes("error")?"bg-red-900 text-red-200 border border-red-700":"bg-green-900 text-green-200 border border-green-700"),children:m}),r.jsxs("form",{onSubmit:g,className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-300",children:"Administrator Name *"}),r.jsx("input",{id:"name",name:"name",type:"text",required:!0,value:c.name,onChange:b=>v("name",b.target.value),className:"mt-1 appearance-none relative block w-full px-3 py-2 border border-gray-600 bg-gray-700 placeholder-gray-400 text-white rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"John Doe"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300",children:"Administrator Email *"}),r.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:c.email,onChange:b=>v("email",b.target.value),className:"mt-1 appearance-none relative block w-full px-3 py-2 border border-gray-600 bg-gray-700 placeholder-gray-400 text-white rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"admin@example.com"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-300",children:"Role"}),r.jsxs("select",{id:"role",name:"role",value:c.role,onChange:b=>v("role",b.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-600 bg-gray-700 text-white rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",children:[r.jsx("option",{value:"ADMIN",children:"Administrator"}),r.jsx("option",{value:"SUPERVISOR",children:"Supervisor"})]})]}),r.jsxs("div",{className:"bg-blue-900 p-4 rounded-md border border-blue-700",children:[r.jsx("h4",{className:"text-sm font-medium text-blue-200 mb-2",children:"What will happen:"}),r.jsxs("ul",{className:"text-sm text-blue-300 space-y-1",children:[r.jsx("li",{children:" An invitation will be sent to the specified email"}),r.jsx("li",{children:" Administrator will receive a registration link"}),r.jsx("li",{children:" Google 2FA setup will be required during registration"}),r.jsx("li",{children:" Access will be activated after 2FA setup"})]})]}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsx("button",{type:"button",onClick:()=>s("/dashboard"),className:"flex-1 py-2 px-4 border border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-300 bg-gray-700 hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 focus:ring-offset-gray-900",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:l,className:rt("flex-1 py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 focus:ring-offset-gray-900 disabled:opacity-50 disabled:cursor-not-allowed"),children:l?r.jsx("div",{className:"h-5 w-5 animate-spin border-2 border-white border-t-transparent rounded-full mx-auto"}):"Send Invitation"})]})]})]})})}function uy(){const s=Ir(),[l]=dg(),[o,c]=y.useState(!1),[u,m]=y.useState("register"),[f,p]=y.useState({email:"",password:"",confirmPassword:"",name:"",otp:""}),[g,v]=y.useState(""),[b,N]=y.useState(""),[C,P]=y.useState(""),[E,_]=y.useState(""),[k,J]=y.useState(!1),[O,F]=y.useState(!1);y.useEffect(()=>{const se=l.get("token");se&&(_(se),X(se))},[l]),y.useEffect(()=>{f.email||p(se=>({...se,email:"admin@test.com",name:"Test Admin",password:"TestPass123!",confirmPassword:"TestPass123!"}))},[]);const A=(se,W=!1)=>{v(se),setTimeout(()=>v(""),1e4)},X=async se=>{try{const W=await ue.get(`/admin/invite/validate?token=${se}`),{email:he,name:ne,role:re}=W.data;p(ve=>({...ve,email:he,name:ne}))}catch(W){const he=W.response?.data?.message||"Invalid invitation";A(he,!0),setTimeout(()=>s("/admin/login"),3e3)}},H=se=>se.length<8?"Password must contain at least 8 characters":/\d/.test(se)?/[a-zA-Z]/.test(se)?/[!@#$%^&*(),.?":{}|<>]/.test(se)?null:"Password must contain at least one special character":"Password must contain at least one letter":"Password must contain at least one number",we=async se=>{if(se.preventDefault(),!f.email||!f.password||!f.name){A("Please fill in all required fields",!0);return}if(f.password!==f.confirmPassword){A("Passwords do not match",!0);return}const W=H(f.password);if(W){A(W,!0);return}c(!0);try{const he=await ue.post("/admin/register",{email:f.email,password:f.password,name:f.name,inviteToken:E}),{google2faSecret:ne,otpAuthUrl:re}=he.data;P(ne),N(re),m("2fa"),A("Registration successful! Set up Google Authenticator")}catch(he){const ne=he.response?.data?.message||"Registration error";A(ne,!0)}finally{c(!1)}},te=async se=>{if(se.preventDefault(),!f.otp){A("Please enter 2FA code",!0);return}c(!0);try{await ue.post("/admin/2fa/complete",{email:f.email,otp:f.otp,inviteToken:E}),A("Registration completed! Redirecting to login page..."),setTimeout(()=>s("/admin/login"),2e3)}catch(W){const he=W.response?.data?.message||"2FA verification error";A(he,!0)}finally{c(!1)}},le=(se,W)=>{p(he=>({...he,[se]:W}))};return r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-900 px-4",children:r.jsxs("div",{className:"max-w-md w-full space-y-8",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"mx-auto h-12 w-12 text-blue-400",children:u==="register"?"":""}),r.jsx("h2",{className:"mt-6 text-3xl font-bold text-white",children:u==="register"?"Admin Registration":"2FA Setup"}),r.jsx("p",{className:"mt-2 text-sm text-gray-400",children:u==="register"?"Complete admin registration":"Set up Google Authenticator to complete registration"}),r.jsx("div",{className:"mt-4 p-3 bg-yellow-900 border border-yellow-700 rounded-md",children:r.jsx("p",{className:"text-sm text-yellow-200",children:" Development mode: Testing registration"})})]}),g&&r.jsx("div",{className:rt("p-4 rounded-md",g.includes("error")||g.includes("Error")?"bg-red-900 text-red-200 border border-red-700":"bg-green-900 text-green-200 border border-green-700"),children:g}),u==="register"&&r.jsxs("form",{onSubmit:we,className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-300",children:"Name *"}),r.jsx("input",{id:"name",name:"name",type:"text",required:!0,value:f.name,onChange:se=>le("name",se.target.value),className:"mt-1 appearance-none relative block w-full px-3 py-2 border border-gray-600 bg-gray-700 placeholder-gray-400 text-white rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"John Doe"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300",children:"Email *"}),r.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:f.email,onChange:se=>le("email",se.target.value),className:"mt-1 appearance-none relative block w-full px-3 py-2 border border-gray-600 bg-gray-700 placeholder-gray-400 text-white rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"admin@example.com",readOnly:!!E})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300",children:"Password *"}),r.jsxs("div",{className:"mt-1 relative",children:[r.jsx("input",{id:"password",name:"password",type:k?"text":"password",autoComplete:"new-password",required:!0,value:f.password,onChange:se=>le("password",se.target.value),className:"appearance-none relative block w-full px-3 py-2 pr-10 border border-gray-600 bg-gray-700 placeholder-gray-400 text-white rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Minimum 8 characters"}),r.jsx("button",{type:"button",onClick:()=>J(!k),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-300",children:k?"":""})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-300",children:"Confirm Password *"}),r.jsxs("div",{className:"mt-1 relative",children:[r.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:O?"text":"password",autoComplete:"new-password",required:!0,value:f.confirmPassword,onChange:se=>le("confirmPassword",se.target.value),className:"appearance-none relative block w-full px-3 py-2 pr-10 border border-gray-600 bg-gray-700 placeholder-gray-400 text-white rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Repeat password"}),r.jsx("button",{type:"button",onClick:()=>F(!O),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-300",children:O?"":""})]})]}),r.jsx("button",{type:"submit",disabled:o,className:rt("group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 focus:ring-offset-gray-900 disabled:opacity-50 disabled:cursor-not-allowed"),children:o?r.jsx("div",{className:"h-5 w-5 animate-spin border-2 border-white border-t-transparent rounded-full"}):"Register"})]}),u==="2fa"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg border border-gray-700",children:[r.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Google Authenticator Setup"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"QR Code for scanning:"}),r.jsx("div",{className:"flex justify-center",children:r.jsx("img",{src:`https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${encodeURIComponent(b)}`,alt:"QR Code",className:"border border-gray-600 rounded"})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Secret for manual entry:"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("input",{type:"text",value:C,readOnly:!0,"aria-label":"Google 2FA secret key",className:"flex-1 px-3 py-2 border border-gray-600 bg-gray-700 text-white text-sm font-mono rounded-md"}),r.jsx("button",{onClick:()=>navigator.clipboard.writeText(C),className:"px-3 py-2 text-sm border border-gray-600 bg-gray-700 text-gray-300 rounded-md hover:bg-gray-600","aria-label":"Copy secret to clipboard",children:"Copy"})]})]}),r.jsxs("div",{className:"bg-blue-900 p-4 rounded-md border border-blue-700",children:[r.jsx("h4",{className:"text-sm font-medium text-blue-200 mb-2",children:"Instructions:"}),r.jsxs("ol",{className:"text-sm text-blue-300 space-y-1",children:[r.jsx("li",{children:"1. Open Google Authenticator"}),r.jsx("li",{children:'2. Tap "+" to add account'}),r.jsx("li",{children:'3. Choose "Scan QR code" or enter secret manually'}),r.jsx("li",{children:"4. Enter the received code below"})]})]})]})]}),r.jsxs("form",{onSubmit:te,className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"otp",className:"block text-sm font-medium text-gray-300",children:"2FA Code *"}),r.jsx("input",{id:"otp",name:"otp",type:"text",autoComplete:"one-time-code",required:!0,value:f.otp,onChange:se=>le("otp",se.target.value.replace(/\D/g,"").slice(0,6)),className:"mt-1 appearance-none relative block w-full px-3 py-2 border border-gray-600 bg-gray-700 placeholder-gray-400 text-white rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"000000",maxLength:6})]}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsx("button",{type:"button",onClick:()=>m("register"),className:"flex-1 py-2 px-4 border border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-300 bg-gray-700 hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 focus:ring-offset-gray-900",children:"Back"}),r.jsx("button",{type:"submit",disabled:o||f.otp.length!==6,className:rt("flex-1 py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 focus:ring-offset-gray-900 disabled:opacity-50 disabled:cursor-not-allowed"),children:o?r.jsx("div",{className:"h-5 w-5 animate-spin border-2 border-white border-t-transparent rounded-full mx-auto"}):"Complete Registration"})]})]})]})]})})}function my({user:s,is2FAEnabled:l}){return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-gray-700 shadow rounded-lg border border-gray-600 p-6",children:[r.jsx("h2",{className:"text-lg font-medium text-white mb-4",children:" Account Information"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"Email:"}),r.jsx("span",{className:"text-white",children:s?.email})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"Role:"}),r.jsx("span",{className:"text-white",children:s?.role})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"2FA Status:"}),r.jsx("span",{className:rt("px-2 py-1 rounded-full text-xs font-medium",l?"bg-green-900 text-green-200":"bg-red-900 text-red-200"),children:l?"Enabled":"Disabled"})]})]})]}),r.jsxs("div",{className:"bg-gray-700 shadow rounded-lg border border-gray-600 p-6",children:[r.jsx("h2",{className:"text-lg font-medium text-white mb-4",children:" Account Statistics"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"bg-gray-600 p-4 rounded-lg",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-300 mb-2",children:"Account Type"}),r.jsx("p",{className:"text-white font-semibold",children:s?.role})]}),r.jsxs("div",{className:"bg-gray-600 p-4 rounded-lg",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-300 mb-2",children:"Security Level"}),r.jsx("p",{className:"text-white font-semibold",children:l?"High (2FA Enabled)":"Standard"})]})]})]})]})}function fy({user:s,loading:l,setLoading:o,showMessage:c,qrCode:u,setQrCode:m,google2faSecret:f,setGoogle2faSecret:p,otp:g,setOtp:v,show2FASetup:b,setShow2FASetup:N,show2FAInfo:C,setShow2FAInfo:P,is2FAEnabled:E,setIs2FAEnabled:_}){const k=async()=>{o(!0);try{const A=await ue.post("/admin/2fa/setup",{email:s?.email}),{google2faSecret:X,otpAuthUrl:H}=A.data;p(X),m(H),N(!0),c("2FA setup initiated. Please scan the QR code.")}catch(A){const X=A.response?.data?.message||"Failed to setup 2FA";c(X,!0)}finally{o(!1)}},J=async A=>{if(A.preventDefault(),!g||g.length!==6){c("Please enter a valid 6-digit 2FA code",!0);return}o(!0);try{const X=await ue.post("/admin/2fa/complete",{email:s?.email,otp:g});_(!0),N(!1),v(""),m(""),p(""),c("2FA setup completed successfully!")}catch(X){const H=X.response?.data?.message||"Failed to complete 2FA setup";c(H,!0)}finally{o(!1)}},O=async()=>{o(!0);try{const A=await ue.get("/admin/2fa/info"),{google2faSecret:X,otpAuthUrl:H}=A.data;p(X),m(H),P(!0)}catch(A){const X=A.response?.data?.message||"Failed to get 2FA info";c(X,!0)}finally{o(!1)}},F=async()=>{if(confirm("Are you sure you want to disable 2FA? This will make your account less secure.")){o(!0);try{await ue.post("/admin/2fa/disable",{email:s?.email}),_(!1),c("2FA has been disabled.")}catch(A){const X=A.response?.data?.message||"Failed to disable 2FA";c(X,!0)}finally{o(!1)}}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-gray-700 shadow rounded-lg border border-gray-600 p-6",children:[r.jsx("h2",{className:"text-lg font-medium text-white mb-4",children:" Two-Factor Authentication"}),r.jsx("p",{className:"text-gray-400 mb-4",children:"Two-factor authentication adds an extra layer of security to your account by requiring a code from your phone in addition to your password."}),E?r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"bg-green-900 p-4 rounded-md border border-green-700",children:r.jsx("p",{className:"text-green-200 text-sm",children:" 2FA is enabled for your account. Your account is now more secure."})}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsx("button",{onClick:O,disabled:l,className:"px-4 py-2 bg-blue-600 border border-transparent rounded-md text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-gray-800 disabled:opacity-50",children:l?"Loading...":" Get QR Code"}),r.jsx("button",{onClick:F,disabled:l,className:"px-4 py-2 border border-red-600 rounded-md text-red-300 hover:bg-red-900 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 focus:ring-offset-gray-800 disabled:opacity-50",children:l?"Disabling...":"Disable 2FA"})]})]}):r.jsx("div",{className:"space-y-4",children:r.jsx("button",{onClick:k,disabled:l,className:"px-4 py-2 bg-blue-600 border border-transparent rounded-md text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-gray-800 disabled:opacity-50",children:l?"Setting up...":"Setup 2FA"})})]}),b&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-gray-700 p-6 rounded-lg border border-gray-600",children:[r.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:" Google Authenticator Setup"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"QR Code for scanning:"}),r.jsx("div",{className:"flex justify-center",children:u?r.jsx("img",{src:`https://api.qrserver.com/v1/create-qr-code/?size=250x250&data=${encodeURIComponent(u)}&margin=10&format=png`,alt:"QR Code for Google Authenticator",className:"border-2 border-gray-600 rounded-lg shadow-lg",style:{maxWidth:"250px",height:"auto"}}):r.jsx("div",{className:"flex items-center justify-center w-64 h-64 border-2 border-gray-600 rounded-lg bg-gray-600",children:r.jsxs("div",{className:"text-gray-400 text-center",children:[r.jsx("div",{className:"text-4xl mb-2",children:""}),r.jsx("div",{className:"text-sm",children:"QR Code loading..."})]})})}),u&&r.jsx("div",{className:"text-center mt-2",children:r.jsx("p",{className:"text-xs text-gray-400",children:"Scan this QR code with Google Authenticator"})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Secret Key (for manual entry):"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("input",{type:"text",value:f,readOnly:!0,"aria-label":"Google 2FA secret key",className:"flex-1 px-3 py-2 border border-gray-600 rounded-md bg-gray-600 text-white text-sm font-mono tracking-wider"}),r.jsx("button",{onClick:()=>{navigator.clipboard.writeText(f),c("Secret key copied to clipboard!")},className:"px-3 py-2 text-sm border border-gray-600 bg-gray-600 text-gray-300 rounded-md hover:bg-gray-500 transition-colors","aria-label":"Copy secret to clipboard",children:" Copy"})]}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Use this secret key if you can't scan the QR code"})]}),r.jsxs("div",{className:"bg-blue-900 p-4 rounded-md border border-blue-700",children:[r.jsx("h4",{className:"text-sm font-medium text-blue-200 mb-2",children:" Setup Instructions:"}),r.jsxs("ol",{className:"text-sm text-blue-300 space-y-2",children:[r.jsxs("li",{className:"flex items-start",children:[r.jsx("span",{className:"mr-2",children:"1."}),r.jsxs("span",{children:["Open"," ",r.jsx("strong",{children:"Google Authenticator"})," app on your phone"]})]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx("span",{className:"mr-2",children:"2."}),r.jsxs("span",{children:["Tap the ",r.jsx("strong",{children:'"+"'})," button to add a new account"]})]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx("span",{className:"mr-2",children:"3."}),r.jsxs("span",{children:["Choose ",r.jsx("strong",{children:'"Scan QR code"'})," ","and scan the code above, OR"]})]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx("span",{className:"mr-2",children:"4."}),r.jsxs("span",{children:["Choose ",r.jsx("strong",{children:'"Enter setup key"'})," ","and paste the secret key"]})]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx("span",{className:"mr-2",children:"5."}),r.jsx("span",{children:"Verify the 6-digit code appears in the app"})]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx("span",{className:"mr-2",children:"6."}),r.jsx("span",{children:"Enter the code below to complete setup"})]})]})]})]})]}),r.jsxs("div",{className:"bg-gray-700 p-6 rounded-lg border border-gray-600",children:[r.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:" Complete 2FA Setup"}),r.jsxs("form",{onSubmit:J,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"otp",className:"block text-sm font-medium text-gray-300 mb-2",children:"2FA Verification Code:"}),r.jsx("input",{type:"text",id:"otp",value:g,onChange:A=>v(A.target.value),placeholder:"Enter 6-digit code from Google Authenticator",className:"w-full px-3 py-2 border border-gray-600 rounded-md bg-gray-600 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",maxLength:6,pattern:"[0-9]{6}",required:!0}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Enter the 6-digit code from your Google Authenticator app"})]}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsx("button",{type:"submit",disabled:l||!g||g.length!==6,className:"flex-1 py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 focus:ring-offset-gray-900 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:l?r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx("div",{className:"h-4 w-4 animate-spin border-2 border-white border-t-transparent rounded-full mr-2"}),"Verifying..."]}):" Complete 2FA Setup"}),r.jsx("button",{type:"button",onClick:()=>{N(!1),v(""),m(""),p("")},className:"flex-1 py-2 px-4 border border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-300 bg-gray-600 hover:bg-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 focus:ring-offset-gray-900 transition-colors",children:"Cancel"})]})]})]})]}),C&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-gray-700 p-6 rounded-lg border border-gray-600",children:[r.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:" Your 2FA QR Code"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"QR Code for scanning:"}),r.jsx("div",{className:"flex justify-center",children:u?r.jsx("img",{src:`https://api.qrserver.com/v1/create-qr-code/?size=250x250&data=${encodeURIComponent(u)}&margin=10&format=png`,alt:"QR Code for Google Authenticator",className:"border-2 border-gray-600 rounded-lg shadow-lg",style:{maxWidth:"250px",height:"auto"}}):r.jsx("div",{className:"flex items-center justify-center w-64 h-64 border-2 border-gray-600 rounded-lg bg-gray-600",children:r.jsxs("div",{className:"text-gray-400 text-center",children:[r.jsx("div",{className:"text-4xl mb-2",children:""}),r.jsx("div",{className:"text-sm",children:"QR Code loading..."})]})})}),u&&r.jsx("div",{className:"text-center mt-2",children:r.jsx("p",{className:"text-xs text-gray-400",children:"Scan this QR code with Google Authenticator"})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Secret Key (for manual entry):"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("input",{type:"text",value:f,readOnly:!0,"aria-label":"Google 2FA secret key",className:"flex-1 px-3 py-2 border border-gray-600 rounded-md bg-gray-600 text-white text-sm font-mono tracking-wider"}),r.jsx("button",{onClick:()=>{navigator.clipboard.writeText(f),c("Secret key copied to clipboard!")},className:"px-3 py-2 text-sm border border-gray-600 bg-gray-600 text-gray-300 rounded-md hover:bg-gray-500 transition-colors","aria-label":"Copy secret to clipboard",children:" Copy"})]}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Use this secret key if you can't scan the QR code"})]}),r.jsxs("div",{className:"bg-green-900 p-4 rounded-md border border-green-700",children:[r.jsx("h4",{className:"text-sm font-medium text-green-200 mb-2",children:" Setup Instructions:"}),r.jsxs("ol",{className:"text-sm text-green-300 space-y-2",children:[r.jsxs("li",{className:"flex items-start",children:[r.jsx("span",{className:"mr-2",children:"1."}),r.jsxs("span",{children:["Open"," ",r.jsx("strong",{children:"Google Authenticator"})," app on your phone"]})]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx("span",{className:"mr-2",children:"2."}),r.jsxs("span",{children:["Tap the ",r.jsx("strong",{children:'"+"'})," button to add a new account"]})]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx("span",{className:"mr-2",children:"3."}),r.jsxs("span",{children:["Choose ",r.jsx("strong",{children:'"Scan QR code"'})," ","and scan the code above, OR"]})]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx("span",{className:"mr-2",children:"4."}),r.jsxs("span",{children:["Choose ",r.jsx("strong",{children:'"Enter setup key"'})," ","and paste the secret key"]})]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx("span",{className:"mr-2",children:"5."}),r.jsx("span",{children:"Verify the 6-digit code appears in the app"})]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx("span",{className:"mr-2",children:"6."}),r.jsx("span",{children:"You can now use this code to login to the admin panel"})]})]})]})]})]}),r.jsx("div",{className:"flex justify-center",children:r.jsx("button",{onClick:()=>{P(!1),m(""),p("")},className:"px-4 py-2 border border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-300 bg-gray-600 hover:bg-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 focus:ring-offset-gray-900",children:"Close"})})]})]})}function py({loading:s,setLoading:l,showMessage:o,showPasswordChange:c,setShowPasswordChange:u,currentPassword:m,setCurrentPassword:f,newPassword:p,setNewPassword:g,confirmPassword:v,setConfirmPassword:b,passwordInfo:N,setPasswordInfo:C,showCurrentPassword:P,setShowCurrentPassword:E,showNewPassword:_,setShowNewPassword:k,showConfirmPassword:J,setShowConfirmPassword:O,passwordMismatch:F,setPasswordMismatch:A,hasCyrillic:X,setHasCyrillic:H}){y.useEffect(()=>{A(!!(p&&v&&p!==v))},[p,v,A]);const we=le=>/[-]/i.test(le),te=async le=>{if(le.preventDefault(),p!==v){o("New passwords do not match",!0);return}if(we(p)){o("Password must contain only Latin letters",!0);return}l(!0);try{await ue.post("/admin/password/change",{currentPassword:m,newPassword:p}),f(""),g(""),b(""),u(!1),E(!1),k(!1),O(!1),A(!1),H(!1),o("Password changed successfully!")}catch(se){const W=se.response?.data?.message||"Failed to change password";o(W,!0)}finally{l(!1)}};return r.jsxs("div",{className:"space-y-6",children:[N&&r.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg border border-gray-600",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-200 mb-3",children:"Password Information"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("p",{className:"text-gray-300",children:[r.jsx("strong",{children:"Password set:"})," ",N.hasPassword?" Yes":" No"]}),N.passwordChangedAt&&r.jsxs("p",{className:"text-gray-300",children:[r.jsx("strong",{children:"Last changed:"})," ",new Date(N.passwordChangedAt).toLocaleDateString()]}),N.passwordExpiresAt&&r.jsxs("p",{className:"text-gray-300",children:[r.jsx("strong",{children:"Expires:"})," ",new Date(N.passwordExpiresAt).toLocaleDateString()]}),N.lastLoginAt&&r.jsxs("p",{className:"text-gray-300",children:[r.jsx("strong",{children:"Last login:"})," ",new Date(N.lastLoginAt).toLocaleDateString()]}),N.passwordWarning&&r.jsxs("p",{className:"text-yellow-400",children:[r.jsx("strong",{children:"Warning:"})," ",N.passwordMessage]}),N.isLocked&&r.jsxs("p",{className:"text-red-400",children:[r.jsx("strong",{children:"Account locked:"})," ",N.lockMinutesLeft," min."]})]})]}),r.jsxs("div",{className:"bg-gray-700 shadow rounded-lg border border-gray-600 p-6",children:[r.jsx("h2",{className:"text-lg font-medium text-white mb-4",children:" Password Management"}),r.jsx("button",{onClick:()=>u(!c),className:"px-4 py-2 bg-blue-600 border border-transparent rounded-md text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-gray-800",children:c?" Cancel":" Change Password"})]}),c&&r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{className:"bg-gray-700 p-6 rounded-lg border border-gray-600",children:[r.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:" Change Password"}),r.jsxs("form",{onSubmit:te,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"currentPassword",className:"block text-sm font-medium text-gray-300 mb-2",children:"Current Password"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:P?"text":"password",id:"currentPassword",value:m,onChange:le=>f(le.target.value),required:!0,className:"w-full px-3 py-2 pr-10 border border-gray-600 rounded-md bg-gray-600 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),r.jsx("button",{type:"button",onClick:()=>E(!P),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-300 focus:outline-none",children:P?r.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"})}):r.jsxs("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-gray-300 mb-2",children:"New Password"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:_?"text":"password",id:"newPassword",value:p,onChange:le=>{const se=le.target.value;g(se),H(we(se))},required:!0,className:"w-full px-3 py-2 pr-10 border border-gray-600 rounded-md bg-gray-600 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),r.jsx("button",{type:"button",onClick:()=>k(!_),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-300 focus:outline-none",children:_?r.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"})}):r.jsxs("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]}),X&&r.jsx("p",{className:"text-red-400 text-xs mt-1",children:" Password cannot contain Cyrillic characters"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-300 mb-2",children:"Confirm New Password"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:J?"text":"password",id:"confirmPassword",value:v,onChange:le=>{b(le.target.value)},required:!0,className:"w-full px-3 py-2 pr-10 border border-gray-600 rounded-md bg-gray-600 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),r.jsx("button",{type:"button",onClick:()=>O(!J),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-300 focus:outline-none",children:J?r.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"})}):r.jsxs("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]}),F&&v&&r.jsx("p",{className:"text-red-400 text-xs mt-1",children:" Passwords do not match"})]}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsx("button",{type:"submit",disabled:s||!m||!p||!v||F||X,className:"flex-1 py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 focus:ring-offset-gray-900 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:s?r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx("div",{className:"h-4 w-4 animate-spin border-2 border-white border-t-transparent rounded-full mr-2"}),"Changing..."]}):"Change Password"}),r.jsx("button",{type:"button",onClick:()=>{u(!1),f(""),g(""),b(""),A(!1),H(!1)},className:"flex-1 py-2 px-4 border border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-300 bg-gray-600 hover:bg-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 focus:ring-offset-gray-900 transition-colors",children:"Cancel"})]})]})]})})]})}function hy({loading:s,setLoading:l,showMessage:o,showInviteForm:c,setShowInviteForm:u,inviteEmail:m,setInviteEmail:f,inviteName:p,setInviteName:g,inviteRole:v,setInviteRole:b,invites:N,setInvites:C}){const[P,E]=y.useState(!1),_=async()=>{try{l(!0);const H=await ue.get("/admin/invites");C(H.data)}catch(H){console.error("Error fetching invites:",H),o("Failed to fetch invites",!0)}finally{l(!1)}},k=async H=>{if(H.preventDefault(),!m.trim()||!p.trim()){o("Please fill in all fields",!0);return}try{E(!0),await ue.post("/admin/invites",{email:m.trim(),name:p.trim(),role:v}),o("Invitation sent successfully!"),f(""),g(""),b("ADMIN"),u(!1),await _()}catch(we){console.error("Error sending invite:",we),o(we.response?.data?.message||"Failed to send invitation",!0)}finally{E(!1)}},J=H=>{switch(H){case"PENDING":return r.jsx(xi,{className:"h-4 w-4 text-yellow-500"});case"ACCEPTED":return r.jsx(Wm,{className:"h-4 w-4 text-green-500"});case"EXPIRED":return r.jsx($x,{className:"h-4 w-4 text-red-500"});default:return r.jsx(xi,{className:"h-4 w-4 text-gray-500"})}},O=H=>{switch(H){case"PENDING":return"Pending";case"ACCEPTED":return"Accepted";case"EXPIRED":return"Expired";default:return"Unknown"}},F=H=>{switch(H){case"PENDING":return"text-yellow-500 bg-yellow-500/10";case"ACCEPTED":return"text-green-500 bg-green-500/10";case"EXPIRED":return"text-red-500 bg-red-500/10";default:return"text-gray-500 bg-gray-500/10"}},A=H=>new Date(H).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),X=H=>{switch(H){case"ADMIN":return"text-blue-500 bg-blue-500/10";case"SUPERVISOR":return"text-purple-500 bg-purple-500/10";default:return"text-gray-500 bg-gray-500/10"}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-white",children:"Admin Invitations"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Manage invitations for new administrators and supervisors"})]}),r.jsxs("button",{onClick:()=>u(!c),className:"inline-flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium rounded-lg transition-colors",children:[r.jsx(Qt,{className:"h-4 w-4 mr-2"}),c?"Cancel":"Send Invite"]})]}),c&&r.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded-lg p-6",children:[r.jsx("h4",{className:"text-md font-medium text-white mb-4",children:"Send New Invitation"}),r.jsxs("form",{onSubmit:k,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"inviteEmail",className:"block text-sm font-medium text-gray-300 mb-2",children:"Email Address"}),r.jsx("input",{type:"email",id:"inviteEmail",value:m,onChange:H=>f(H.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"admin@example.com",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"inviteName",className:"block text-sm font-medium text-gray-300 mb-2",children:"Full Name"}),r.jsx("input",{type:"text",id:"inviteName",value:p,onChange:H=>g(H.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"John Doe",required:!0})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"inviteRole",className:"block text-sm font-medium text-gray-300 mb-2",children:"Role"}),r.jsxs("select",{id:"inviteRole",value:v,onChange:H=>b(H.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"ADMIN",children:"Administrator"}),r.jsx("option",{value:"SUPERVISOR",children:"Supervisor"})]})]}),r.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[r.jsx("button",{type:"button",onClick:()=>u(!1),className:"px-4 py-2 text-gray-300 hover:text-white transition-colors",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:P||s,className:"inline-flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 disabled:cursor-not-allowed text-white text-sm font-medium rounded-lg transition-colors",children:P?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Sending..."]}):r.jsxs(r.Fragment,{children:[r.jsx(qx,{className:"h-4 w-4 mr-2"}),"Send Invitation"]})})]})]})]}),r.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded-lg",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-700",children:r.jsxs("h4",{className:"text-md font-medium text-white",children:["Invitations (",N.length,")"]})}),r.jsx("div",{className:"divide-y divide-gray-700",children:s?r.jsxs("div",{className:"p-6 text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto"}),r.jsx("p",{className:"text-gray-400 mt-2",children:"Loading invitations..."})]}):N.length===0?r.jsxs("div",{className:"p-6 text-center",children:[r.jsx(ny,{className:"h-12 w-12 text-gray-500 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-400",children:"No invitations found"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Send your first invitation to get started"})]}):N.map(H=>r.jsx("div",{className:"p-6",children:r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[r.jsx("h5",{className:"text-white font-medium",children:H.name}),r.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${X(H.role)}`,children:H.role}),r.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${F(H.status)}`,children:[J(H.status),r.jsx("span",{className:"ml-1",children:O(H.status)})]})]}),r.jsx("p",{className:"text-gray-400 text-sm mb-1",children:H.email}),r.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-500",children:[r.jsxs("span",{children:["Created:"," ",A(H.createdAt)]}),H.expiresAt&&r.jsxs("span",{children:["Expires:"," ",A(H.expiresAt)]})]})]})})},H.id))})]})]})}function gy(){const{user:s,isAuthenticated:l}=Jt(),[o,c]=y.useState("account"),[u,m]=y.useState(!1),[f,p]=y.useState(""),[g,v]=y.useState(""),[b,N]=y.useState(""),[C,P]=y.useState(""),[E,_]=y.useState(!1),[k,J]=y.useState(!1),[O,F]=y.useState(!1),[A,X]=y.useState(!1),[H,we]=y.useState(""),[te,le]=y.useState(""),[se,W]=y.useState(""),[he,ne]=y.useState(null),[re,ve]=y.useState(!1),[ke,Ce]=y.useState(!1),[Q,ie]=y.useState(!1),[B,w]=y.useState(!1),[M,$]=y.useState(!1),[ee,xe]=y.useState(!1),[ye,de]=y.useState(""),[z,x]=y.useState(""),[V,ae]=y.useState("ADMIN"),[D,Z]=y.useState([]),[fe,Pe]=y.useState([]);if(y.useEffect(()=>{l&&s&&((async()=>{try{const ur=await ue.get("/admin/2fa/info");F(ur.data.is2FAEnabled)}catch{F(!1)}})(),nt(),jt())},[l,s]),y.useEffect(()=>{o==="invitations"&&l&&s&&jt()},[o,l,s]),y.useEffect(()=>{o==="users"&&l&&s&&wt()},[o,l,s]),!l)return null;const Ee=(De,ur=!1)=>{p(De),setTimeout(()=>p(""),1e4)},nt=async()=>{try{const De=await ue.get("/admin/password/info");ne(De.data)}catch(De){console.error("Failed to fetch password info:",De)}},jt=async()=>{try{const De=await ue.get("/admin/invites");Z(De.data||[])}catch(De){console.error("Failed to fetch invites:",De)}},wt=async()=>{try{const De=await ue.get("/admin/users");Pe(De.data||[])}catch(De){console.error("Failed to fetch users:",De)}},We=[{id:"account",label:"Account Info",icon:""},{id:"2fa",label:"2FA Security",icon:""},{id:"password",label:"Password",icon:""},{id:"invitations",label:"Invitations",icon:""}];return r.jsx("div",{className:"min-h-screen bg-gray-900 text-white p-6",children:r.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[r.jsxs("div",{className:"bg-gray-800 shadow rounded-lg border border-gray-700 p-6",children:[r.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:" Admin Settings"}),r.jsx("p",{className:"text-gray-400",children:"Manage your account settings, security, and admin invitations"})]}),f&&r.jsx("div",{className:rt("p-4 rounded-md border",f.includes("Error")||f.includes("Failed")?"bg-red-900 border-red-700 text-red-200":"bg-green-900 border-green-700 text-green-200"),children:f}),r.jsxs("div",{className:"bg-gray-800 shadow rounded-lg border border-gray-700",children:[r.jsx("div",{className:"border-b border-gray-700",children:r.jsx("nav",{className:"flex space-x-8 px-6","aria-label":"Tabs",children:We.map(De=>r.jsxs("button",{onClick:()=>c(De.id),className:rt("py-4 px-1 border-b-2 font-medium text-sm transition-colors",o===De.id?"border-blue-500 text-blue-400":"border-transparent text-gray-400 hover:text-gray-300 hover:border-gray-300"),children:[r.jsx("span",{className:"mr-2",children:De.icon}),De.label]},De.id))})}),r.jsxs("div",{className:"p-6",children:[o==="account"&&r.jsx(my,{user:s,is2FAEnabled:O}),o==="2fa"&&r.jsx(fy,{user:s,loading:u,setLoading:m,showMessage:Ee,qrCode:g,setQrCode:v,google2faSecret:b,setGoogle2faSecret:N,otp:C,setOtp:P,show2FASetup:E,setShow2FASetup:_,show2FAInfo:k,setShow2FAInfo:J,is2FAEnabled:O,setIs2FAEnabled:F}),o==="password"&&r.jsx(py,{loading:u,setLoading:m,showMessage:Ee,showPasswordChange:A,setShowPasswordChange:X,currentPassword:H,setCurrentPassword:we,newPassword:te,setNewPassword:le,confirmPassword:se,setConfirmPassword:W,passwordInfo:he,setPasswordInfo:ne,showCurrentPassword:re,setShowCurrentPassword:ve,showNewPassword:ke,setShowNewPassword:Ce,showConfirmPassword:Q,setShowConfirmPassword:ie,passwordMismatch:B,setPasswordMismatch:w,hasCyrillic:M,setHasCyrillic:$}),o==="invitations"&&r.jsx(hy,{loading:u,setLoading:m,showMessage:Ee,showInviteForm:ee,setShowInviteForm:xe,inviteEmail:ye,setInviteEmail:de,inviteName:z,setInviteName:x,inviteRole:V,setInviteRole:ae,invites:D,setInvites:Z})]})]})]})})}function xy(){const[s,l]=y.useState(""),[o,c]=y.useState(""),[u,m]=y.useState(""),[f,p]=y.useState(!1),[g,v]=y.useState(""),[b,N]=y.useState(""),[C,P]=y.useState([]),[E,_]=y.useState(!1),{user:k}=Jt();if(!k||k.role!=="SUPERVISOR")return r.jsx("div",{className:"max-w-md mx-auto bg-white p-6 rounded-lg shadow-md",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"mx-auto h-12 w-12 text-red-400",children:""}),r.jsx("h2",{className:"mt-4 text-xl font-bold text-gray-900",children:" "}),r.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"      "})]})});const J=A=>A.length<8?"    8 ":/\d/.test(A)?/[a-zA-Z]/.test(A)?/[!@#$%^&*(),.?":{}|<>]/.test(A)?null:"       ":"      ":"      ",O=async()=>{_(!0);try{const A=await Qr("/api/admin/users",{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`}});A.ok&&P(A.data.admins||[])}catch(A){console.error("Failed to fetch admins:",A)}finally{_(!1)}};bi.useEffect(()=>{O()},[]);const F=async A=>{if(A.preventDefault(),p(!0),v(""),N(""),!s||!o){v("     "),p(!1);return}if(o!==u){v("   "),p(!1);return}const X=J(o);if(X){v(X),p(!1);return}try{const H=await Qr("/api/admin/password/force-change",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("accessToken")}`},body:JSON.stringify({adminId:parseInt(s),newPassword:o})});if(!H.ok)throw new Error(H.error||"  ");N(`  ${H.data.email}  `),l(""),c(""),m("")}catch(H){v(H instanceof Error?H.message:" ")}finally{p(!1)}};return r.jsxs("div",{className:"max-w-md mx-auto bg-white p-6 rounded-lg shadow-md",children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("div",{className:"mx-auto h-12 w-12 text-orange-400",children:""}),r.jsx("h2",{className:"mt-4 text-xl font-bold text-gray-900",children:"  "}),r.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"  "})]}),r.jsxs("form",{onSubmit:F,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"adminId",className:"block text-sm font-medium text-gray-700",children:" *"}),r.jsxs("select",{id:"adminId",value:s,onChange:A=>l(A.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:"",children:" "}),E?r.jsx("option",{disabled:!0,children:"..."}):C.map(A=>r.jsxs("option",{value:A.id,children:[A.name," (",A.email,") - ",A.role]},A.id))]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-gray-700",children:"  *"}),r.jsx("input",{type:"password",id:"newPassword",value:o,onChange:A=>c(A.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"}),r.jsx("p",{className:"mt-1 text-xs text-gray-500",children:" 8 ,  ,    "})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"   *"}),r.jsx("input",{type:"password",id:"confirmPassword",value:u,onChange:A=>m(A.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),g&&r.jsx("div",{className:"rounded-md bg-red-50 p-4",children:r.jsx("div",{className:"text-sm text-red-700",children:g})}),b&&r.jsx("div",{className:"rounded-md bg-green-50 p-4",children:r.jsx("div",{className:"text-sm text-green-700",children:b})}),r.jsx("button",{type:"submit",disabled:f,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-orange-600 hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 disabled:opacity-50 disabled:cursor-not-allowed",children:f?" ...":"  "})]}),r.jsx("div",{className:"mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-md",children:r.jsxs("div",{className:"flex",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:"h-5 w-5 text-yellow-400",children:""})}),r.jsxs("div",{className:"ml-3",children:[r.jsx("h3",{className:"text-sm font-medium text-yellow-800",children:""}),r.jsx("div",{className:"mt-2 text-sm text-yellow-700",children:r.jsx("p",{children:"           ."})})]})]})})]})}function yy(){const{user:s,logout:l}=Jt(),[o,c]=y.useState("game"),[u,m]=y.useState({DAILY_BONUS_STARDUST:50,DAILY_BONUS_DARK_MATTER:5,GALAXY_BASE_PRICE:100,ARTIFACT_DROP_RATE:.1,LEADERBOARD_LIMIT:100}),[f,p]=y.useState(!0),[g,v]=y.useState(!1),[b,N]=y.useState("");y.useEffect(()=>{P()},[]);const C=(J,O=!1)=>{N(J),setTimeout(()=>N(""),3e3)},P=async()=>{try{const J=await ue.get("/admin/settings");m(J.data)}catch{C("Error loading settings",!0)}finally{p(!1)}},E=async()=>{v(!0);try{await ue.put("/admin/settings",u),C("Settings saved")}catch{C("Error saving settings",!0)}finally{v(!1)}},_=()=>{m({DAILY_BONUS_STARDUST:50,DAILY_BONUS_DARK_MATTER:5,GALAXY_BASE_PRICE:100,ARTIFACT_DROP_RATE:.1,LEADERBOARD_LIMIT:100}),C("Settings reset to default values")};if(f)return r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"h-8 w-8 animate-spin border-2 border-blue-400 border-t-transparent rounded-full"})});const k=[{key:"DAILY_BONUS_STARDUST",label:"Daily Stardust Bonus",description:"Amount of Stardust given for daily login",icon:"",type:"number",min:0,max:1e3,step:1},{key:"DAILY_BONUS_DARK_MATTER",label:"Daily Dark Matter Bonus",description:"Amount of Dark Matter given for daily login",icon:"",type:"number",min:0,max:100,step:1},{key:"GALAXY_BASE_PRICE",label:"Galaxy Base Price",description:"Cost to purchase a new galaxy in Stardust",icon:"",type:"number",min:10,max:1e4,step:10},{key:"ARTIFACT_DROP_RATE",label:"Artifact Drop Rate",description:"Probability of getting an artifact when exploring (0.0 - 1.0)",icon:"",type:"number",min:0,max:1,step:.01},{key:"LEADERBOARD_LIMIT",label:"Leaderboard Limit",description:"Maximum number of players in leaderboard",icon:"",type:"number",min:10,max:1e3,step:10}];return r.jsxs("div",{className:"min-h-screen bg-gray-900",children:[r.jsx("div",{className:"bg-gray-800 shadow border-b border-gray-700",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex justify-between items-center py-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-white",children:""}),r.jsx("p",{className:"mt-1 text-sm text-gray-400",children:"    "})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("span",{className:"text-sm text-gray-300",children:s?.username}),r.jsx("button",{onClick:l,className:"text-sm text-gray-300 hover:text-white",children:""})]})]})})}),r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[b&&r.jsx("div",{className:rt("mb-6 p-4 rounded-md",b.includes("Error")?"bg-red-900 text-red-200 border border-red-700":"bg-green-900 text-green-200 border border-green-700"),children:b}),r.jsx("div",{className:"mb-6 border-b border-gray-700",children:r.jsxs("nav",{className:"-mb-px flex space-x-8",children:[r.jsx("button",{onClick:()=>c("game"),className:rt("py-2 px-1 border-b-2 font-medium text-sm",o==="game"?"border-blue-500 text-blue-400":"border-transparent text-gray-400 hover:text-gray-300 hover:border-gray-300"),children:"  "}),s?.role==="SUPERVISOR"&&r.jsx("button",{onClick:()=>c("force-password"),className:rt("py-2 px-1 border-b-2 font-medium text-sm",o==="force-password"?"border-blue-500 text-blue-400":"border-transparent text-gray-400 hover:text-gray-300 hover:border-gray-300"),children:"  "})]})}),o==="game"&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"bg-gray-800 shadow rounded-lg border border-gray-700",children:r.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[r.jsx("div",{className:"space-y-6",children:k.map(J=>r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:"inline-flex items-center justify-center p-2 rounded-md bg-blue-100 text-blue-600",children:r.jsx("span",{className:"text-lg",children:J.icon})})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("label",{htmlFor:J.key,className:"block text-sm font-medium text-gray-300",children:J.label}),r.jsx("p",{className:"text-sm text-gray-400",children:J.description}),r.jsx("div",{className:"mt-2",children:r.jsx("input",{type:J.type,id:J.key,value:u[J.key],onChange:O=>{const F=J.type==="number"?parseFloat(O.target.value):O.target.value;m(A=>({...A,[J.key]:F}))},min:J.min,max:J.max,step:J.step,className:"block w-full border-gray-600 bg-gray-700 text-white rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})})]})]},J.key))}),r.jsxs("div",{className:"mt-8 flex justify-end space-x-3",children:[r.jsx("button",{onClick:_,className:"px-4 py-2 border border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-300 bg-gray-700 hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 focus:ring-offset-gray-800",children:""}),r.jsxs("button",{onClick:E,disabled:g,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 focus:ring-offset-gray-800 disabled:opacity-50 disabled:cursor-not-allowed",children:[g?r.jsx("div",{className:"h-4 w-4 animate-spin border-2 border-white border-t-transparent rounded-full mr-2"}):r.jsx("span",{className:"mr-2",children:""}),""]})]})]})}),r.jsx("div",{className:"mt-6 bg-yellow-900 border border-yellow-700 rounded-md p-4",children:r.jsxs("div",{className:"flex",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("span",{className:"text-yellow-400",children:""})}),r.jsxs("div",{className:"ml-3",children:[r.jsx("h3",{className:"text-sm font-medium text-yellow-200",children:""}),r.jsx("div",{className:"mt-2 text-sm text-yellow-300",children:r.jsx("p",{children:"        . ,      ."})})]})]})})]}),o==="force-password"&&r.jsx("div",{className:"bg-gray-800 shadow rounded-lg border border-gray-700",children:r.jsx("div",{className:"px-4 py-5 sm:p-6",children:r.jsx(xy,{})})})]})]})}function vy(){const{isAuthenticated:s}=Jt();return s?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-white",children:"Dashboard"}),r.jsx("p",{className:"mt-1 text-sm text-gray-400",children:"Welcome to the admin panel"})]}),r.jsxs("div",{className:"bg-gray-800 shadow rounded-lg border border-gray-700 p-6",children:[r.jsx("h2",{className:"text-lg font-medium text-white mb-4",children:"Welcome to Admin Panel"}),r.jsx("p",{className:"text-gray-400",children:"Dashboard is temporarily disabled for testing login functionality."})]})]}):null}function by(){const{isAuthenticated:s,loading:l}=Jt(),[o,c]=y.useState([]),[u,m]=y.useState(!0),[f,p]=y.useState(""),[g,v]=y.useState(""),[b,N]=y.useState("success");y.useEffect(()=>{s&&C()},[s]);const C=async()=>{try{console.log(" Fetching users..."),m(!0);const O=await ue.get("/admin-users/users");console.log(" Users response:",O.data),console.log(" Users data:",O.data?.data),console.log(" Users count:",O.data?.count);const F=O.data?.data||[];console.log(" Users array:",F),c(F)}catch(O){console.error(" Error fetching users:",O),console.error(" Error details:",{status:O.response?.status,statusText:O.response?.statusText,data:O.response?.data}),O.response?.status!==401&&O.response?.status!==403&&E("Failed to fetch users","error")}finally{m(!1)}},P=async(O,F)=>{try{console.log(" Toggling user block:",{userId:O,blocked:F,newBlocked:!F});const A=await ue.patch(`/admin-users/users/${O}/block`,{blocked:!F});console.log(" Block toggle response:",A.data),A.data?.success&&A.data?.data?c(X=>X.map(H=>H.id===O?A.data.data:H)):c(X=>X.map(H=>H.id===O?{...H,blocked:!F}:H)),E(`User ${F?"unblocked":"blocked"} successfully`,"success")}catch(A){console.error(" Error toggling user block:",A),console.error(" Error details:",{status:A.response?.status,statusText:A.response?.statusText,data:A.response?.data}),A.response?.status!==401&&A.response?.status!==403&&E(`Failed to ${F?"unblock":"block"} user`,"error")}},E=(O,F)=>{v(O),N(F),setTimeout(()=>v(""),5e3)},_=O=>{if(!O)return"N/A";try{const F=new Date(O);return isNaN(F.getTime())?"Invalid Date":F.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch(F){return console.error("Error formatting date:",O,F),"Invalid Date"}},k=O=>{if(!O)return"Never";try{const F=new Date(O);return isNaN(F.getTime())?"Never":F.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}catch(F){return console.error("Error formatting last login date:",O,F),"Never"}};console.log(" Current users state:",o),console.log(" Current search term:",f);const J=o.filter(O=>{const F=f.toLowerCase();return O.username?.toLowerCase().includes(F)||O.id?.toString().includes(F)||O.tonWallet?.toLowerCase().includes(F)||O.role?.toLowerCase().includes(F)});return console.log(" Filtered users:",J),l?r.jsxs("div",{className:"flex items-center justify-center min-h-screen",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),r.jsx("span",{className:"ml-2 text-white",children:"Loading..."})]}):s?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-white",children:"User Manager"}),r.jsx("p",{className:"text-gray-400",children:"Manage game users and their accounts"})]}),r.jsxs("button",{onClick:C,disabled:u,className:"inline-flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors disabled:opacity-50",children:[r.jsx(Ga,{className:`h-4 w-4 mr-2 ${u?"animate-spin":""}`}),"Refresh"]})]}),g&&r.jsx("div",{className:`p-4 rounded-md ${b==="success"?"bg-green-600 text-white":"bg-red-600 text-white"}`,children:g}),r.jsx("div",{className:"bg-gray-800 rounded-lg p-4",children:r.jsxs("div",{className:"relative",children:[r.jsx(Yx,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search users...",value:f,onChange:O=>p(O.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-700 border border-gray-600 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),r.jsx("div",{className:"bg-gray-800 rounded-lg",children:u?r.jsxs("div",{className:"flex items-center justify-center p-8",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),r.jsx("span",{className:"ml-2 text-white",children:"Loading users..."})]}):J.length===0?r.jsxs("div",{className:"flex flex-col items-center justify-center p-8 text-gray-400",children:[r.jsx(yi,{className:"h-12 w-12 text-gray-500 mx-auto mb-4"}),r.jsx("p",{className:"text-lg font-medium",children:"No users found"}),r.jsx("p",{className:"text-sm",children:"Try adjusting your search"})]}):r.jsx("div",{className:"divide-y divide-gray-700",children:J.map(O=>r.jsx("div",{className:"p-6 hover:bg-gray-750 transition-colors",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"flex items-center space-x-3 mb-2",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("h3",{className:"text-lg font-medium text-white",children:O.username||"Unknown User"}),r.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${O.role==="SYSTEM"?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800"}`,children:O.role}),O.blocked&&r.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"BLOCKED"})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center text-gray-400",children:[r.jsx(Hx,{className:"h-4 w-4 mr-2 flex-shrink-0"}),r.jsxs("span",{children:["ID: ",O.id]})]}),O.tonWallet&&r.jsxs("div",{className:"flex items-center text-gray-400",children:[r.jsx(ly,{className:"h-4 w-4 mr-2 flex-shrink-0"}),r.jsxs("span",{children:["Wallet:"," ",O.tonWallet.substring(0,8),"..."]})]}),O.referral&&r.jsxs("div",{className:"flex items-center text-gray-400",children:[r.jsx(yi,{className:"h-4 w-4 mr-2 flex-shrink-0"}),r.jsxs("span",{children:["Referral:"," ",O.referral]})]}),O.userState&&r.jsxs("div",{className:"mt-3 space-y-1",children:[r.jsxs("div",{className:"flex items-center text-gray-400 text-xs",children:[r.jsx(Xx,{className:"h-3 w-3 mr-2 flex-shrink-0"}),r.jsxs("span",{children:["Stars:"," ",O.userState.stars.toLocaleString()]})]}),r.jsxs("div",{className:"flex items-center text-gray-400 text-xs",children:[r.jsx(Vx,{className:"h-3 w-3 mr-2 flex-shrink-0"}),r.jsxs("span",{children:["Stardust:"," ",O.userState.stardust.toLocaleString()]})]}),r.jsxs("div",{className:"flex items-center text-gray-400 text-xs",children:[r.jsx(Ri,{className:"h-3 w-3 mr-2 flex-shrink-0"}),r.jsxs("span",{children:["Dark Matter:"," ",O.userState.darkMatter.toLocaleString()]})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[O.createdAt&&r.jsxs("div",{className:"flex items-center text-gray-400",children:[r.jsx(gi,{className:"h-4 w-4 mr-2 flex-shrink-0"}),r.jsxs("span",{children:["Created:"," ",_(O.createdAt)]})]}),O.lastLoginAt&&r.jsxs("div",{className:"flex items-center text-gray-400",children:[r.jsx(ay,{className:"h-4 w-4 mr-2 flex-shrink-0"}),r.jsxs("span",{children:["Last Login:"," ",k(O.lastLoginAt)]})]}),O.updatedAt&&r.jsxs("div",{className:"flex items-center text-gray-400",children:[r.jsx(Ga,{className:"h-4 w-4 mr-2 flex-shrink-0"}),r.jsxs("span",{children:["Updated:"," ",_(O.updatedAt)]})]})]})]})]}),r.jsx("div",{className:"flex items-center space-x-2 ml-4",children:r.jsxs("button",{onClick:()=>P(O.id,O.blocked),className:`inline-flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors ${O.blocked?"bg-green-600 hover:bg-green-700 text-white":"bg-red-600 hover:bg-red-700 text-white"}`,children:[O.blocked?r.jsx(ry,{className:"h-4 w-4 mr-1"}):r.jsx(sy,{className:"h-4 w-4 mr-1"}),O.blocked?"Unblock":"Block"]})})]})},O.id))})})]}):null}function jy({className:s=""}){const[l,o]=y.useState([]),[c,u]=y.useState(!0),[m,f]=y.useState(""),[p,g]=y.useState("success"),[v,b]=y.useState(!1),[N,C]=y.useState(!1),[P,E]=y.useState(!1),[_,k]=y.useState(null),[J,O]=y.useState(""),[F,A]=y.useState(""),[X,H]=y.useState(null),[we,te]=y.useState(!1),[le,se]=y.useState(null),[W,he]=y.useState({slug:"",title:{en:"",ru:""},description:{en:"",ru:""},reward:{type:"stardust",amount:0},condition:{},icon:"",active:!0,isDaily:!1,sortOrder:0,category:"stardust",checkType:"stardust_count"});y.useEffect(()=>{ne()},[]);const ne=async()=>{try{u(!0);const D=await ue.get("/task-templates");console.log("Templates response:",D.data);const Z=D.data?.data||D.data||[];console.log("Processed templates data:",Z),o(Z)}catch(D){console.error("Error fetching templates:",D),re("Failed to fetch task templates","error")}finally{u(!1)}},re=(D,Z)=>{f(D),g(Z),setTimeout(()=>f(""),5e3)},ve=D=>{if(D.reward&&D.reward.type)switch(D.reward.type){case"stardust":return"bg-gradient-to-r from-blue-900 to-blue-800 border-blue-600";case"darkMatter":return"bg-gradient-to-r from-purple-900 to-purple-800 border-purple-600";case"stars":return"bg-gradient-to-r from-yellow-900 to-yellow-800 border-yellow-600";case"tonToken":return"bg-gradient-to-r from-green-900 to-green-800 border-green-600";default:return"bg-gradient-to-r from-gray-800 to-gray-700 border-gray-600"}if(D.category)switch(D.category){case"daily":return"bg-gradient-to-r from-orange-900 to-orange-800 border-orange-600";case"stardust":return"bg-gradient-to-r from-blue-900 to-blue-800 border-blue-600";case"darkMatter":return"bg-gradient-to-r from-purple-900 to-purple-800 border-purple-600";default:return"bg-gradient-to-r from-gray-800 to-gray-700 border-gray-600"}return"bg-gradient-to-r from-gray-800 to-gray-700 border-gray-600"},ke=D=>{if(D.reward&&D.reward.type)switch(D.reward.type){case"stardust":return"";case"darkMatter":return"";case"stars":return"";case"tonToken":return"";default:return""}return D.icon||""},Ce=D=>{if(D.category)switch(D.category){case"daily":return"";case"stardust":return"";case"darkMatter":return"";default:return""}return""},Q=D=>{switch(D){case"daily":return"bg-orange-600 text-white";case"stardust":return"bg-blue-600 text-white";case"darkMatter":return"bg-purple-600 text-white";case"stars":return"bg-yellow-600 text-white";case"tonToken":return"bg-green-600 text-white";default:return"bg-gray-600 text-white"}},ie=D=>[...D].sort((Z,fe)=>{const Pe=Z.sortOrder||B(),Ee=fe.sortOrder||B();if(Pe!==Ee)return Pe-Ee;const nt=Z.category||"",jt=fe.category||"";if(nt!==jt)return nt.localeCompare(jt);const wt=Z.name||Z.slug||"",We=fe.name||fe.slug||"";return wt.localeCompare(We)}),B=()=>l.length===0?1:Math.max(...l.map(Z=>Z.sortOrder||0))+1,w=()=>{he({slug:"",title:{en:"",ru:""},description:{en:"",ru:""},reward:{type:"stardust",amount:0},condition:{},icon:"",active:!0,isDaily:!1,sortOrder:B(),category:"stardust",checkType:"stardust_count"}),O(""),A("")},M=async()=>{try{A("");const D=JSON.parse(J);if(!Array.isArray(D)){A("JSON must be an array of task templates");return}const Z=D.map(Pe=>{const{id:Ee,createdAt:nt,updatedAt:jt,...wt}=Pe;return wt}),fe=await ue.post("/task-templates",Z);re("Task templates created successfully","success"),E(!1),w(),ne()}catch(D){D.name==="SyntaxError"?A("Invalid JSON format"):(console.error("Error creating templates:",D),A(D.response?.data?.message||"Failed to create templates"))}},$=D=>{const Z=D.target.files?.[0];if(!Z)return;const fe=new FileReader;fe.onload=Pe=>{try{const Ee=Pe.target?.result,nt=JSON.parse(Ee);if(!Array.isArray(nt)){A("JSON file must contain an array of task templates");return}const jt=nt.map(wt=>{const{id:We,createdAt:De,updatedAt:ur,...Cs}=wt;return Cs});O(JSON.stringify(jt,null,2)),A("")}catch{A("Invalid JSON file format")}},fe.readAsText(Z)},ee=async()=>{try{if(!W.slug||!W.title.en||!W.description.en){re("Please fill in all required fields (slug, English title, English description)","error");return}const D=await ue.post("/task-templates",[W]);re("Task template created successfully","success"),b(!1),w(),ne()}catch(D){console.error("Error creating template:",D),re(D.response?.data?.message||"Failed to create template","error")}},xe=async()=>{try{if(!_?.slug)return;const D=await ue.put(`/task-templates/${encodeURIComponent(_.slug)}`,W);re("Task template updated successfully","success"),C(!1),k(null),w(),ne()}catch(D){console.error("Error updating template:",D),re(D.response?.data?.message||"Failed to update template","error")}},ye=D=>{se(D),te(!0)},de=async()=>{if(le)try{await ue.delete(`/task-templates/${encodeURIComponent(le.slug)}`),re("Task template deleted successfully","success"),te(!1),se(null),ne()}catch(D){console.error("Error deleting template:",D),re(D.response?.data?.message||"Failed to delete template","error")}},z=async D=>{try{await ue.put(`/task-templates/${encodeURIComponent(D)}/toggle`),re("Template status toggled successfully","success"),ne()}catch(Z){console.error("Error toggling template status:",Z),re(Z.response?.data?.message||"Failed to toggle template status","error")}},x=D=>{console.log("Opening edit modal with template:",D),k(D);const Z={slug:D.slug||"",title:D.title||{en:"",ru:""},description:D.description||{en:"",ru:""},reward:D.reward||{type:"stardust",amount:0},condition:D.condition||{},icon:D.icon||"",active:D.active??!0,isDaily:D.isDaily??!1,sortOrder:D.sortOrder||B(),category:D.category||"stardust",checkType:D.checkType||"always_available"};console.log("Setting form data:",Z),he(Z),C(!0)},V=D=>{const Z=JSON.stringify(D,null,2),fe="data:application/json;charset=utf-8,"+encodeURIComponent(Z),Pe=`${D.slug}.json`,Ee=document.createElement("a");Ee.setAttribute("href",fe),Ee.setAttribute("download",Pe),Ee.click()},ae=()=>{const D=JSON.stringify(l,null,2),Z="data:application/json;charset=utf-8,"+encodeURIComponent(D),fe="task-templates.json",Pe=document.createElement("a");Pe.setAttribute("href",Z),Pe.setAttribute("download",fe),Pe.click()};return c?r.jsxs("div",{className:`flex items-center justify-center p-8 ${s}`,children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),r.jsx("span",{className:"ml-2 text-white",children:"Loading task templates..."})]}):r.jsxs("div",{className:`space-y-6 ${s}`,children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("button",{onClick:()=>E(!0),className:"inline-flex items-center px-3 py-2 bg-green-600 hover:bg-green-700 text-white rounded-md transition-colors",children:[r.jsx(cr,{className:"h-4 w-4 mr-2"}),"Import JSON"]}),r.jsxs("button",{onClick:ae,className:"inline-flex items-center px-3 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors",children:[r.jsx(_t,{className:"h-4 w-4 mr-2"}),"Export All"]}),r.jsxs("button",{onClick:()=>b(!0),className:"inline-flex items-center px-3 py-2 bg-green-600 hover:bg-green-700 text-white rounded-md transition-colors",children:[r.jsx(Qt,{className:"h-4 w-4 mr-2"}),"Create Template"]})]})]}),m&&r.jsx("div",{className:`p-4 rounded-md ${p==="success"?"bg-green-600 text-white":"bg-red-600 text-white"}`,children:m}),r.jsx("div",{className:"bg-gray-800 rounded-lg p-6",children:l.length===0?r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Jx,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-400",children:"No task templates found"}),r.jsxs("button",{onClick:()=>b(!0),className:"mt-4 inline-flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors",children:[r.jsx(Qt,{className:"h-4 w-4 mr-2"}),"Create First Template"]})]}):r.jsx("div",{className:"grid grid-cols-1 gap-4",children:ie(l).map(D=>r.jsxs("div",{className:`${ve(D)} rounded-lg p-6 border-2 shadow-lg transition-all duration-200 hover:shadow-xl`,children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[r.jsx("div",{className:"text-4xl",children:ke(D)}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[r.jsx("h3",{className:"text-xl font-bold text-white",children:D.title?.en||D.slug}),r.jsx("span",{className:`px-2 py-0.5 text-xs font-semibold rounded ${Q(D.category)}`,children:D.category}),D.isDaily&&r.jsx("span",{className:"px-2 py-0.5 text-xs font-semibold bg-orange-600 text-white rounded",children:"Daily"}),!D.active&&r.jsx("span",{className:"px-2 py-0.5 text-xs font-semibold bg-red-600 text-white rounded",children:"Disabled"})]}),r.jsx("p",{className:"text-sm text-gray-400 font-mono",children:D.slug})]})]}),D.description?.en&&r.jsx("p",{className:"text-white mb-4 text-sm leading-relaxed",children:D.description.en}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[r.jsxs("div",{className:"bg-black bg-opacity-30 rounded-lg p-3",children:[r.jsx("div",{className:"text-xs text-gray-300 mb-1",children:"Reward"}),r.jsxs("div",{className:"text-lg font-bold text-white flex items-center space-x-1",children:[r.jsx("span",{children:ke(D)}),r.jsx("span",{children:D.reward?.amount||0})]}),r.jsx("div",{className:"text-xs text-gray-300 mt-1",children:D.reward?.type||"N/A"})]}),r.jsxs("div",{className:"bg-black bg-opacity-30 rounded-lg p-3",children:[r.jsx("div",{className:"text-xs text-gray-300 mb-1",children:"Category"}),r.jsxs("div",{className:"text-lg font-bold text-white flex items-center space-x-1",children:[r.jsx("span",{children:Ce(D)}),r.jsx("span",{children:D.category||"N/A"})]})]}),r.jsxs("div",{className:"bg-black bg-opacity-30 rounded-lg p-3",children:[r.jsx("div",{className:"text-xs text-gray-300 mb-1",children:"Condition"}),r.jsx("div",{className:"text-sm font-bold text-white",children:D.condition?.type||"N/A"}),D.condition?.threshold&&r.jsxs("div",{className:"text-xs text-gray-300 mt-1",children:["Threshold:"," ",D.condition.threshold]})]}),r.jsxs("div",{className:"bg-black bg-opacity-30 rounded-lg p-3",children:[r.jsx("div",{className:"text-xs text-gray-300 mb-1",children:"Sort Order"}),r.jsx("div",{className:"text-lg font-bold text-white",children:D.sortOrder||B()})]})]}),D.checkType&&r.jsx("div",{className:"mb-4",children:r.jsxs("div",{className:"bg-black bg-opacity-30 rounded-lg p-3",children:[r.jsx("div",{className:"text-xs text-gray-300 mb-1",children:"Check Type"}),r.jsx("div",{className:"text-sm font-semibold text-white",children:D.checkType})]})}),r.jsxs("div",{className:"mt-4 pt-4 border-t border-white border-opacity-20 flex justify-end space-x-2",children:[r.jsxs("button",{onClick:()=>V(D),title:"Export",className:"inline-flex items-center px-3 py-2 text-xs bg-gray-700 hover:bg-gray-600 text-white rounded-md transition-colors",children:[r.jsx(_t,{className:"h-4 w-4 mr-1"}),"Export"]}),r.jsxs("button",{onClick:()=>x(D),title:"Edit",className:"inline-flex items-center px-3 py-2 text-xs bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors",children:[r.jsx(Pn,{className:"h-4 w-4 mr-1"}),"Edit"]}),r.jsx("button",{onClick:()=>z(D.slug),title:D.active?"Disable":"Enable",className:`inline-flex items-center px-3 py-2 text-xs rounded-md transition-colors ${D.active?"bg-yellow-600 hover:bg-yellow-700":"bg-green-600 hover:bg-green-700"} text-white`,children:D.active?r.jsxs(r.Fragment,{children:[r.jsx(Ti,{className:"h-4 w-4 mr-1"}),"Disable"]}):r.jsxs(r.Fragment,{children:[r.jsx(Ai,{className:"h-4 w-4 mr-1"}),"Enable"]})}),r.jsxs("button",{onClick:()=>ye(D),title:"Delete",className:"inline-flex items-center px-3 py-2 text-xs bg-red-600 hover:bg-red-700 text-white rounded-md transition-colors",children:[r.jsx(Yt,{className:"h-4 w-4 mr-1"}),"Delete"]})]})]},D.slug))})}),v&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-xl font-bold text-white",children:"Create Task Template"}),r.jsx("button",{onClick:()=>{b(!1),w()},title:"Close modal",className:"text-gray-400 hover:text-white",children:r.jsx($e,{className:"h-6 w-6"})})]}),r.jsx(Xu,{formData:W,setFormData:he,onSubmit:ee,submitText:"Create Template",getNextSortOrder:B})]})}),N&&_&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-xl font-bold text-white",children:"Edit Task Template"}),r.jsx("button",{onClick:()=>{C(!1),k(null),w()},title:"Close modal",className:"text-gray-400 hover:text-white",children:r.jsx($e,{className:"h-6 w-6"})})]}),r.jsx(Xu,{formData:W,setFormData:he,onSubmit:xe,submitText:"Update Template",getNextSortOrder:B})]})}),P&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-xl font-bold text-white",children:"Import Task Templates from JSON"}),r.jsx("button",{onClick:()=>{E(!1),w()},title:"Close modal",className:"text-gray-400 hover:text-white",children:r.jsx($e,{className:"h-6 w-6"})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"border border-gray-600 rounded-lg p-4 bg-gray-750",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Upload JSON File"}),r.jsx("a",{href:"/examples/task-templates-example.json",download:!0,className:"text-sm text-blue-400 hover:text-blue-300 underline",children:"Download Example"})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("input",{type:"file",accept:".json",onChange:$,className:"hidden","aria-label":"Upload JSON file",ref:D=>H(D)}),r.jsxs("button",{onClick:()=>X?.click(),className:"inline-flex items-center px-3 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors",children:[r.jsx(Oi,{className:"h-4 w-4 mr-2"}),"Choose File"]}),r.jsx("span",{className:"text-sm text-gray-400",children:"Select a JSON file to upload"})]})]}),r.jsxs("div",{children:[r.jsx("div",{className:"flex items-center justify-between mb-2",children:r.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Or paste JSON data manually"})}),r.jsx("textarea",{value:J,onChange:D=>O(D.target.value),className:"w-full h-64 p-3 bg-gray-700 border border-gray-600 rounded-md text-white font-mono text-sm",placeholder:`[
  {
    "slug": "daily_login",
    "name": "Daily Login",
    "labelKey": "task.daily_login.title",
    "description": "Login to the game daily",
    "reward": {
      "type": "stardust",
      "amount": 100
    },
    "condition": {
      "type": "daily_login"
    },
    "icon": "",
    "active": true,
    "isDaily": true,
    "sortOrder": ${B()},
    "category": "daily"
  }
]`})]}),F&&r.jsxs("div",{className:"flex items-center p-3 bg-red-600 text-white rounded-md",children:[r.jsx(Bt,{className:"h-4 w-4 mr-2"}),F]}),r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsx("button",{onClick:()=>{E(!1),w()},className:"px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-md transition-colors",children:"Cancel"}),r.jsxs("button",{onClick:M,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors",children:[r.jsx(cr,{className:"h-4 w-4 mr-2 inline"}),"Import Templates"]})]})]})]})}),we&&le&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-xl font-bold text-white",children:"Confirm Delete"}),r.jsx("button",{onClick:()=>{te(!1),se(null)},title:"Close modal",className:"text-gray-400 hover:text-white",children:r.jsx($e,{className:"h-6 w-6"})})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("p",{className:"text-gray-300 mb-2",children:"Are you sure you want to delete this task template?"}),r.jsxs("div",{className:"bg-gray-700 p-3 rounded-md",children:[r.jsx("p",{className:"text-white font-medium",children:le.name||le.slug}),r.jsxs("p",{className:"text-gray-400 text-sm",children:["Slug: ",le.slug]})]})]}),r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsx("button",{onClick:()=>{te(!1),se(null)},className:"px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-md transition-colors",children:"Cancel"}),r.jsxs("button",{onClick:de,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-md transition-colors",children:[r.jsx(Yt,{className:"h-4 w-4 mr-2 inline"}),"Delete"]})]})]})})]})}function Xu({formData:s,setFormData:l,onSubmit:o,submitText:c,getNextSortOrder:u}){const m=(g,v)=>{l({...s,[g]:v})},f=(g,v,b)=>{l({...s,[g]:{...s[g]||{},[v]:b}})},p=g=>{let v={...s};switch(g){case"daily_login":v={...s,slug:"daily_login",title:{en:"Daily Explorer",ru:" "},description:{en:"Login daily to receive rewards",ru:"    "},reward:{type:"stardust",amount:100},condition:{type:"daily_login"},icon:"",category:"daily",isDaily:!0,sortOrder:u()};break;case"stardust_collect":v={...s,slug:"collect_stardust_5000",title:{en:"Dust Collector",ru:" "},description:{en:"Collect 5,000 stardust",ru:" 5,000  "},reward:{type:"stardust",amount:1e3},condition:{type:"stardust_count",threshold:5e3},icon:"",category:"stardust",isDaily:!1,sortOrder:u()};break;case"galaxy_own":v={...s,slug:"own_galaxies_2",title:{en:"Galactic Pioneer",ru:" "},description:{en:"Own 2 galaxies",ru:" 2 "},reward:{type:"stardust",amount:3e3},condition:{type:"owned_galaxies",threshold:2},icon:"",category:"stardust",isDaily:!1,sortOrder:u()};break;case"stars_create":v={...s,slug:"create_stars_1000",title:{en:"Star Crafter",ru:" "},description:{en:"Create 1,000 stars",ru:" 1,000 "},reward:{type:"stardust",amount:2e3},condition:{type:"total_stars",threshold:1e3},icon:"",category:"stardust",isDaily:!1,sortOrder:u()};break;case"artifact_collect":v={...s,slug:"scan_galaxy_10",name:"Cosmic Researcher",labelKey:"task.scan_galaxy_10.title",description:"Scan 10 galaxies",reward:{type:"stardust",amount:2e3},condition:{type:"scan_count",threshold:10},icon:"",category:"stardust",isDaily:!1,sortOrder:u()};break;case"custom":v={...s,slug:"custom_task",name:"Custom Task",labelKey:"task.custom.title",description:"Complete this custom task",reward:{type:"stardust",amount:0},condition:{type:"custom",threshold:1},icon:"",category:"stardust",isDaily:!1,sortOrder:u()};break}l(v)};return r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"mb-4 p-3 bg-blue-900 bg-opacity-30 border border-blue-600 rounded-md",children:[r.jsx("h4",{className:"text-sm font-medium text-blue-300 mb-2",children:" Task Structure Guide"}),r.jsxs("div",{className:"text-xs text-blue-200 space-y-1",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Daily Tasks:"})," Reset every day, perfect for login rewards and daily activities"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Progress Tasks:"})," Track player progress like collecting resources, owning galaxies"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Condition Types:"})," daily_login, stardust_count, total_stars, owned_galaxies, scan_count, login_streak"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Reward Types:"})," stardust, darkMatter - choose based on task difficulty"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Slug *"}),r.jsx("input",{type:"text",value:s.slug||"",onChange:g=>m("slug",g.target.value.replace(/\s+/g,"_")),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded-md text-white",placeholder:"daily_login"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Icon *"}),r.jsx("input",{type:"text",value:s.icon||"",onChange:g=>m("icon",g.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded-md text-white",placeholder:""}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:" Enter an emoji or icon for this task (e.g., , , , )"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Title (English) *"}),r.jsx("input",{type:"text",value:s.title?.en||"",onChange:g=>f("title","en",g.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded-md text-white",placeholder:"Daily Explorer"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Title (Russian) *"}),r.jsx("input",{type:"text",value:s.title?.ru||"",onChange:g=>f("title","ru",g.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded-md text-white",placeholder:" "})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Description (English) *"}),r.jsx("textarea",{value:s.description?.en||"",onChange:g=>f("description","en",g.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded-md text-white",rows:3,placeholder:"Login to the game daily to get rewards"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Description (Russian) *"}),r.jsx("textarea",{value:s.description?.ru||"",onChange:g=>f("description","ru",g.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded-md text-white",rows:3,placeholder:"      "})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Category *"}),r.jsxs("select",{value:s.category||"stardust",onChange:g=>m("category",g.target.value),"aria-label":"Select category",className:"w-full p-2 bg-gray-700 border border-gray-600 rounded-md text-white",children:[r.jsx("option",{value:"daily",children:"Daily"}),r.jsx("option",{value:"stardust",children:"Stardust"}),r.jsx("option",{value:"darkMatter",children:"Dark Matter"})]}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:s.category==="daily"?" Daily tasks that reset every day - perfect for login rewards":s.category==="stardust"?" Tasks related to stardust collection and management":" Tasks involving dark matter and advanced resources"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Sort Order"}),r.jsx("input",{type:"number",value:s.sortOrder||u(),onChange:g=>m("sortOrder",parseInt(g.target.value)||u()),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded-md text-white",placeholder:u().toString()}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:" Order for displaying tasks (lower numbers appear first)"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Reward Type *"}),r.jsxs("select",{value:s.reward?.type||"stardust",onChange:g=>f("reward","type",g.target.value),"aria-label":"Select reward type",className:"w-full p-2 bg-gray-700 border border-gray-600 rounded-md text-white",children:[r.jsx("option",{value:"stardust",children:"Stardust"}),r.jsx("option",{value:"darkMatter",children:"Dark Matter"})]}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:s.reward?.type==="stardust"?" Basic currency - good for easy tasks":" Premium currency - use for difficult tasks"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Reward Amount *"}),r.jsx("input",{type:"number",value:s.reward?.amount||0,onChange:g=>f("reward","amount",parseInt(g.target.value)||0),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded-md text-white",min:"0",placeholder:"100"}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:" Amount of reward to give - balance difficulty with reward value"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Condition (JSON) *"}),r.jsx("textarea",{value:JSON.stringify(s.condition||{},null,2),onChange:g=>{try{const v=JSON.parse(g.target.value);m("condition",v)}catch{}},className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono text-sm",rows:4,placeholder:'{"type": "daily_login"}'}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:s.category==="daily"?' Daily Task: {"type": "daily_login"} - resets every day':s.category==="stardust"?' Stardust Task: {"type": "stardust_count", "threshold": 5000} - collect stardust':' Dark Matter Task: {"type": "dark_matter_count", "threshold": 1} - collect dark matter'})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Check Type"}),r.jsxs("select",{value:s.checkType||"stardust_count",onChange:g=>m("checkType",g.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"stardust_count",children:"Stardust Count"}),r.jsx("option",{value:"dark_matter_count",children:"Dark Matter Count"}),r.jsx("option",{value:"stars_count",children:"Stars Count"}),r.jsx("option",{value:"galaxies_count",children:"Galaxies Count"}),r.jsx("option",{value:"scans_count",children:"Scans Count"}),r.jsx("option",{value:"streak_count",children:"Streak Count"}),r.jsx("option",{value:"daily_reset",children:"Daily Reset"}),r.jsx("option",{value:"galaxy_upgraded",children:"Galaxy Upgraded"}),r.jsx("option",{value:"galaxy_shared",children:"Galaxy Shared"})]}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Select the type of condition check for this task"})]}),r.jsxs("div",{className:"mb-6 p-4 bg-gray-800 border border-gray-600 rounded-md",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-3",children:" Quick Examples - Click to load template"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:[r.jsx("button",{type:"button",onClick:()=>p("daily_login"),className:"p-2 text-xs bg-blue-900 hover:bg-blue-800 border border-blue-600 rounded text-blue-200 hover:text-white transition-colors",title:"Daily login task: 100 stardust for logging in daily",children:" Daily Login"}),r.jsx("button",{type:"button",onClick:()=>p("stardust_collect"),className:"p-2 text-xs bg-green-900 hover:bg-green-800 border border-green-600 rounded text-green-200 hover:text-white transition-colors",title:"Collect stardust task: 1000 stardust for collecting 5,000 stardust",children:" Collect Stardust"}),r.jsx("button",{type:"button",onClick:()=>p("galaxy_own"),className:"p-2 text-xs bg-purple-900 hover:bg-purple-800 border border-purple-600 rounded text-purple-200 hover:text-white transition-colors",title:"Own galaxies task: 3000 stardust for owning 2 galaxies",children:" Own Galaxies"}),r.jsx("button",{type:"button",onClick:()=>p("stars_create"),className:"p-2 text-xs bg-yellow-900 hover:bg-yellow-800 border border-yellow-600 rounded text-yellow-200 hover:text-white transition-colors",title:"Create stars task: 2000 stardust for creating 1,000 stars",children:" Create Stars"}),r.jsx("button",{type:"button",onClick:()=>p("artifact_collect"),className:"p-2 text-xs bg-red-900 hover:bg-red-800 border border-red-600 rounded text-red-200 hover:text-white transition-colors",title:"Scan galaxies task: 2000 stardust for scanning 10 galaxies",children:" Scan Galaxies"}),r.jsx("button",{type:"button",onClick:()=>p("custom"),className:"p-2 text-xs bg-gray-700 hover:bg-gray-600 border border-gray-500 rounded text-gray-300 hover:text-white transition-colors",title:"Custom task: template for creating your own task type",children:" Custom Task"})]}),r.jsxs("p",{className:"text-xs text-gray-400 mt-3",children:[" ",r.jsx("strong",{children:"Tip:"})," Use these examples as starting points, then customize the values, names, and descriptions to match your needs!"]})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",checked:s.active??!0,onChange:g=>m("active",g.target.checked),"aria-label":"Set template as active",className:"rounded border-gray-600 bg-gray-700 text-blue-600 focus:ring-blue-500"}),r.jsx("span",{className:"ml-2 text-gray-300",children:"Active"})]}),r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",checked:s.isDaily??!1,onChange:g=>m("isDaily",g.target.checked),"aria-label":"Set template as daily task",className:"rounded border-gray-600 bg-gray-700 text-blue-600 focus:ring-blue-500"}),r.jsx("span",{className:"ml-2 text-gray-300",children:"Daily Task"})]})]}),r.jsx("div",{className:"flex justify-end space-x-2",children:r.jsxs("button",{onClick:o,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors",children:[r.jsx(Km,{className:"h-4 w-4 mr-2 inline"}),c]})})]})}function wy({className:s=""}){const[l,o]=y.useState([]),[c,u]=y.useState(!0),[m,f]=y.useState(""),[p,g]=y.useState("success"),[v,b]=y.useState(!1),[N,C]=y.useState(!1),[P,E]=y.useState(!1),[_,k]=y.useState(null),[J,O]=y.useState(""),[F,A]=y.useState(""),[X,H]=y.useState(null),[we,te]=y.useState(!1),[le,se]=y.useState(null),[W,he]=y.useState({slug:"",name:"",description:"",category:"resourcePurchase",actionType:"fixedAmount",actionTarget:"reward",actionData:{},costData:{},status:!0,icon:"",sortOrder:0,labelKey:"",isPromoted:!1,validUntil:""});y.useEffect(()=>{ne()},[]);const ne=async()=>{try{u(!0);const x=await ue.get("/package-templates");console.log("Package templates response:",x.data);const V=x.data?.data||x.data||[];console.log("Processed package templates data:",V),o(V)}catch(x){console.error("Error fetching package templates:",x),re("Failed to fetch package templates","error")}finally{u(!1)}},re=(x,V)=>{f(x),g(V),setTimeout(()=>f(""),5e3)},ve=()=>{he({slug:"",name:"",description:"",category:"resourcePurchase",actionType:"fixedAmount",actionTarget:"reward",actionData:{resource:"stardust",amount:1e3},costData:{price:99,currency:"tgStars"},status:!0,icon:"",sortOrder:0,labelKey:"",isPromoted:!1,validUntil:""}),O(""),A("")},ke=async()=>{try{A("");const x=JSON.parse(J);if(!Array.isArray(x)){A("JSON must be an array of package templates");return}const V=x.map(D=>{const{id:Z,createdAt:fe,updatedAt:Pe,...Ee}=D;return Ee.validUntil&&Ee.validUntil.trim()===""&&delete Ee.validUntil,Ee}),ae=await ue.post("/package-templates",V);re("Package templates created successfully","success"),E(!1),ve(),ne()}catch(x){x.name==="SyntaxError"?A("Invalid JSON format"):(console.error("Error creating package templates:",x),A(x.response?.data?.message||"Failed to create package templates"))}},Ce=x=>{const V=x.target.files?.[0];if(!V)return;const ae=new FileReader;ae.onload=D=>{try{const Z=D.target?.result,fe=JSON.parse(Z);if(!Array.isArray(fe)){A("JSON file must contain an array of package templates");return}const Pe=fe.map(Ee=>{const{id:nt,createdAt:jt,updatedAt:wt,...We}=Ee;return We.validUntil&&We.validUntil.trim()===""&&delete We.validUntil,We});O(JSON.stringify(Pe,null,2)),A("")}catch{A("Invalid JSON file format")}},ae.readAsText(V)},Q=async()=>{try{if(!W.slug||!W.name||!W.category||!W.actionType||!W.actionTarget){re("Please fill in all required fields (slug, name, category, action type, action target)","error");return}if(typeof W.actionData!="object"||W.actionData===null){re("Action Data must be a valid JSON object","error");return}if(typeof W.costData!="object"||W.costData===null){re("Cost Data must be a valid JSON object","error");return}const x={...W,validUntil:W.validUntil&&W.validUntil.trim()!==""?W.validUntil:void 0},V=await ue.post("/package-templates",[x]);re("Package template created successfully","success"),b(!1),ve(),ne()}catch(x){console.error("Error creating package template:",x),re(x.response?.data?.message||"Failed to create package template","error")}},ie=async()=>{try{if(!_?.slug)return;if(!W.slug||!W.name||!W.category||!W.actionType||!W.actionTarget){re("Please fill in all required fields (slug, name, category, action type, action target)","error");return}if(typeof W.actionData!="object"||W.actionData===null){re("Action Data must be a valid JSON object","error");return}if(typeof W.costData!="object"||W.costData===null){re("Cost Data must be a valid JSON object","error");return}const x={...W,validUntil:W.validUntil&&W.validUntil.trim()!==""?W.validUntil:void 0},V=await ue.put(`/package-templates/${encodeURIComponent(_.slug)}`,x);re("Package template updated successfully","success"),C(!1),k(null),ve(),ne()}catch(x){console.error("Error updating package template:",x),re(x.response?.data?.message||"Failed to update package template","error")}},B=async x=>{se(x),te(!0)},w=async()=>{if(le)try{await ue.delete(`/package-templates/${encodeURIComponent(le.slug)}`),re("Package template deleted successfully","success"),te(!1),se(null),ne()}catch(x){console.error("Error deleting package template:",x),re(x.response?.data?.message||"Failed to delete package template","error")}},M=async x=>{try{await ue.put(`/package-templates/${encodeURIComponent(x)}/toggle`),re("Package template status toggled successfully","success"),ne()}catch(V){console.error("Error toggling package template status:",V),re(V.response?.data?.message||"Failed to toggle package template status","error")}},$=x=>{console.log("Opening edit modal with package template:",x),k(x);const V={slug:x.slug||"",name:x.name||"",description:x.description||"",category:x.category||"resourcePurchase",actionType:x.actionType||"fixedAmount",actionTarget:x.actionTarget||"reward",actionData:x.actionData||{},costData:x.costData||{},status:x.status??!0,icon:x.icon||"",sortOrder:x.sortOrder||0,labelKey:x.labelKey||"",isPromoted:x.isPromoted??!1,validUntil:x.validUntil||""};console.log("Setting form data:",V),he(V),C(!0)},ee=x=>{const V={slug:x.slug,name:x.name,description:x.description,category:x.category,actionType:x.actionType,actionTarget:x.actionTarget,actionData:x.actionData,costData:x.costData,status:x.status,icon:x.icon,sortOrder:x.sortOrder,labelKey:x.labelKey,isPromoted:x.isPromoted,validUntil:x.validUntil},ae=JSON.stringify(V,null,2),D="data:application/json;charset=utf-8,"+encodeURIComponent(ae),Z=`${x.slug}.json`,fe=document.createElement("a");fe.setAttribute("href",D),fe.setAttribute("download",Z),fe.click()},xe=()=>{const x=l.map(fe=>({slug:fe.slug,name:fe.name,description:fe.description,category:fe.category,actionType:fe.actionType,actionTarget:fe.actionTarget,actionData:fe.actionData,costData:fe.costData,status:fe.status,icon:fe.icon,sortOrder:fe.sortOrder,labelKey:fe.labelKey,isPromoted:fe.isPromoted,validUntil:fe.validUntil})),V=JSON.stringify(x,null,2),ae="data:application/json;charset=utf-8,"+encodeURIComponent(V),D="package-templates.json",Z=document.createElement("a");Z.setAttribute("href",ae),Z.setAttribute("download",D),Z.click()},ye=x=>{if(x.category==="resourcePurchase"){if(x.actionData&&x.actionData.resource)switch(x.actionData.resource){case"stardust":return"bg-gradient-to-r from-blue-900 to-blue-800 border-blue-600";case"darkMatter":return"bg-gradient-to-r from-purple-900 to-purple-800 border-purple-600";case"stars":return"bg-gradient-to-r from-yellow-900 to-yellow-800 border-yellow-600";default:return"bg-gradient-to-r from-gray-800 to-gray-700 border-gray-600"}return"bg-gradient-to-r from-blue-900 to-blue-800 border-blue-600"}else if(x.category==="gameObject")return"bg-gradient-to-r from-green-900 to-green-800 border-green-600";return"bg-gradient-to-r from-gray-800 to-gray-700 border-gray-600"},de=x=>{if(x.category==="resourcePurchase"&&x.actionData&&x.actionData.resource)switch(x.actionData.resource){case"stardust":return"";case"darkMatter":return"";case"stars":return"";default:return""}else if(x.category==="gameObject")return"";return""},z=x=>x.actionType==="fixedAmount"?"":x.actionType==="variableAmount"?"":x.actionType==="updateField"?"":"";return c?r.jsxs("div",{className:`flex items-center justify-center p-8 ${s}`,children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),r.jsx("span",{className:"ml-2 text-white",children:"Loading package templates..."})]}):r.jsxs("div",{className:`space-y-6 ${s}`,children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs("button",{onClick:()=>E(!0),title:"Import from JSON",className:"inline-flex items-center px-3 py-2 bg-green-600 hover:bg-green-700 text-white rounded-md transition-colors",children:[r.jsx(cr,{className:"h-4 w-4 mr-2"}),"Import JSON"]}),r.jsxs("button",{onClick:xe,title:"Export all templates",className:"inline-flex items-center px-3 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors",children:[r.jsx(_t,{className:"h-4 w-4 mr-2"}),"Export All"]}),r.jsxs("button",{onClick:()=>b(!0),title:"Create new template",className:"inline-flex items-center px-3 py-2 bg-green-600 hover:bg-green-700 text-white rounded-md transition-colors",children:[r.jsx(Qt,{className:"h-4 w-4 mr-2"}),"Create Template"]})]})]}),m&&r.jsx("div",{className:`p-3 rounded-md ${p==="success"?"bg-green-600 text-white":"bg-red-600 text-white"}`,children:m}),r.jsx("div",{className:"bg-gray-800 rounded-lg p-6",children:l.length===0?r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Qx,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-400",children:"No package templates found"}),r.jsxs("button",{onClick:()=>b(!0),className:"mt-4 inline-flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors",children:[r.jsx(Qt,{className:"h-4 w-4 mr-2"}),"Create First Template"]})]}):r.jsx("div",{className:"grid grid-cols-1 gap-4",children:l.map(x=>r.jsxs("div",{className:`${ye(x)} rounded-lg p-6 border-2 shadow-lg transition-all duration-200 hover:shadow-xl`,children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[r.jsx("div",{className:"text-4xl",children:de(x)}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[r.jsx("h3",{className:"text-xl font-bold text-white",children:x.name}),x.isPromoted&&r.jsx("span",{className:"px-2 py-0.5 text-xs font-semibold bg-yellow-600 text-white rounded",children:"Promoted"}),!x.status&&r.jsx("span",{className:"px-2 py-0.5 text-xs font-semibold bg-red-600 text-white rounded",children:"Disabled"})]}),r.jsx("p",{className:"text-sm text-gray-400 font-mono",children:x.slug})]})]}),x.description&&r.jsx("p",{className:"text-white mb-4 text-sm leading-relaxed",children:x.description}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[r.jsxs("div",{className:"bg-black bg-opacity-30 rounded-lg p-3",children:[r.jsx("div",{className:"text-xs text-gray-300 mb-1",children:"Category"}),r.jsx("div",{className:"text-lg font-bold text-white",children:x.category||"N/A"})]}),r.jsxs("div",{className:"bg-black bg-opacity-30 rounded-lg p-3",children:[r.jsx("div",{className:"text-xs text-gray-300 mb-1",children:"Action Type"}),r.jsxs("div",{className:"text-sm font-bold text-white flex items-center space-x-1",children:[r.jsx("span",{children:z(x)}),r.jsx("span",{children:x.actionType||"N/A"})]})]}),r.jsxs("div",{className:"bg-black bg-opacity-30 rounded-lg p-3",children:[r.jsx("div",{className:"text-xs text-gray-300 mb-1",children:"Target"}),r.jsx("div",{className:"text-sm font-bold text-white",children:x.actionTarget||"N/A"})]}),r.jsxs("div",{className:"bg-black bg-opacity-30 rounded-lg p-3",children:[r.jsx("div",{className:"text-xs text-gray-300 mb-1",children:"Sort Order"}),r.jsx("div",{className:"text-lg font-bold text-white",children:x.sortOrder||0})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm mb-4",children:[x.actionData&&r.jsxs("div",{className:"bg-black bg-opacity-30 rounded-lg p-3",children:[r.jsx("div",{className:"text-xs text-gray-300 mb-1 font-semibold",children:"Action Data:"}),r.jsx("div",{className:"text-xs font-mono text-gray-200",children:JSON.stringify(x.actionData,null,2)})]}),x.costData&&r.jsxs("div",{className:"bg-black bg-opacity-30 rounded-lg p-3",children:[r.jsx("div",{className:"text-xs text-gray-300 mb-1 font-semibold",children:"Cost Data:"}),r.jsx("div",{className:"text-xs font-mono text-gray-200",children:JSON.stringify(x.costData,null,2)})]})]}),x.labelKey&&r.jsx("div",{className:"mb-4",children:r.jsxs("div",{className:"bg-black bg-opacity-30 rounded-lg p-3",children:[r.jsx("div",{className:"text-xs text-gray-300 mb-1",children:"Label Key"}),r.jsx("div",{className:"text-sm font-semibold text-white break-all",children:x.labelKey})]})}),r.jsxs("div",{className:"mt-4 pt-4 border-t border-white border-opacity-20 flex justify-end space-x-2",children:[r.jsxs("button",{onClick:()=>ee(x),title:"Export",className:"inline-flex items-center px-3 py-2 text-xs bg-gray-700 hover:bg-gray-600 text-white rounded-md transition-colors",children:[r.jsx(_t,{className:"h-4 w-4 mr-1"}),"Export"]}),r.jsxs("button",{onClick:()=>$(x),title:"Edit",className:"inline-flex items-center px-3 py-2 text-xs bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors",children:[r.jsx(Pn,{className:"h-4 w-4 mr-1"}),"Edit"]}),r.jsx("button",{onClick:()=>M(x.slug),title:x.status?"Disable":"Enable",className:`inline-flex items-center px-3 py-2 text-xs rounded-md transition-colors ${x.status?"bg-yellow-600 hover:bg-yellow-700":"bg-green-600 hover:bg-green-700"} text-white`,children:x.status?r.jsxs(r.Fragment,{children:[r.jsx(Ti,{className:"h-4 w-4 mr-1"}),"Disable"]}):r.jsxs(r.Fragment,{children:[r.jsx(Ai,{className:"h-4 w-4 mr-1"}),"Enable"]})}),r.jsxs("button",{onClick:()=>B(x),title:"Delete",className:"inline-flex items-center px-3 py-2 text-xs bg-red-600 hover:bg-red-700 text-white rounded-md transition-colors",children:[r.jsx(Yt,{className:"h-4 w-4 mr-1"}),"Delete"]})]})]},x.slug))})}),v&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-xl font-bold text-white",children:"Create Package Template"}),r.jsx("button",{onClick:()=>{b(!1),ve()},title:"Close modal",className:"text-gray-400 hover:text-white",children:r.jsx($e,{className:"h-6 w-6"})})]}),r.jsx(Zu,{formData:W,setFormData:he,onSubmit:Q,submitText:"Create Template"})]})}),N&&_&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-xl font-bold text-white",children:"Edit Package Template"}),r.jsx("button",{onClick:()=>{C(!1),k(null),ve()},title:"Close modal",className:"text-gray-400 hover:text-white",children:r.jsx($e,{className:"h-6 w-6"})})]}),r.jsx(Zu,{formData:W,setFormData:he,onSubmit:ie,submitText:"Update Template"})]})}),P&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-xl font-bold text-white",children:"Import Package Templates from JSON"}),r.jsx("button",{onClick:()=>{E(!1),ve()},title:"Close modal",className:"text-gray-400 hover:text-white",children:r.jsx($e,{className:"h-6 w-6"})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("button",{onClick:()=>X?.click(),className:"inline-flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors",children:[r.jsx(Oi,{className:"h-4 w-4 mr-2"}),"Choose File"]}),r.jsx("input",{ref:H,type:"file",accept:".json",onChange:Ce,className:"hidden","aria-label":"Upload JSON file"}),r.jsx("a",{href:"/examples/package-templates-example.json",download:!0,className:"text-sm text-blue-400 hover:text-blue-300 underline",children:"Download Example"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"JSON Content"}),r.jsx("textarea",{value:J,onChange:x=>O(x.target.value),className:"w-full h-64 p-3 bg-gray-700 border border-gray-600 rounded-md text-white font-mono text-sm",placeholder:`[
  {
    "slug": "basic-stardust",
    "name": "Basic Stardust Pack",
    "description": "1000 stardust for basic needs",
    "category": "resourcePurchase",
    "actionType": "fixedAmount",
    "actionTarget": "reward",
    "actionData": {"resource": "stardust", "amount": 1000},
    "costData": {"price": 99, "currency": "tgStars"},
    "status": true,
    "icon": "",
    "sortOrder": 1,
    "labelKey": "store.basicPack",
    "isPromoted": false
  },
  {
    "slug": "dark-matter-pack",
    "name": "Dark Matter Pack",
    "description": "500 dark matter for advanced needs",
    "category": "resourcePurchase",
    "actionType": "fixedAmount",
    "actionTarget": "reward",
    "actionData": {"resource": "darkMatter", "amount": 500},
    "costData": {"price": 199, "currency": "tgStars"},
    "status": true,
    "icon": "",
    "sortOrder": 2,
    "labelKey": "store.darkMatterPack",
    "isPromoted": false
  },
  {
    "slug": "variable-stardust",
    "name": "Variable Stardust Pack",
    "description": "Variable amount of stardust",
    "category": "resourcePurchase",
    "actionType": "variableAmount",
    "actionTarget": "reward",
    "actionData": {"resource": "stardust", "amount": "{{amount}}"},
    "costData": {"price": 99, "currency": "tgStars"},
    "status": true,
    "icon": "",
    "sortOrder": 3,
    "labelKey": "store.variableStardustPack",
    "isPromoted": false
  },
  {
    "slug": "galaxy-name-update",
    "name": "Update Galaxy Name",
    "description": "Update galaxy name",
    "category": "gameObject",
    "actionType": "updateField",
    "actionTarget": "entity",
    "actionData": {"table": "galaxy", "seed": "{{seed}}", "field": "name", "value": "{{value}}"},
    "costData": {"price": 199, "currency": "tgStars"},
    "status": true,
    "icon": "",
    "sortOrder": 10,
    "labelKey": "store.updateGalaxyName",
    "isPromoted": false
  }
]`})]}),F&&r.jsxs("div",{className:"flex items-center p-3 bg-red-600 text-white rounded-md",children:[r.jsx(Bt,{className:"h-4 w-4 mr-2"}),F]}),r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsx("button",{onClick:()=>{E(!1),ve()},className:"px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-md transition-colors",children:"Cancel"}),r.jsxs("button",{onClick:ke,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors",children:[r.jsx(cr,{className:"h-4 w-4 mr-2 inline"}),"Import Templates"]})]})]})]})}),we&&le&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-xl font-bold text-white",children:"Confirm Delete"}),r.jsx("button",{onClick:()=>{te(!1),se(null)},title:"Close modal",className:"text-gray-400 hover:text-white",children:r.jsx($e,{className:"h-6 w-6"})})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("p",{className:"text-gray-300 mb-2",children:"Are you sure you want to delete this package template?"}),r.jsxs("div",{className:"bg-gray-700 p-3 rounded-md",children:[r.jsx("p",{className:"text-white font-medium",children:le.name}),r.jsxs("p",{className:"text-gray-400 text-sm",children:["Slug: ",le.slug]})]})]}),r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsx("button",{onClick:()=>{te(!1),se(null)},className:"px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-md transition-colors",children:"Cancel"}),r.jsxs("button",{onClick:w,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-md transition-colors",children:[r.jsx(Yt,{className:"h-4 w-4 mr-2 inline"}),"Delete"]})]})]})})]})}function Zu({formData:s,setFormData:l,onSubmit:o,submitText:c}){const u=(f,p)=>{const g={...s,[f]:p};if((f==="actionType"||f==="actionTarget"||f==="category")&&(g.actionType==="fixedAmount"&&g.actionTarget==="reward"?g.actionData={resource:"stardust",amount:1e3}:g.actionType==="variableAmount"&&g.actionTarget==="reward"?g.actionData={resource:"stardust",amount:"{{amount}}"}:g.actionType==="updateField"&&g.actionTarget==="entity"&&(g.actionData={table:"galaxy",seed:"{{seed}}",field:"{{field}}",value:"{{value}}"}),g.actionType==="fixedAmount"||g.actionType==="variableAmount"?g.costData={price:99,currency:"tgStars"}:g.actionType==="updateField"&&(g.costData={price:99,currency:"tgStars"})),f==="actionData"||f==="costData")try{if(typeof p=="string"){const v=JSON.parse(p);g[f]=v}else g[f]=p}catch{g[f]=p}l(g)},m=f=>{let p={};switch(f){case"stardust_fixed":p={slug:"basic-stardust-pack",name:"Basic Stardust Pack",description:"1000 stardust for basic needs",category:"resourcePurchase",actionType:"fixedAmount",actionTarget:"reward",actionData:{resource:"stardust",amount:1e3},costData:{price:99,currency:"tgStars"},status:!0,icon:"",sortOrder:1,labelKey:"store.basicPack",isPromoted:!1,validUntil:""};break;case"darkmatter_fixed":p={slug:"dark-matter-pack",name:"Dark Matter Pack",description:"500 dark matter for advanced needs",category:"resourcePurchase",actionType:"fixedAmount",actionTarget:"reward",actionData:{resource:"darkMatter",amount:500},costData:{price:199,currency:"tgStars"},status:!0,icon:"",sortOrder:2,labelKey:"store.darkMatterPack",isPromoted:!1,validUntil:""};break;case"stardust_variable":p={slug:"variable-stardust-pack",name:"Variable Stardust Pack",description:"Variable amount of stardust",category:"resourcePurchase",actionType:"variableAmount",actionTarget:"reward",actionData:{resource:"stardust",amount:"{{amount}}"},costData:{price:99,currency:"tgStars"},status:!0,icon:"",sortOrder:3,labelKey:"store.variableStardustPack",isPromoted:!1,validUntil:""};break;case"galaxy_name":p={slug:"update-galaxy-name",name:"Update Galaxy Name",description:"Update galaxy name",category:"gameObject",actionType:"updateField",actionTarget:"entity",actionData:{table:"galaxy",seed:"{{seed}}",field:"name",value:"{{value}}"},costData:{price:99,currency:"tgStars"},status:!0,icon:"",sortOrder:10,labelKey:"store.updateGalaxyName",isPromoted:!1,validUntil:""};break;case"galaxy_field":p={slug:"update-galaxy-field",name:"Update Galaxy Field",description:"Update a specific field on the galaxy",category:"gameObject",actionType:"updateField",actionTarget:"entity",actionData:{table:"galaxy",seed:"{{seed}}",field:"name",value:"{{value}}"},costData:{price:99,currency:"tgStars"},status:!0,icon:"",sortOrder:11,labelKey:"store.updateGalaxyField",isPromoted:!1,validUntil:""};break;case"custom":p={slug:"custom-package",name:"Custom Package",description:"A package with custom action and cost",category:"resourcePurchase",actionType:"fixedAmount",actionTarget:"reward",actionData:{resource:"gold",amount:100},costData:{price:199,currency:"tgStars"},status:!0,icon:"",sortOrder:12,labelKey:"store.customPackage",isPromoted:!1,validUntil:""};break}l(p)};return r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Slug *"}),r.jsx("input",{type:"text",value:s.slug||"",onChange:f=>u("slug",f.target.value.replace(/\s+/g,"-")),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded-md text-white",placeholder:"basic-stardust-pack"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Name *"}),r.jsx("input",{type:"text",value:s.name||"",onChange:f=>u("name",f.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded-md text-white",placeholder:"Basic Stardust Pack"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Description"}),r.jsx("textarea",{value:s.description||"",onChange:f=>u("description",f.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded-md text-white",rows:3,placeholder:"Description of the package..."})]}),r.jsxs("div",{className:"mb-4 p-3 bg-blue-900 bg-opacity-30 border border-blue-600 rounded-md",children:[r.jsx("h4",{className:"text-sm font-medium text-blue-300 mb-2",children:" Package Structure Guide"}),r.jsxs("div",{className:"text-xs text-blue-200 space-y-1",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Resource Packages:"})," Give players stardust, dark matter, or other resources"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Game Object Packages:"})," Update galaxy names, fields, or other game entities"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Variable Packages:"})," Use placeholders like"," ","{{amount}}, {{seed}}, {{value}} for dynamic content"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"All data is stored in JSONB fields:"})," ","actionData (what the package does) and costData (how much it costs)"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Category *"}),r.jsxs("select",{value:s.category||"resourcePurchase",onChange:f=>u("category",f.target.value),"aria-label":"Select category",className:"w-full p-2 bg-gray-700 border border-gray-600 rounded-md text-white",children:[r.jsx("option",{value:"resourcePurchase",children:"Resource Purchase"}),r.jsx("option",{value:"gameObject",children:"Game Object"})]}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:s.category==="resourcePurchase"?" For buying resources like stardust, dark matter, stars":" For game object updates like galaxy names, fields, or other entities"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Action Type *"}),r.jsxs("select",{value:s.actionType||"fixedAmount",onChange:f=>u("actionType",f.target.value),"aria-label":"Select action type",className:"w-full p-2 bg-gray-700 border border-gray-600 rounded-md text-white",children:[r.jsx("option",{value:"fixedAmount",children:"Fixed Amount"}),r.jsx("option",{value:"variableAmount",children:"Variable Amount"}),r.jsx("option",{value:"updateField",children:"Update Field"})]}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:s.actionType==="fixedAmount"?" Fixed resource amount - gives exact amount to player":s.actionType==="variableAmount"?" Variable amount - use {{amount}} placeholder for dynamic values":" Update game object fields - modify galaxy names, properties, etc."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Action Target *"}),r.jsxs("select",{value:s.actionTarget||"reward",onChange:f=>u("actionTarget",f.target.value),"aria-label":"Select action target",className:"w-full p-2 bg-gray-700 border border-gray-600 rounded-md text-white",children:[r.jsx("option",{value:"reward",children:"Reward"}),r.jsx("option",{value:"entity",children:"Entity"})]}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:s.actionTarget==="reward"?" Give resources to player - stardust, dark matter, etc.":" Update game object - galaxy names, properties, or other entities"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Action Data (JSON) *"}),r.jsx("textarea",{name:"actionData",value:typeof s.actionData=="object"?JSON.stringify(s.actionData,null,2):s.actionData,onChange:f=>u("actionData",f.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono text-sm",rows:4,placeholder:"Enter JSON data for the package action"}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:s.category==="resourcePurchase"&&s.actionType==="fixedAmount"&&s.actionTarget==="reward"?' Fixed Resource: {"resource": "stardust", "amount": 10000}':s.category==="resourcePurchase"&&s.actionType==="variableAmount"&&s.actionTarget==="reward"?' Variable Resource: {"resource": "stardust", "amount": "{{amount}}"}':s.category==="gameObject"&&s.actionType==="updateField"&&s.actionTarget==="entity"?' Update Galaxy: {"table": "galaxy", "seed": "{{seed}}", "field": "name", "value": "{{value}}"}':" Define what the package does when used"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Cost Data (JSON) *"}),r.jsx("textarea",{name:"costData",value:typeof s.costData=="object"?JSON.stringify(s.costData,null,2):s.costData,onChange:f=>u("costData",f.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono text-sm",rows:4,placeholder:"Enter JSON data for the package cost"}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:s.category==="resourcePurchase"?' Resource Cost: {"price": 99, "currency": "tgStars"} - Use tgStars for Telegram Stars':s.category==="gameObject"?' Game Object Cost: {"price": 199, "currency": "tgStars"} - Higher price for special features':" Define the cost of the package - price in numbers, currency as string"})]})]}),r.jsxs("div",{className:"mb-6 p-4 bg-gray-800 border border-gray-600 rounded-md",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-3",children:" Quick Examples - Click to load template"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:[r.jsx("button",{type:"button",onClick:()=>m("stardust_fixed"),className:"p-2 text-xs bg-blue-900 hover:bg-blue-800 border border-blue-600 rounded text-blue-200 hover:text-white transition-colors",title:"Basic stardust pack: 1000 stardust for 99 tgStars",children:" Fixed Stardust"}),r.jsx("button",{type:"button",onClick:()=>m("darkmatter_fixed"),className:"p-2 text-xs bg-purple-900 hover:bg-purple-800 border border-purple-600 rounded text-purple-200 hover:text-white transition-colors",title:"Dark matter pack: 500 dark matter for 199 tgStars",children:" Fixed Dark Matter"}),r.jsx("button",{type:"button",onClick:()=>m("stardust_variable"),className:"p-2 text-xs bg-green-900 hover:bg-green-800 border border-green-600 rounded text-green-200 hover:text-white transition-colors",title:"Variable stardust: dynamic amount with {{amount}} placeholder",children:" Variable Stardust"}),r.jsx("button",{type:"button",onClick:()=>m("galaxy_name"),className:"p-2 text-xs bg-yellow-900 hover:bg-yellow-800 border border-yellow-600 rounded text-yellow-200 hover:text-white transition-colors",title:"Update galaxy name: modify galaxy names for 199 tgStars",children:" Galaxy Name Update"}),r.jsx("button",{type:"button",onClick:()=>m("galaxy_field"),className:"p-2 text-xs bg-red-900 hover:bg-red-800 border border-red-600 rounded text-red-200 hover:text-white transition-colors",title:"Update galaxy field: modify any galaxy property for 199 tgStars",children:" Galaxy Field Update"}),r.jsx("button",{type:"button",onClick:()=>m("custom"),className:"p-2 text-xs bg-gray-700 hover:bg-gray-600 border border-gray-500 rounded text-gray-300 hover:text-white transition-colors",title:"Custom package: template for creating your own package type",children:" Custom Package"})]}),r.jsxs("p",{className:"text-xs text-gray-400 mt-3",children:[" ",r.jsx("strong",{children:"Tip:"})," Use these examples as starting points, then customize the values, names, and descriptions to match your needs!"]})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Label Key"}),r.jsx("input",{type:"text",value:s.labelKey||"",onChange:f=>u("labelKey",f.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded-md text-white",placeholder:"store.basicPack or store.premium.package.name"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Sort Order"}),r.jsx("input",{type:"number",value:s.sortOrder||0,onChange:f=>u("sortOrder",parseInt(f.target.value)||0),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded-md text-white",placeholder:"0"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Valid Until"}),r.jsx("input",{type:"datetime-local",value:s.validUntil||"",onChange:f=>u("validUntil",f.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded-md text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Icon"}),r.jsx("input",{type:"text",value:s.icon||"",onChange:f=>u("icon",f.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded-md text-white",placeholder:""})]})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",checked:s.status??!0,onChange:f=>u("status",f.target.checked),"aria-label":"Set template as active",className:"rounded border-gray-600 bg-gray-700 text-blue-600 focus:ring-blue-500"}),r.jsx("span",{className:"ml-2 text-gray-300",children:"Active"})]}),r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",checked:s.isPromoted??!1,onChange:f=>u("isPromoted",f.target.checked),"aria-label":"Set template as promoted",className:"rounded border-gray-600 bg-gray-700 text-blue-600 focus:ring-blue-500"}),r.jsx("span",{className:"ml-2 text-gray-300",children:"Promoted"})]})]}),r.jsx("div",{className:"flex justify-end space-x-2",children:r.jsx("button",{onClick:o,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors",children:c})})]})}function Ny({className:s=""}){const[l,o]=y.useState([]),[c,u]=y.useState(!0),[m,f]=y.useState(""),[p,g]=y.useState("success"),[v,b]=y.useState(!1),[N,C]=y.useState(!1),[P,E]=y.useState(!1),[_,k]=y.useState(null),[J,O]=y.useState(""),[F,A]=y.useState(""),[X,H]=y.useState(null),[we,te]=y.useState(!1),[le,se]=y.useState(null),[W,he]=y.useState({slug:"",name:"",description:{en:"",ru:""},maxLevel:1,basePrice:0,effectPerLevel:0,priceMultiplier:1,currency:"stardust",category:"production",icon:"",stability:0,instability:0,modifiers:{},active:!0,conditions:{},delayedUntil:"",children:[],weight:1});y.useEffect(()=>{ne()},[]);const ne=async()=>{try{u(!0);const x=await ue.get("/upgrade-templates");let V;Array.isArray(x.data)?V=x.data:x.data?.data&&Array.isArray(x.data.data)?V=x.data.data:x.data?.templates&&Array.isArray(x.data.templates)?V=x.data.templates:V=[],o(V)}catch(x){console.error("Error fetching upgrade templates:",x),re("Failed to fetch upgrade templates","error")}finally{u(!1)}},re=(x,V)=>{f(x),g(V),setTimeout(()=>f(""),5e3)},ve=()=>{he({slug:"",name:"",description:{en:"",ru:""},maxLevel:1,basePrice:0,effectPerLevel:0,priceMultiplier:1,currency:"stardust",category:"production",icon:"",stability:0,instability:0,modifiers:{},active:!0,conditions:{},delayedUntil:"",children:[],weight:1})},ke=async()=>{try{A("");const x=JSON.parse(J);if(!Array.isArray(x)){A("JSON must be an array of upgrade templates");return}const V=x.map(D=>{const{id:Z,createdAt:fe,updatedAt:Pe,...Ee}=D;return Ee.delayedUntil&&Ee.delayedUntil.trim()===""&&delete Ee.delayedUntil,Ee}),ae=await ue.post("/upgrade-templates",V);re("Upgrade templates created successfully","success"),E(!1),ve(),ne()}catch(x){x.name==="SyntaxError"?A("Invalid JSON format"):(console.error("Error creating upgrade templates:",x),A(x.response?.data?.message||"Failed to create upgrade templates"))}},Ce=x=>{const V=x.target.files?.[0];if(!V)return;const ae=new FileReader;ae.onload=D=>{try{const Z=D.target?.result,fe=JSON.parse(Z);if(!Array.isArray(fe)){A("JSON file must contain an array of upgrade templates");return}const Pe=fe.map(Ee=>{const{id:nt,createdAt:jt,updatedAt:wt,...We}=Ee;return We.delayedUntil&&We.delayedUntil.trim()===""&&delete We.delayedUntil,We});O(JSON.stringify(Pe,null,2)),A("")}catch{A("Invalid JSON file format")}},ae.readAsText(V)},Q=async()=>{try{if(!W.slug||!W.name){re("Please fill in all required fields","error");return}const x=JSON.stringify(W.name||{en:"",ru:""}),V=JSON.stringify(W.description||{en:"",ru:""}),ae={...W,name:x,description:V,delayedUntil:W.delayedUntil&&W.delayedUntil.trim()!==""?W.delayedUntil:void 0},D=await ue.post("/upgrade-templates",[ae]);re("Upgrade template created successfully","success"),b(!1),ve(),ne()}catch(x){console.error("Error creating upgrade template:",x),re(x.response?.data?.message||"Failed to create upgrade template","error")}},ie=async()=>{try{if(!_?.slug)return;const x=JSON.stringify(W.name||{en:"",ru:""}),V=JSON.stringify(W.description||{en:"",ru:""}),ae={...W,name:x,description:V,delayedUntil:W.delayedUntil&&W.delayedUntil.trim()!==""?W.delayedUntil:void 0},D=await ue.put(`/upgrade-templates/${encodeURIComponent(_.slug)}`,ae);re("Upgrade template updated successfully","success"),C(!1),k(null),ve(),ne()}catch(x){console.error("Error updating upgrade template:",x),re(x.response?.data?.message||"Failed to update upgrade template","error")}},B=async x=>{se(x),te(!0)},w=async()=>{if(le)try{const x=await ue.delete(`/upgrade-templates/${encodeURIComponent(le.slug)}`);re("Upgrade template deleted successfully","success"),te(!1),se(null),ne()}catch(x){console.error(" Error deleting upgrade template:",x),console.error(" Error details:",{status:x.response?.status,data:x.response?.data,message:x.message}),re(x.response?.data?.message||"Failed to delete upgrade template","error")}},M=async x=>{try{const V=await ue.post(`/upgrade-templates/${encodeURIComponent(x)}/activate`);re("Upgrade template status toggled successfully","success"),ne()}catch(V){console.error(" Error toggling upgrade template status:",V),console.error(" Error details:",{status:V.response?.status,data:V.response?.data,message:V.message}),re(V.response?.data?.message||"Failed to toggle upgrade template status","error")}},$=x=>{k(x);let V={en:"",ru:""},ae={en:"",ru:""};try{typeof x.name=="string"?V=JSON.parse(x.name):typeof x.name=="object"&&(V=x.name)}catch(Z){console.error("Failed to parse name:",Z)}try{typeof x.description=="string"?ae=JSON.parse(x.description):typeof x.description=="object"&&(ae=x.description)}catch(Z){console.error("Failed to parse description:",Z)}const D={slug:x.slug||"",name:V,description:ae,maxLevel:x.maxLevel||1,basePrice:x.basePrice||0,effectPerLevel:x.effectPerLevel||0,priceMultiplier:x.priceMultiplier||1,currency:x.currency||"stardust",category:x.category||"production",icon:x.icon||"",stability:x.stability||0,instability:x.instability||0,modifiers:x.modifiers||{},active:x.active??!0,conditions:x.conditions||{},delayedUntil:x.delayedUntil||"",children:x.children||[],weight:x.weight||1};he(D),C(!0)},ee=x=>{const V=JSON.stringify(x,null,2),ae="data:application/json;charset=utf-8,"+encodeURIComponent(V),D=`${x.slug}.json`,Z=document.createElement("a");Z.setAttribute("href",ae),Z.setAttribute("download",D),Z.click()},xe=()=>{const x=JSON.stringify(l,null,2),V="data:application/json;charset=utf-8,"+encodeURIComponent(x),ae="upgrade-templates.json",D=document.createElement("a");D.setAttribute("href",V),D.setAttribute("download",ae),D.click()},ye=x=>{if(x.currency)switch(x.currency){case"stardust":return"bg-gradient-to-r from-blue-900 to-blue-800 border-blue-600";case"darkmatter":return"bg-gradient-to-r from-purple-900 to-purple-800 border-purple-600";case"stars":return"bg-gradient-to-r from-yellow-900 to-yellow-800 border-yellow-600";default:return"bg-gradient-to-r from-gray-800 to-gray-700 border-gray-600"}return"bg-gradient-to-r from-gray-800 to-gray-700 border-gray-600"},de=x=>{switch(x){case"production":return"bg-blue-600 text-white";case"economy":return"bg-green-600 text-white";case"special":return"bg-purple-600 text-white";case"chance":return"bg-orange-600 text-white";case"storage":return"bg-yellow-600 text-white";case"multiplier":return"bg-pink-600 text-white";default:return"bg-gray-600 text-white"}},z=x=>{switch(x){case"stardust":return"";case"darkmatter":return"";case"stars":return"";default:return""}};return r.jsxs("div",{className:`space-y-6 ${s}`,children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs("button",{onClick:()=>E(!0),title:"Import from JSON",className:"inline-flex items-center px-3 py-2 bg-green-600 hover:bg-green-700 text-white rounded-md transition-colors",children:[r.jsx(cr,{className:"h-4 w-4 mr-2"}),"Import JSON"]}),r.jsxs("button",{onClick:xe,title:"Export all templates",className:"inline-flex items-center px-3 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors",children:[r.jsx(_t,{className:"h-4 w-4 mr-2"}),"Export All"]}),r.jsxs("button",{onClick:()=>b(!0),title:"Create new template",className:"inline-flex items-center px-3 py-2 bg-green-600 hover:bg-green-700 text-white rounded-md transition-colors",children:[r.jsx(Qt,{className:"h-4 w-4 mr-2"}),"Create Template"]})]})]}),m&&r.jsx("div",{className:`p-3 rounded-md ${p==="success"?"bg-green-600 text-white":"bg-red-600 text-white"}`,children:m}),r.jsx("div",{className:"bg-gray-800 rounded-lg p-6",children:c?r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-400",children:"Loading upgrade templates..."})]}):l.length===0?r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Ri,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-400",children:"No upgrade templates found"}),r.jsxs("button",{onClick:()=>b(!0),className:"mt-4 inline-flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors",children:[r.jsx(Qt,{className:"h-4 w-4 mr-2"}),"Create First Template"]})]}):r.jsx("div",{className:"grid grid-cols-1 gap-4",children:l.map(x=>{let V=x.name;try{typeof x.name=="string"&&x.name.startsWith("{")?V=JSON.parse(x.name).en||x.name:typeof x.name=="object"&&(V=x.name.en||x.name)}catch{}return r.jsxs("div",{className:`${ye(x)} rounded-lg p-6 border-2 shadow-lg transition-all duration-200 hover:shadow-xl`,children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[r.jsx("div",{className:"text-4xl",children:x.icon||""}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[r.jsx("h3",{className:"text-xl font-bold text-white",children:V}),r.jsx("span",{className:`px-2 py-0.5 text-xs font-semibold rounded ${de(x.category)}`,children:x.category}),!x.active&&r.jsx("span",{className:"px-2 py-0.5 text-xs font-semibold bg-red-600 text-white rounded",children:"Disabled"})]}),r.jsx("p",{className:"text-sm text-gray-400 font-mono",children:x.slug})]})]}),x.description?.en&&r.jsx("p",{className:"text-white mb-4 text-sm leading-relaxed",children:x.description.en}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[r.jsxs("div",{className:"bg-black bg-opacity-30 rounded-lg p-3",children:[r.jsx("div",{className:"text-xs text-gray-300 mb-1",children:"Max Level"}),r.jsx("div",{className:"text-lg font-bold text-white",children:x.maxLevel})]}),r.jsxs("div",{className:"bg-black bg-opacity-30 rounded-lg p-3",children:[r.jsx("div",{className:"text-xs text-gray-300 mb-1",children:"Base Price"}),r.jsxs("div",{className:"text-lg font-bold text-white flex items-center space-x-1",children:[r.jsx("span",{children:z(x.currency)}),r.jsx("span",{children:x.basePrice})]})]}),r.jsxs("div",{className:"bg-black bg-opacity-30 rounded-lg p-3",children:[r.jsx("div",{className:"text-xs text-gray-300 mb-1",children:"Effect/Level"}),r.jsx("div",{className:"text-lg font-bold text-white",children:x.effectPerLevel})]}),r.jsxs("div",{className:"bg-black bg-opacity-30 rounded-lg p-3",children:[r.jsx("div",{className:"text-xs text-gray-300 mb-1",children:"Price Multiplier"}),r.jsxs("div",{className:"text-lg font-bold text-white",children:["",x.priceMultiplier]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 text-sm",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"text-gray-300",children:"Currency:"}),r.jsxs("span",{className:"text-white font-semibold",children:[z(x.currency)," ",x.currency]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"text-gray-300",children:"Weight:"}),r.jsx("span",{className:"text-white font-semibold",children:x.weight||1})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"text-gray-300",children:"Stability:"}),r.jsx("span",{className:"text-white font-semibold",children:x.stability||0})]})]}),(Object.keys(x.modifiers||{}).length>0||Object.keys(x.conditions||{}).length>0)&&r.jsx("div",{className:"mt-4 pt-4 border-t border-white border-opacity-20",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[Object.keys(x.modifiers||{}).length>0&&r.jsxs("div",{children:[r.jsx("div",{className:"text-xs text-gray-300 mb-2 font-semibold",children:"Modifiers:"}),r.jsx("div",{className:"bg-black bg-opacity-30 rounded p-2 text-xs font-mono text-gray-200",children:JSON.stringify(x.modifiers,null,2)})]}),Object.keys(x.conditions||{}).length>0&&r.jsxs("div",{children:[r.jsx("div",{className:"text-xs text-gray-300 mb-2 font-semibold",children:"Conditions:"}),r.jsx("div",{className:"bg-black bg-opacity-30 rounded p-2 text-xs font-mono text-gray-200",children:JSON.stringify(x.conditions,null,2)})]})]})}),r.jsxs("div",{className:"mt-4 pt-4 border-t border-white border-opacity-20 flex justify-end space-x-2",children:[r.jsxs("button",{onClick:()=>ee(x),title:"Export",className:"inline-flex items-center px-3 py-2 text-xs bg-gray-700 hover:bg-gray-600 text-white rounded-md transition-colors",children:[r.jsx(_t,{className:"h-4 w-4 mr-1"}),"Export"]}),r.jsxs("button",{onClick:()=>$(x),title:"Edit",className:"inline-flex items-center px-3 py-2 text-xs bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors",children:[r.jsx(Pn,{className:"h-4 w-4 mr-1"}),"Edit"]}),r.jsx("button",{onClick:()=>M(x.slug),title:x.active?"Disable":"Enable",className:`inline-flex items-center px-3 py-2 text-xs rounded-md transition-colors ${x.active?"bg-yellow-600 hover:bg-yellow-700":"bg-green-600 hover:bg-green-700"} text-white`,children:x.active?r.jsxs(r.Fragment,{children:[r.jsx(Ti,{className:"h-4 w-4 mr-1"}),"Disable"]}):r.jsxs(r.Fragment,{children:[r.jsx(Ai,{className:"h-4 w-4 mr-1"}),"Enable"]})}),r.jsxs("button",{onClick:()=>B(x),title:"Delete",className:"inline-flex items-center px-3 py-2 text-xs bg-red-600 hover:bg-red-700 text-white rounded-md transition-colors",children:[r.jsx(Yt,{className:"h-4 w-4 mr-1"}),"Delete"]})]})]},x.slug)})})}),v&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-xl font-bold text-white",children:"Create Upgrade Template"}),r.jsx("button",{onClick:()=>{b(!1),ve()},title:"Close modal",className:"text-gray-400 hover:text-white",children:r.jsx($e,{className:"h-6 w-6"})})]}),r.jsx(em,{formData:W,setFormData:he,onSubmit:Q,submitText:"Create Template"})]})}),N&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-xl font-bold text-white",children:"Edit Upgrade Template"}),r.jsx("button",{onClick:()=>{C(!1),k(null),ve()},title:"Close modal",className:"text-gray-400 hover:text-white",children:r.jsx($e,{className:"h-6 w-6"})})]}),r.jsx(em,{formData:W,setFormData:he,onSubmit:ie,submitText:"Update Template"})]})}),P&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-xl font-bold text-white",children:"Import Upgrade Templates from JSON"}),r.jsx("button",{onClick:()=>{E(!1),O(""),A("")},title:"Close modal",className:"text-gray-400 hover:text-white",children:r.jsx($e,{className:"h-6 w-6"})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"border border-gray-600 rounded-lg p-4 bg-gray-750",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Upload JSON File"}),r.jsx("a",{href:"/examples/upgrade-templates-example.json",download:!0,className:"text-sm text-blue-400 hover:text-blue-300 underline",children:"Download Example"})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("input",{type:"file",accept:".json",onChange:Ce,className:"hidden","aria-label":"Upload JSON file",ref:x=>H(x)}),r.jsxs("button",{onClick:()=>X?.click(),className:"inline-flex items-center px-3 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors",children:[r.jsx(Oi,{className:"h-4 w-4 mr-2"}),"Choose File"]}),r.jsx("span",{className:"text-sm text-gray-400",children:"Select a JSON file to upload"})]})]}),r.jsxs("div",{children:[r.jsx("div",{className:"flex items-center justify-between mb-2",children:r.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Or paste JSON data manually"})}),r.jsx("textarea",{value:J,onChange:x=>O(x.target.value),className:"w-full h-64 p-3 bg-gray-700 border border-gray-600 rounded-md text-white font-mono text-sm",placeholder:`[
  {
    "slug": "production-boost",
    "name": "Production Boost",
    "description": {
      "en": "Increases production rate",
      "ru": "  "
    },
    "maxLevel": 5,
    "basePrice": 100,
    "effectPerLevel": 0.1,
    "priceMultiplier": 1.5,
    "currency": "stardust",
    "category": "production",
    "icon": "",
    "stability": 0.8,
    "instability": 0.1,
    "modifiers": {
      "productionBonus": 0.1,
      "energyCost": 0.05
    },
    "conditions": {
      "level": 3,
      "resources": {
        "stardust": 500
      }
    },
    "children": ["advanced-production", "efficiency-boost"],
    "weight": 1,
    "active": true
  }
]`})]}),F&&r.jsxs("div",{className:"flex items-center p-3 bg-red-600 text-white rounded-md",children:[r.jsx(Bt,{className:"h-4 w-4 mr-2"}),F]}),r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsx("button",{onClick:()=>{E(!1),O(""),A("")},className:"px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-md transition-colors",children:"Cancel"}),r.jsx("button",{onClick:ke,className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-md transition-colors",children:"Import Templates"})]})]})]})}),we&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[r.jsx(Bt,{className:"h-6 w-6 text-red-400"}),r.jsx("h3",{className:"text-xl font-bold text-white",children:"Delete Template"})]}),r.jsxs("p",{className:"text-gray-300 mb-6",children:['Are you sure you want to delete the template "',le?.name,'"? This action cannot be undone.']}),r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsx("button",{onClick:()=>te(!1),className:"px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-md transition-colors",children:"Cancel"}),r.jsxs("button",{onClick:w,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-md transition-colors",children:[r.jsx(Yt,{className:"h-4 w-4 mr-2 inline"}),"Delete"]})]})]})})]})}function em({formData:s,setFormData:l,onSubmit:o,submitText:c}){const u=(p,g)=>{l({...s,[p]:g})},m=(p,g,v)=>{l({...s,[p]:{...s[p],[g]:v}})},f=p=>{let g={...s};switch(p){case"stardust_production":g={slug:"stardust_production",name:{en:"Stardust Collector",ru:"  "},description:{en:"Increases stardust production rate",ru:"    "},maxLevel:20,basePrice:1e3,priceMultiplier:1.5,effectPerLevel:.1,icon:"",currency:"stardust",category:"production",active:!0,modifiers:{stardustRate:.1},conditions:{},children:[],weight:1};break;case"star_discount":g={slug:"star_discount",name:{en:"Star Discount",ru:"  "},description:{en:"Reduces the cost of creating stars",ru:"   "},maxLevel:10,basePrice:2500,priceMultiplier:1.7,effectPerLevel:.05,icon:"",currency:"stardust",category:"economy",active:!0,modifiers:{starCostMultiplier:-.05},conditions:{},children:[],weight:1};break;case"dark_matter_chance":g={slug:"dark_matter_chance",name:{en:"Dark Matter Extractor",ru:"  "},description:{en:"Improve dark matter extraction rate",ru:"    "},maxLevel:5,basePrice:5,priceMultiplier:1.8,effectPerLevel:.5,icon:"",currency:"darkmatter",category:"chance",active:!0,modifiers:{darkMatterRate:.5},conditions:{},children:[],weight:1};break;case"stardust_multiplier":g={slug:"stardust_multiplier",name:{en:"Quantum Accelerator",ru:" "},description:{en:"Multiplier for all stardust gains",ru:"     "},maxLevel:10,basePrice:50,priceMultiplier:1.8,effectPerLevel:.2,icon:"",currency:"darkmatter",category:"multiplier",active:!0,modifiers:{stardustMultiplier:.2},conditions:{},children:[],weight:1};break;case"stellar_forge":g={slug:"stellar_forge",name:{en:"Stellar Forge",ru:" "},description:{en:"Automatically creates stars over time using accumulated stardust",ru:"    ,    "},maxLevel:5,basePrice:200,priceMultiplier:2,effectPerLevel:.05,icon:"",currency:"darkmatter",category:"special",active:!0,modifiers:{autoCreateStars:.05},conditions:{},children:[],weight:1};break;case"custom":g={slug:"custom_upgrade",name:{en:"Custom Upgrade",ru:" "},description:{en:"Create your own upgrade",ru:"  "},maxLevel:10,basePrice:1e3,priceMultiplier:1.5,effectPerLevel:.1,icon:"",currency:"stardust",category:"production",active:!0,modifiers:{},conditions:{},children:[],weight:1};break}l(g)};return r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"mb-4 p-3 bg-purple-900 bg-opacity-30 border border-purple-600 rounded-md",children:[r.jsx("h4",{className:"text-sm font-medium text-purple-300 mb-2",children:" Upgrade Structure Guide"}),r.jsxs("div",{className:"text-xs text-purple-200 space-y-1",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Categories:"})," production (resource generation), economy (costs/discounts), special (unique effects), multiplier (boosts), chance (probability), storage (capacity)"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Currency:"})," stardust (basic upgrades), darkmatter (premium upgrades), stars (special purchases)"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Modifiers:"})," Define gameplay effects in JSON format (e.g., stardustRate, darkMatterChance)"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Children:"})," Upgrades unlocked after completing this one"]})]})]}),r.jsxs("div",{className:"border-t border-gray-600 pt-4",children:[r.jsx("h4",{className:"text-md font-semibold text-gray-200 mb-3",children:" Basic Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Slug *"}),r.jsx("input",{type:"text",value:s.slug||"",onChange:p=>u("slug",p.target.value.replace(/\s+/g,"_")),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded-md text-white",placeholder:"stardust_production"}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Use snake_case (e.g., stardust_production)"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Icon"}),r.jsx("input",{type:"text",value:s.icon||"",onChange:p=>u("icon",p.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded-md text-white",placeholder:""}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:" Enter an emoji (e.g., , , , )"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Weight"}),r.jsx("input",{type:"number",value:s.weight||1,onChange:p=>u("weight",parseInt(p.target.value)||1),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded-md text-white",placeholder:"1"}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Priority/importance for sorting"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Name (English) *"}),r.jsx("input",{type:"text",value:s.name?.en||"",onChange:p=>m("name","en",p.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded-md text-white",placeholder:"e.g., Stardust Collector"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Name (Russian) *"}),r.jsx("input",{type:"text",value:s.name?.ru||"",onChange:p=>m("name","ru",p.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded-md text-white",placeholder:",   "})]})]})]}),r.jsxs("div",{className:"border-t border-gray-600 pt-4",children:[r.jsx("h4",{className:"text-md font-semibold text-gray-200 mb-3",children:" Descriptions"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Description (English)"}),r.jsx("textarea",{value:s.description?.en||"",onChange:p=>m("description","en",p.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded-md text-white",rows:3,placeholder:"e.g., Increases stardust production rate"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Description (Russian)"}),r.jsx("textarea",{value:s.description?.ru||"",onChange:p=>m("description","ru",p.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded-md text-white",rows:3,placeholder:",     "})]})]})]}),r.jsxs("div",{className:"border-t border-gray-600 pt-4",children:[r.jsx("h4",{className:"text-md font-semibold text-gray-200 mb-3",children:" Category & Currency"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Category *"}),r.jsxs("select",{value:s.category||"production",onChange:p=>u("category",p.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded-md text-white",title:"Select upgrade category",children:[r.jsx("option",{value:"production",children:"Production"}),r.jsx("option",{value:"economy",children:"Economy"}),r.jsx("option",{value:"special",children:"Special"}),r.jsx("option",{value:"chance",children:"Chance"}),r.jsx("option",{value:"storage",children:"Storage"}),r.jsx("option",{value:"multiplier",children:"Multiplier"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Currency *"}),r.jsxs("select",{value:s.currency||"stardust",onChange:p=>u("currency",p.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded-md text-white",title:"Select currency type",children:[r.jsx("option",{value:"stardust",children:" Stardust"}),r.jsx("option",{value:"darkmatter",children:" Dark Matter"}),r.jsx("option",{value:"stars",children:" Stars"})]})]})]})]}),r.jsxs("div",{className:"border-t border-gray-600 pt-4",children:[r.jsx("h4",{className:"text-md font-semibold text-gray-200 mb-3",children:" Levels & Pricing"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Max Level *"}),r.jsx("input",{type:"number",value:s.maxLevel||1,onChange:p=>u("maxLevel",parseInt(p.target.value)||1),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded-md text-white",placeholder:"20"}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Maximum level players can reach"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Base Price *"}),r.jsx("input",{type:"number",value:s.basePrice||0,onChange:p=>u("basePrice",parseInt(p.target.value)||0),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded-md text-white",placeholder:"1000"}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Starting price for level 1"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Effect Per Level"}),r.jsx("input",{type:"number",step:"0.01",value:s.effectPerLevel||0,onChange:p=>u("effectPerLevel",parseFloat(p.target.value)||0),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded-md text-white",placeholder:"0.1"}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Effect increase per level (e.g., 0.1 = 10%)"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Price Multiplier"}),r.jsx("input",{type:"number",step:"0.01",value:s.priceMultiplier||1,onChange:p=>u("priceMultiplier",parseFloat(p.target.value)||1),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded-md text-white",placeholder:"1.5"}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Price increase per level (e.g., 1.5 = +50%)"})]})]})]}),r.jsxs("div",{className:"border-t border-gray-600 pt-4",children:[r.jsx("h4",{className:"text-md font-semibold text-gray-200 mb-3",children:" Advanced Settings"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Stability"}),r.jsx("input",{type:"number",step:"0.01",value:s.stability||0,onChange:p=>u("stability",parseFloat(p.target.value)||0),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded-md text-white",placeholder:"0.8"}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Reliability factor (0-1, higher is more stable)"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Instability"}),r.jsx("input",{type:"number",step:"0.01",value:s.instability||0,onChange:p=>u("instability",parseFloat(p.target.value)||0),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded-md text-white",placeholder:"0.1"}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Chaos/randomness factor (0-1, higher is more chaotic)"})]})]})]}),r.jsx("div",{className:"grid grid-cols-1 gap-4",children:r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Modifiers (JSON)"}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{type:"button",onClick:()=>u("modifiers",{}),className:"px-2 py-1 text-xs bg-gray-600 hover:bg-gray-700 text-white rounded transition-colors",title:"Clear modifiers",children:"Clear"}),r.jsx("button",{type:"button",onClick:()=>u("modifiers",{productionBonus:.1,energyCost:.05}),className:"px-2 py-1 text-xs bg-blue-600 hover:bg-blue-700 text-white rounded transition-colors",title:"Set example modifiers",children:"Example"})]})]}),r.jsx("textarea",{value:JSON.stringify(s.modifiers||{},null,2),onChange:p=>{try{const g=JSON.parse(p.target.value);u("modifiers",g)}catch{u("modifiers",p.target.value)}},className:"w-full p-2 bg-gray-700 border border-gray-600 rounded-md text-white font-mono text-sm",rows:4,placeholder:'{"bonus": 0.1, "multiplier": 1.2}'}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Enter valid JSON for additional modifiers and effects"})]})}),r.jsx("div",{className:"grid grid-cols-1 gap-4",children:r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Conditions (JSON)"}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{type:"button",onClick:()=>u("conditions",{}),className:"px-2 py-1 text-xs bg-gray-600 hover:bg-gray-700 text-white rounded transition-colors",title:"Clear conditions",children:"Clear"}),r.jsx("button",{type:"button",onClick:()=>u("conditions",{level:3,resources:{stardust:500}}),className:"px-2 py-1 text-xs bg-blue-600 hover:bg-blue-700 text-white rounded transition-colors",title:"Set example conditions",children:"Example"})]})]}),r.jsx("textarea",{value:JSON.stringify(s.conditions||{},null,2),onChange:p=>{try{const g=JSON.parse(p.target.value);u("conditions",g)}catch{u("conditions",p.target.value)}},className:"w-full p-2 bg-gray-700 border border-gray-600 rounded-md text-white font-mono text-sm",rows:4,placeholder:'{"level": 5, "resources": {"stardust": 1000}}'}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Enter valid JSON for conditions required to unlock this upgrade"})]})}),r.jsx("div",{className:"grid grid-cols-1 gap-4",children:r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Children (Array of slugs)"}),r.jsxs("div",{className:"space-y-2",children:[Array.isArray(s.children)&&s.children.map((p,g)=>r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("input",{type:"text",value:p,onChange:v=>{const b=[...s.children||[]];b[g]=v.target.value,u("children",b)},className:"flex-1 p-2 bg-gray-700 border border-gray-600 rounded-md text-white",placeholder:"upgrade-slug"}),r.jsx("button",{type:"button",onClick:()=>{const v=[...s.children||[]];v.splice(g,1),u("children",v)},className:"px-2 py-2 bg-red-600 hover:bg-red-700 text-white rounded-md transition-colors",title:"Remove child",children:""})]},g)),r.jsx("button",{type:"button",onClick:()=>{const p=[...s.children||[],""];u("children",p)},className:"w-full px-3 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-md transition-colors border border-dashed border-gray-500",children:"+ Add Child Upgrade"})]}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Add child upgrade slugs that will be unlocked by this upgrade"})]})}),r.jsx("div",{className:"grid grid-cols-1 gap-4",children:r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Delayed Until"}),r.jsx("input",{type:"datetime-local",value:s.delayedUntil||"",onChange:p=>u("delayedUntil",p.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded-md text-white",placeholder:"Select date and time"})]})}),r.jsx("div",{className:"flex items-center space-x-4",children:r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",checked:s.active??!0,onChange:p=>u("active",p.target.checked),className:"rounded border-gray-600 bg-gray-700 text-blue-600 focus:ring-blue-500"}),r.jsx("span",{className:"ml-2 text-gray-300",children:"Active"})]})}),r.jsxs("div",{className:"mb-6 p-4 bg-gray-800 border border-gray-600 rounded-md",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-3",children:" Quick Examples - Click to load template"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:[r.jsx("button",{type:"button",onClick:()=>f("stardust_production"),className:"p-2 text-xs bg-blue-900 hover:bg-blue-800 border border-blue-600 rounded text-blue-200 hover:text-white transition-colors",title:"Production upgrade: Increases stardust production rate",children:" Stardust Production"}),r.jsx("button",{type:"button",onClick:()=>f("star_discount"),className:"p-2 text-xs bg-green-900 hover:bg-green-800 border border-green-600 rounded text-green-200 hover:text-white transition-colors",title:"Economy upgrade: Reduces star creation costs",children:" Star Discount"}),r.jsx("button",{type:"button",onClick:()=>f("dark_matter_chance"),className:"p-2 text-xs bg-purple-900 hover:bg-purple-800 border border-purple-600 rounded text-purple-200 hover:text-white transition-colors",title:"Chance upgrade: Improve dark matter extraction",children:" Dark Matter"}),r.jsx("button",{type:"button",onClick:()=>f("stardust_multiplier"),className:"p-2 text-xs bg-yellow-900 hover:bg-yellow-800 border border-yellow-600 rounded text-yellow-200 hover:text-white transition-colors",title:"Multiplier upgrade: Boosts all stardust gains",children:" Multiplier"}),r.jsx("button",{type:"button",onClick:()=>f("stellar_forge"),className:"p-2 text-xs bg-red-900 hover:bg-red-800 border border-red-600 rounded text-red-200 hover:text-white transition-colors",title:"Special upgrade: Auto creates stars over time",children:" Special Effect"}),r.jsx("button",{type:"button",onClick:()=>f("custom"),className:"p-2 text-xs bg-gray-700 hover:bg-gray-600 border border-gray-500 rounded text-gray-300 hover:text-white transition-colors",title:"Custom upgrade: template for creating your own upgrade",children:" Custom Upgrade"})]}),r.jsxs("p",{className:"text-xs text-gray-400 mt-3",children:[" ",r.jsx("strong",{children:"Tip:"})," Use these examples as starting points, then customize the values, names, and descriptions to match your needs!"]})]}),r.jsx("div",{className:"flex justify-end space-x-2",children:r.jsx("button",{onClick:o,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors",children:c})})]})}function ky({className:s=""}){const[l,o]=y.useState([]),[c,u]=y.useState(!0),[m,f]=y.useState(""),[p,g]=y.useState("success"),[v,b]=y.useState(!1),[N,C]=y.useState(!1),[P,E]=y.useState(!1),[_,k]=y.useState(!1),[J,O]=y.useState(null),[F,A]=y.useState(null),[X,H]=y.useState(""),[we,te]=y.useState(""),[le,se]=y.useState({currency:"tgstars",rate:.05,description:""});y.useEffect(()=>{W()},[]);const W=async()=>{try{u(!0),console.log("Fetching commission templates...");const $=await ue.get("/commission-templates");console.log("Commission templates response:",$),console.log("Response data:",$.data),console.log("Response data.data:",$.data?.data),console.log("Response data.templates:",$.data?.templates);const ee=$.data?.data||$.data?.templates||$.data||[];console.log("Processed templates data:",ee),o(ee)}catch($){console.error("Error fetching commission templates:",$),he($.response?.data?.message||"Failed to fetch commission templates","error")}finally{u(!1)}};y.useEffect(()=>{console.log("Templates state changed:",l)},[l]);const he=($,ee)=>{f($),g(ee),setTimeout(()=>f(""),5e3)},ne=()=>{se({currency:"tgstars",rate:.05,description:""})},re=async()=>{try{te("");const $=X.trim();if(!$){te("Please enter JSON data");return}console.log("Processing JSON input:",$);let ee;try{ee=JSON.parse($)}catch(de){console.error("JSON parse error:",de),te(`Invalid JSON format: ${de.message||"Unknown error"}`);return}if(console.log("Parsed data:",ee),!Array.isArray(ee)){te("JSON must be an array of commission templates");return}if(ee.length===0){te("JSON array cannot be empty");return}console.log("Validating templates...");for(let de=0;de<ee.length;de++){const z=ee[de];if(console.log(`Validating template ${de+1}:`,z),!z.currency||!["tgstars","tontoken","stardust","darkmatter","stars"].includes(z.currency)){console.log(`Template ${de+1} failed validation: currency = "${z.currency}"`),te(`Template ${de+1}: Invalid or missing currency. Must be 'tgstars', 'tontoken', 'stardust', 'darkmatter', or 'stars'`);return}if(typeof z.rate!="number"||z.rate<0||z.rate>1){console.log(`Template ${de+1} failed validation: rate = ${z.rate} (type: ${typeof z.rate})`),te(`Template ${de+1}: Invalid rate. Must be a number between 0 and 1`);return}console.log(`Template ${de+1} passed validation`)}console.log("All templates passed validation");const xe=ee.map(de=>{const{id:z,createdAt:x,updatedAt:V,...ae}=de;return ae});console.log("Sending cleaned data to API:",xe);const ye=await ue.post("/commission-templates",xe);console.log("API response:",ye),he("Commission templates created successfully","success"),E(!1),H(""),te(""),W()}catch($){console.error("Error creating commission templates:",$),te($.response?.data?.message||"Failed to create commission templates")}},ve=$=>{const ee=$.target.files?.[0];if(!ee)return;const xe=new FileReader;xe.onload=ye=>{try{const de=ye.target?.result,z=JSON.parse(de);if(!Array.isArray(z)){te("JSON file must contain an array of commission templates");return}for(let V=0;V<z.length;V++){const ae=z[V];if(!ae.currency||!["tgstars","tontoken","stardust","darkmatter","stars"].includes(ae.currency)){te(`Template ${V+1}: Invalid or missing currency. Must be 'tgstars', 'tontoken', 'stardust', 'darkmatter', or 'stars'`);return}if(typeof ae.rate!="number"||ae.rate<0||ae.rate>1){te(`Template ${V+1}: Invalid rate. Must be a number between 0 and 1`);return}}const x=z.map(V=>{const{id:ae,createdAt:D,updatedAt:Z,...fe}=V;return fe});H(JSON.stringify(x,null,2)),te("")}catch(de){te(`Invalid JSON file format: ${de.message||"Unknown error"}`)}},xe.readAsText(ee)},ke=async()=>{try{if(!le.currency){he("Currency is required","error");return}const $=await ue.post("/commission-templates",[le]);he("Commission template created successfully","success"),b(!1),ne(),W()}catch($){console.error("Error creating commission template:",$),he($.response?.data?.message||"Failed to create commission template","error")}},Ce=async()=>{try{if(!F?.currency){he("Template currency is required","error");return}const $=await ue.put(`/commission-templates/${encodeURIComponent(F.currency)}`,le);he("Commission template updated successfully","success"),C(!1),A(null),ne(),W()}catch($){console.error("Error updating commission template:",$),he($.response?.data?.message||"Failed to update commission template","error")}},Q=$=>{O($),k(!0)},ie=async()=>{if(J?.currency)try{await ue.delete(`/commission-templates/${encodeURIComponent(J.currency)}`),he("Commission template deleted successfully","success"),k(!1),O(null),W()}catch($){console.error("Error deleting commission template:",$),he($.response?.data?.message||"Failed to delete commission template","error")}},B=$=>{console.log("Opening edit modal with commission template:",$),A($);const ee={currency:$.currency||"tgstars",rate:$.rate||.05,description:$.description||""};console.log("Setting form data:",ee),se(ee),C(!0)},w=$=>{const ee=JSON.stringify($,null,2),xe="data:application/json;charset=utf-8,"+encodeURIComponent(ee),ye=`${$.currency}.json`,de=document.createElement("a");de.setAttribute("href",xe),de.setAttribute("download",ye),de.click()},M=()=>{const $=JSON.stringify(l,null,2),ee="data:application/json;charset=utf-8,"+encodeURIComponent($),xe="commission-templates.json",ye=document.createElement("a");ye.setAttribute("href",ee),ye.setAttribute("download",xe),ye.click()};return console.log("Current templates state in render:",l),r.jsxs("div",{className:`space-y-6 ${s}`,children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs("button",{onClick:()=>E(!0),title:"Import from JSON",className:"inline-flex items-center px-3 py-2 bg-green-600 hover:bg-green-700 text-white rounded-md transition-colors",children:[r.jsx(cr,{className:"h-4 w-4 mr-2"}),"Import JSON"]}),r.jsxs("button",{onClick:M,title:"Export all templates",className:"inline-flex items-center px-3 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors",children:[r.jsx(_t,{className:"h-4 w-4 mr-2"}),"Export All"]}),r.jsxs("button",{onClick:()=>b(!0),title:"Create new template",className:"inline-flex items-center px-3 py-2 bg-green-600 hover:bg-green-700 text-white rounded-md transition-colors",children:[r.jsx(Qt,{className:"h-4 w-4 mr-2"}),"Create Template"]})]})]}),m&&r.jsx("div",{className:`p-3 rounded-md ${p==="success"?"bg-green-600 text-white":"bg-red-600 text-white"}`,children:m}),r.jsx("div",{className:"bg-gray-800 rounded-lg p-6",children:c?r.jsx("div",{className:"text-gray-400",children:"Loading commission templates..."}):l.length===0?r.jsx("div",{className:"text-gray-400",children:"No commission templates found."}):r.jsx("div",{className:"space-y-4",children:l.map($=>r.jsx("div",{className:"bg-gray-750 rounded-lg p-4 border border-gray-700",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("h4",{className:"text-white font-medium",children:$.currency}),r.jsxs("span",{className:"text-xs bg-gray-600 text-gray-300 px-2 py-1 rounded",children:[($.rate*100).toFixed(2),"%"]})]}),r.jsx("div",{className:"mt-2 text-sm text-gray-400",children:$.description&&r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Description:"})," ",$.description]})})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("button",{onClick:()=>w($),title:"Download template",className:"inline-flex items-center px-2 py-1 text-xs bg-blue-600 hover:bg-blue-700 text-white rounded transition-colors",children:[r.jsx(_t,{className:"h-3 w-3 mr-1"}),"Export"]}),r.jsxs("button",{onClick:()=>B($),title:"Edit template",className:"inline-flex items-center px-2 py-1 text-xs bg-blue-600 hover:bg-blue-700 text-white rounded transition-colors",children:[r.jsx(Pn,{className:"h-3 w-3 mr-1"}),"Edit"]}),r.jsxs("button",{onClick:()=>Q($),title:"Delete template",className:"inline-flex items-center px-2 py-1 text-xs bg-red-600 hover:bg-red-700 text-white rounded transition-colors",children:[r.jsx(Yt,{className:"h-3 w-3 mr-1"}),"Delete"]})]})]})},$.currency))})}),v&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-xl font-bold text-white",children:"Create Commission Template"}),r.jsx("button",{onClick:()=>{b(!1),ne()},title:"Close modal",className:"text-gray-400 hover:text-white",children:r.jsx($e,{className:"h-6 w-6"})})]}),r.jsx(tm,{formData:le,setFormData:se,onSubmit:ke,submitText:"Create Template"})]})}),N&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-xl font-bold text-white",children:"Edit Commission Template"}),r.jsx("button",{onClick:()=>{C(!1),A(null),ne()},title:"Close modal",className:"text-gray-400 hover:text-white",children:r.jsx($e,{className:"h-6 w-6"})})]}),r.jsx(tm,{formData:le,setFormData:se,onSubmit:Ce,submitText:"Update Template"})]})}),P&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-xl font-bold text-white",children:"Import Commission Templates from JSON"}),r.jsx("button",{onClick:()=>{E(!1),H(""),te("")},title:"Close modal",className:"text-gray-400 hover:text-white",children:r.jsx($e,{className:"h-6 w-6"})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"border border-gray-600 rounded-lg p-4 bg-gray-750",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Upload JSON File"}),r.jsx("a",{href:"#",onClick:$=>{$.preventDefault();const xe=JSON.stringify([{currency:"tgstars",rate:.05,description:"Standard commission for TG Stars"}],null,2),ye="data:application/json;charset=utf-8,"+encodeURIComponent(xe),de=document.createElement("a");de.setAttribute("href",ye),de.setAttribute("download","commission-templates-example.json"),de.click()},className:"text-blue-400 hover:text-blue-300 text-sm",children:"Download Example"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("input",{type:"file",accept:".json",onChange:ve,className:"hidden",id:"commission-json-upload"}),r.jsxs("label",{htmlFor:"commission-json-upload",className:"cursor-pointer inline-flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors",children:[r.jsx(cr,{className:"h-4 w-4 mr-2"}),"Choose File"]}),r.jsx("span",{className:"text-sm text-gray-400",children:"or paste JSON directly below"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"JSON Content"}),r.jsx("textarea",{value:X,onChange:$=>H($.target.value),className:"w-full h-64 p-3 bg-gray-700 border border-gray-600 rounded-md text-white font-mono text-sm",placeholder:'[{"currency": "tgstars", "rate": 0.05, "description": "Standard commission for TG Stars"}, {"currency": "stardust", "rate": 0.03, "description": "Commission for Stardust"}]'})]}),we&&r.jsxs("div",{className:"flex items-center p-3 bg-red-600 text-white rounded-md",children:[r.jsx(Bt,{className:"h-4 w-4 mr-2"}),we]}),r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsx("button",{onClick:()=>{E(!1),H(""),te("")},className:"px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-md transition-colors",children:"Cancel"}),r.jsx("button",{onClick:re,className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-md transition-colors",children:"Import Templates"})]})]})]})}),_&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[r.jsx(Bt,{className:"h-6 w-6 text-red-400"}),r.jsx("h3",{className:"text-xl font-bold text-white",children:"Delete Template"})]}),r.jsxs("p",{className:"text-gray-300 mb-6",children:['Are you sure you want to delete the commission template for "',J?.currency,'"? This action cannot be undone.']}),r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsx("button",{onClick:()=>k(!1),className:"px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-md transition-colors",children:"Cancel"}),r.jsxs("button",{onClick:ie,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-md transition-colors",children:[r.jsx(Yt,{className:"h-4 w-4 mr-2 inline"}),"Delete"]})]})]})})]})}function tm({formData:s,setFormData:l,onSubmit:o,submitText:c}){const u=(m,f)=>{l({...s,[m]:f})};return r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Currency *"}),r.jsxs("select",{value:s.currency||"tgstars",onChange:m=>u("currency",m.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded-md text-white",title:"Select currency",children:[r.jsx("option",{value:"tgstars",children:"TG Stars"}),r.jsx("option",{value:"tontoken",children:"TON Token"}),r.jsx("option",{value:"stardust",children:"Stardust"}),r.jsx("option",{value:"darkmatter",children:"Dark Matter"}),r.jsx("option",{value:"stars",children:"Stars"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Commission Rate *"}),r.jsx("input",{type:"number",step:"0.001",min:"0",max:"1",value:s.rate||.05,onChange:m=>u("rate",parseFloat(m.target.value)||.05),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded-md text-white",placeholder:"0.05"}),r.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:[(s.rate||.05)*100,"%"]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Description"}),r.jsx("textarea",{value:s.description||"",onChange:m=>u("description",m.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded-md text-white",rows:3,placeholder:"Description of this commission..."})]}),r.jsx("div",{className:"flex justify-end space-x-2",children:r.jsx("button",{onClick:o,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors",children:c})})]})}function Sy({className:s=""}){const[l,o]=y.useState([]),[c,u]=y.useState(!0),[m,f]=y.useState(""),[p,g]=y.useState("success"),[v,b]=y.useState(!1),[N,C]=y.useState(!1),[P,E]=y.useState(!1),[_,k]=y.useState(!1),[J,O]=y.useState(null),[F,A]=y.useState(null),[X,H]=y.useState(""),[we,te]=y.useState(""),[le,se]=y.useState("baseChance"),[W,he]=y.useState("asc"),[ne,re]=y.useState({slug:"",name:"",description:{en:"",ru:""},rarity:"COMMON",image:"",effects:{},limited:!1,limitedCount:0,limitedDuration:0,limitedDurationType:"HOUR",limitedDurationValue:0,baseChance:.01});y.useEffect(()=>{ve()},[]);const ve=async()=>{try{u(!0);const V=(await vs.getAll()).data||[];o(V)}catch(x){console.error("Error fetching artifact templates:",x),ke(x.response?.data?.message||"Failed to fetch artifact templates","error")}finally{u(!1)}},ke=(x,V)=>{f(x),g(V),setTimeout(()=>f(""),5e3)},Ce=x=>[...x].sort((V,ae)=>{let D,Z;switch(le){case"baseChance":D=V.baseChance||0,Z=ae.baseChance||0;break;case"name":D=V.name||"",Z=ae.name||"";break;case"rarity":const fe={COMMON:1,UNCOMMON:2,RARE:3,EPIC:4,LEGENDARY:5};D=fe[V.rarity]||0,Z=fe[ae.rarity]||0;break;default:return 0}return W==="asc"?D>Z?1:D<Z?-1:0:D<Z?1:D>Z?-1:0}),Q=x=>{le===x?he(W==="asc"?"desc":"asc"):(se(x),he("asc"))},ie=()=>{re({slug:"",name:"",description:{en:"",ru:""},rarity:"COMMON",image:"",effects:{},limited:!1,limitedCount:0,limitedDuration:0,baseChance:.01,limitedDurationType:"HOUR",limitedDurationValue:0})},B=async()=>{try{te("");const x=X.trim();if(!x){te("Please enter JSON data");return}let V;try{V=JSON.parse(x)}catch(Z){te(`Invalid JSON format: ${Z.message||"Unknown error"}`);return}if(!Array.isArray(V)){te("JSON must be an array of artifact templates");return}if(V.length===0){te("JSON array cannot be empty");return}for(let Z=0;Z<V.length;Z++){const fe=V[Z];if(!fe.slug||!fe.name||!fe.description){te(`Template ${Z+1}: Missing required fields (slug, name, description)`);return}if(typeof fe.description=="object"&&(!fe.description.en||!fe.description.ru)){te(`Template ${Z+1}: Description must contain both "en" and "ru" translations`);return}if(!["COMMON","UNCOMMON","RARE","EPIC","LEGENDARY"].includes(fe.rarity)){te(`Template ${Z+1}: Invalid rarity. Must be COMMON, UNCOMMON, RARE, EPIC, or LEGENDARY`);return}}const ae=V.map(Z=>{const{id:fe,createdAt:Pe,updatedAt:Ee,...nt}=Z;return nt}),D=await vs.create(ae);ke("Artifact templates created successfully","success"),E(!1),H(""),te(""),ve()}catch(x){console.error("Error creating artifact templates:",x),te(x.response?.data?.message||"Failed to create artifact templates")}},w=x=>{const V=x.target.files?.[0];if(!V)return;const ae=new FileReader;ae.onload=D=>{try{const Z=D.target?.result,fe=JSON.parse(Z);if(!Array.isArray(fe)){te("JSON file must contain an array of artifact templates");return}for(let Pe=0;Pe<fe.length;Pe++){const Ee=fe[Pe];if(!Ee.slug||!Ee.name||!Ee.description){te(`Template ${Pe+1}: Missing required fields (slug, name, description)`);return}if(typeof Ee.description=="object"&&(!Ee.description.en||!Ee.description.ru)){te(`Template ${Pe+1}: Description must contain both "en" and "ru" translations`);return}if(!["COMMON","UNCOMMON","RARE","EPIC","LEGENDARY"].includes(Ee.rarity)){te(`Template ${Pe+1}: Invalid rarity. Must be COMMON, UNCOMMON, RARE, EPIC, or LEGENDARY`);return}}H(JSON.stringify(fe,null,2)),te("")}catch(Z){te(`Invalid JSON file: ${Z.message||"Unknown error"}`)}},ae.readAsText(V)},M=async()=>{try{if(!ne.slug||!ne.name||!ne.description){ke("Please fill in all required fields","error");return}if(typeof ne.description=="object"&&(!ne.description.en||!ne.description.ru)){ke("Description must contain both English and Russian translations","error");return}const x=await vs.create([ne]);ke("Artifact template created successfully","success"),b(!1),ie(),ve()}catch(x){console.error("Error creating artifact template:",x),ke(x.response?.data?.message||"Failed to create artifact template","error")}},$=async()=>{try{if(!F?.slug||!ne.name||!ne.description){ke("Please fill in all required fields","error");return}if(typeof ne.description=="object"&&(!ne.description.en||!ne.description.ru)){ke("Description must contain both English and Russian translations","error");return}const x=await vs.update(ne);ke("Artifact template updated successfully","success"),C(!1),A(null),ie(),ve()}catch(x){console.error("Error updating artifact template:",x),ke(x.response?.data?.message||"Failed to update artifact template","error")}},ee=x=>{O(x),k(!0)},xe=async()=>{if(J)try{await vs.delete(J.slug),ke("Artifact template deleted successfully","success"),k(!1),O(null),ve()}catch(x){console.error("Error deleting artifact template:",x),ke(x.response?.data?.message||"Failed to delete artifact template","error")}},ye=x=>{A(x);let V={en:"",ru:""};x.description&&(typeof x.description=="object"?V={en:x.description.en||"",ru:x.description.ru||""}:V={en:x.description,ru:x.description}),re({slug:x.slug,name:x.name,description:V,rarity:x.rarity,image:x.image||"",effects:x.effects||{},limited:x.limited||!1,limitedCount:x.limitedCount||0,limitedDuration:x.limitedDuration||0,limitedDurationType:x.limitedDurationType||"HOUR",limitedDurationValue:x.limitedDurationValue||0}),C(!0)},de=x=>{const V=JSON.stringify(x,null,2),ae=new Blob([V],{type:"application/json"}),D=URL.createObjectURL(ae),Z=document.createElement("a");Z.href=D,Z.download=`${x.slug}.json`,Z.click()},z=()=>{const x=JSON.stringify(l,null,2),V=new Blob([x],{type:"application/json"}),ae=URL.createObjectURL(V),D=document.createElement("a");D.href=ae,D.download="artifact-templates.json",D.click()};return r.jsxs("div",{className:`space-y-6 ${s}`,children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs("button",{onClick:()=>E(!0),title:"Import from JSON",className:"inline-flex items-center px-3 py-2 bg-green-600 hover:bg-green-700 text-white rounded-md transition-colors",children:[r.jsx(cr,{className:"h-4 w-4 mr-2"}),"Import JSON"]}),r.jsxs("button",{onClick:z,title:"Export all templates",className:"inline-flex items-center px-3 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors",children:[r.jsx(_t,{className:"h-4 w-4 mr-2"}),"Export All"]}),r.jsxs("button",{onClick:()=>b(!0),title:"Create new template",className:"inline-flex items-center px-3 py-2 bg-green-600 hover:bg-green-700 text-white rounded-md transition-colors",children:[r.jsx(Qt,{className:"h-4 w-4 mr-2"}),"Create Template"]})]})]}),m&&r.jsx("div",{className:`p-3 rounded-md ${p==="success"?"bg-green-600 text-white":"bg-red-600 text-white"}`,children:m}),r.jsx("div",{className:"bg-gray-800 rounded-lg p-6",children:c?r.jsx("div",{className:"text-gray-400",children:"Loading artifact templates..."}):l.length===0?r.jsx("div",{className:"text-gray-400",children:"No artifact templates found."}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"mb-4 flex items-center space-x-4",children:[r.jsx("span",{className:"text-sm text-gray-300",children:"Sort by:"}),r.jsxs("button",{onClick:()=>Q("baseChance"),className:`px-3 py-1 text-sm rounded-md transition-colors ${le==="baseChance"?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:["Base Chance"," ",le==="baseChance"&&(W==="asc"?"":"")]}),r.jsxs("button",{onClick:()=>Q("name"),className:`px-3 py-1 text-sm rounded-md transition-colors ${le==="name"?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:["Name"," ",le==="name"&&(W==="asc"?"":"")]}),r.jsxs("button",{onClick:()=>Q("rarity"),className:`px-3 py-1 text-sm rounded-md transition-colors ${le==="rarity"?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:["Rarity"," ",le==="rarity"&&(W==="asc"?"":"")]})]}),r.jsx("div",{className:"space-y-4",children:Ce(l).map(x=>r.jsx("div",{className:"bg-gray-750 rounded-lg p-4 border border-gray-700",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("h4",{className:"text-white font-medium",children:x.name}),r.jsx("span",{className:"text-xs bg-gray-600 text-gray-300 px-2 py-1 rounded",children:x.slug}),r.jsx("span",{className:`text-xs px-2 py-1 rounded ${x.rarity==="COMMON"?"bg-gray-600 text-gray-300":x.rarity==="UNCOMMON"?"bg-green-600 text-white":x.rarity==="RARE"?"bg-blue-600 text-white":x.rarity==="EPIC"?"bg-purple-600 text-white":"bg-yellow-600 text-black"}`,children:x.rarity})]}),r.jsxs("div",{className:"mt-2 text-sm text-gray-400",children:[x.description&&typeof x.description=="object"?r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"EN:"})," ",x.description.en||"No English description"]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"RU:"})," ",x.description.ru||"   "]})]}):r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Description:"})," ",x.description||"No description"]}),x.image&&r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Image:"})," ",x.image]}),x.baseChance!==void 0&&r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Base Chance:"})," ",(x.baseChance*100).toFixed(1),"%"]}),x.limited&&r.jsxs("div",{className:"text-yellow-400",children:["Limited:"," ",x.limitedCount," items"]})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("button",{onClick:()=>de(x),title:"Download template",className:"inline-flex items-center px-2 py-1 text-xs bg-blue-600 hover:bg-blue-700 text-white rounded transition-colors",children:[r.jsx(_t,{className:"h-3 w-3 mr-1"}),"Export"]}),r.jsxs("button",{onClick:()=>ye(x),title:"Edit template",className:"inline-flex items-center px-2 py-1 text-xs bg-blue-600 hover:bg-blue-700 text-white rounded transition-colors",children:[r.jsx(Pn,{className:"h-3 w-3 mr-1"}),"Edit"]}),r.jsxs("button",{onClick:()=>ee(x),title:"Delete template",className:"inline-flex items-center px-2 py-1 text-xs bg-red-600 hover:bg-red-700 text-white rounded transition-colors",children:[r.jsx(Yt,{className:"h-3 w-3 mr-1"}),"Delete"]})]})]})},x.slug))})]})}),v&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-xl font-bold text-white",children:"Create Artifact Template"}),r.jsx("button",{onClick:()=>{b(!1),ie()},title:"Close modal",className:"text-gray-400 hover:text-white",children:r.jsx($e,{className:"h-6 w-6"})})]}),r.jsx(rm,{formData:ne,setFormData:re,onSubmit:M,submitText:"Create Template"})]})}),N&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-xl font-bold text-white",children:"Edit Artifact Template"}),r.jsx("button",{onClick:()=>{C(!1),A(null),ie()},title:"Close modal",className:"text-gray-400 hover:text-white",children:r.jsx($e,{className:"h-6 w-6"})})]}),r.jsx(rm,{formData:ne,setFormData:re,onSubmit:$,submitText:"Update Template"})]})}),P&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-xl font-bold text-white",children:"Import Artifact Templates from JSON"}),r.jsx("button",{onClick:()=>{E(!1),H(""),te("")},title:"Close modal",className:"text-gray-400 hover:text-white",children:r.jsx($e,{className:"h-6 w-6"})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Upload JSON File"}),r.jsx("input",{type:"file",accept:".json",onChange:w,className:"block w-full text-sm text-gray-400 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-medium file:bg-blue-600 file:text-white hover:file:bg-blue-700"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Or paste JSON content"}),r.jsx("textarea",{value:X,onChange:x=>H(x.target.value),placeholder:`[
  {
    "slug": "stardust_amplifier",
    "name": "Stardust Amplifier",
    "description": {
      "en": "Increases stardust production by 10%",
      "ru": "     10%"
    },
    "rarity": "COMMON",
    "image": "",
    "effects": {
      "stardustProduction": 0.1
    },
    "limited": false
  },
  {
    "slug": "chaos_crystal",
    "name": "Chaos Crystal",
    "description": {
      "en": "Increases chaos chance by 5%",
      "ru": "    5%"
    },
    "rarity": "UNCOMMON",
    "image": "",
    "effects": {
      "chaosChance": 0.05
    },
    "limited": true,
    "limitedCount": 100
  }
]`,className:"w-full h-64 p-3 bg-gray-700 border border-gray-600 rounded-md text-white text-sm font-mono"})]}),we&&r.jsxs("div",{className:"flex items-center space-x-2 text-red-400",children:[r.jsx(Bt,{className:"h-4 w-4"}),r.jsx("span",{children:we})]}),r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsx("button",{onClick:()=>{E(!1),H(""),te("")},className:"px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-md transition-colors",children:"Cancel"}),r.jsx("button",{onClick:B,className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-md transition-colors",children:"Import Templates"})]})]})]})}),_&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[r.jsx(Bt,{className:"h-6 w-6 text-red-400"}),r.jsx("h3",{className:"text-lg font-semibold text-white",children:"Delete Artifact Template"})]}),r.jsxs("p",{className:"text-gray-300 mb-6",children:['Are you sure you want to delete "',J?.name,'"? This action cannot be undone.']}),r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsx("button",{onClick:()=>{k(!1),O(null)},className:"px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-md transition-colors",children:"Cancel"}),r.jsx("button",{onClick:xe,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-md transition-colors",children:"Delete"})]})]})})]})}function rm({formData:s,setFormData:l,onSubmit:o,submitText:c}){const u=(f,p)=>{l({...s,[f]:p})},m=(f,p)=>{const g=typeof s.description=="object"?s.description:{en:"",ru:""};l({...s,description:{...g,[f]:p}})};return r.jsxs("form",{onSubmit:f=>{f.preventDefault(),o()},className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Slug *"}),r.jsx("input",{type:"text",value:s.slug||"",onChange:f=>u("slug",f.target.value),className:"w-full h-12 p-3 bg-gray-700 border border-gray-600 rounded-md text-white",placeholder:"stardust_amplifier",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Name *"}),r.jsx("input",{type:"text",value:s.name||"",onChange:f=>u("name",f.target.value),className:"w-full h-12 p-3 bg-gray-700 border border-gray-600 rounded-md text-white",placeholder:"Stardust Amplifier",required:!0})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Description (English) *"}),r.jsx("textarea",{value:typeof s.description=="object"&&s.description.en||"",onChange:f=>m("en",f.target.value),className:"w-full h-12 p-3 bg-gray-700 border border-gray-600 rounded-md text-white resize-none",placeholder:"Increases stardust production by 10%",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Description (Russian) *"}),r.jsx("textarea",{value:typeof s.description=="object"&&s.description.ru||"",onChange:f=>m("ru",f.target.value),className:"w-full h-12 p-3 bg-gray-700 border border-gray-600 rounded-md text-white resize-none",placeholder:"     10%",required:!0})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Rarity"}),r.jsxs("select",{value:s.rarity||"COMMON",onChange:f=>u("rarity",f.target.value),className:"w-full h-12 p-3 bg-gray-700 border border-gray-600 rounded-md text-white",children:[r.jsx("option",{value:"COMMON",children:"Common"}),r.jsx("option",{value:"UNCOMMON",children:"Uncommon"}),r.jsx("option",{value:"RARE",children:"Rare"}),r.jsx("option",{value:"EPIC",children:"Epic"}),r.jsx("option",{value:"LEGENDARY",children:"Legendary"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Image"}),r.jsx("input",{type:"text",value:s.image||"",onChange:f=>u("image",f.target.value),className:"w-full h-12 p-3 bg-gray-700 border border-gray-600 rounded-md text-white",placeholder:""})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Base Chance"}),r.jsx("input",{type:"number",step:"0.001",min:"0",max:"1",value:s.baseChance||.01,onChange:f=>u("baseChance",parseFloat(f.target.value)||.01),className:"w-full h-12 p-3 bg-gray-700 border border-gray-600 rounded-md text-white",placeholder:"0.01"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Effects (JSON)"}),r.jsx("textarea",{value:JSON.stringify(s.effects||{},null,2),onChange:f=>{try{const p=JSON.parse(f.target.value);u("effects",p)}catch{}},className:"w-full h-24 p-3 bg-gray-700 border border-gray-600 rounded-md text-white font-mono text-sm resize-none",placeholder:'{"stardustProduction": 0.1, "chaosChance": 0.05}'})]}),r.jsx("div",{className:"flex items-center space-x-4",children:r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",checked:s.limited||!1,onChange:f=>u("limited",f.target.checked),className:"mr-2"}),r.jsx("span",{className:"text-sm text-gray-300",children:"Limited Edition"})]})}),s.limited&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Limited Count"}),r.jsx("input",{type:"number",value:s.limitedCount||0,onChange:f=>u("limitedCount",parseInt(f.target.value)||0),className:"w-full h-12 p-3 bg-gray-700 border border-gray-600 rounded-md text-white",min:"0"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Duration Type"}),r.jsxs("select",{value:s.limitedDurationType||"HOUR",onChange:f=>u("limitedDurationType",f.target.value),className:"w-full h-12 p-3 bg-gray-700 border border-gray-600 rounded-md text-white",children:[r.jsx("option",{value:"HOUR",children:"Hour"}),r.jsx("option",{value:"DAY",children:"Day"}),r.jsx("option",{value:"WEEK",children:"Week"}),r.jsx("option",{value:"MONTH",children:"Month"}),r.jsx("option",{value:"YEAR",children:"Year"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Duration Value"}),r.jsx("input",{type:"number",value:s.limitedDurationValue||0,onChange:f=>u("limitedDurationValue",parseInt(f.target.value)||0),className:"w-full h-12 p-3 bg-gray-700 border border-gray-600 rounded-md text-white",min:"0"})]})]}),r.jsx("div",{className:"flex justify-end space-x-2 pt-4",children:r.jsx("button",{type:"submit",className:"px-6 py-2 bg-green-600 hover:bg-green-700 text-white rounded-md transition-colors",children:c})})]})}function Ey({className:s=""}){const[l,o]=y.useState([]),[c,u]=y.useState(!0),[m,f]=y.useState(""),[p,g]=y.useState("success"),[v,b]=y.useState(!1),[N,C]=y.useState(!1),[P,E]=y.useState(!1),[_,k]=y.useState(null),[J,O]=y.useState(""),[F,A]=y.useState(""),[X,H]=y.useState(null),[we,te]=y.useState(!1),[le,se]=y.useState(null),[W,he]=y.useState({slug:"",name:"",description:{en:"",ru:""},type:"RANDOM",triggerConfig:{},effect:{},frequency:{},conditions:{},active:!0});y.useEffect(()=>{ne()},[]);const ne=async()=>{try{u(!0);const z=await ue.get("/event-templates");console.log("Event templates response:",z.data);const x=z.data?.data||z.data||[];console.log("Processed event templates data:",x),o(x)}catch(z){console.error("Error fetching event templates:",z),re("Failed to fetch event templates","error")}finally{u(!1)}},re=(z,x)=>{f(z),g(x),setTimeout(()=>f(""),5e3)},ve=()=>{he({slug:"",name:"",description:{en:"",ru:""},type:"RANDOM",triggerConfig:{},effect:{},frequency:{},conditions:{},active:!0})},ke=async()=>{try{A("");const z=J.trim();if(!z){A("Please enter JSON data");return}let x;try{x=JSON.parse(z)}catch(ae){A(`Invalid JSON format: ${ae.message||"Unknown error"}`);return}const V=Array.isArray(x)?x:[x];for(const ae of V)if(!ae.slug||!ae.name||!ae.type||!ae.effect){A("Each event template must have slug, name, type, and effect fields");return}for(const ae of V)await ue.post("/event-templates",ae);console.log("Created event templates:",V.length),re(`Successfully created ${V.length} event template(s)`,"success"),E(!1),O(""),ne()}catch(z){console.error("Error creating event templates from JSON:",z),A(z.response?.data?.message||"Failed to create event templates from JSON")}},Ce=z=>{const x=z.target.files?.[0];if(!x)return;const V=new FileReader;V.onload=ae=>{try{const D=ae.target?.result,Z=JSON.parse(D);O(JSON.stringify(Z,null,2)),A("")}catch{A("Invalid JSON file")}},V.readAsText(x)},Q=async()=>{try{if(!W.slug||!W.name||!W.type||!W.effect){re("Please fill in all required fields (slug, name, type, effect)","error");return}const z=await ue.post("/event-templates",[W]);console.log("Created event template:",z.data),re("Event template created successfully","success"),b(!1),ve(),ne()}catch(z){console.error("Error creating event template:",z),re(z.response?.data?.message||"Failed to create event template","error")}},ie=async()=>{try{if(!_?.slug){re("No template selected for editing","error");return}const z=await ue.put(`/event-templates/${_.slug}`,W);console.log("Updated event template:",z.data),re("Event template updated successfully","success"),C(!1),k(null),ve(),ne()}catch(z){console.error("Error updating event template:",z),re(z.response?.data?.message||"Failed to update event template","error")}},B=async z=>{se(z),te(!0)},w=async()=>{if(le)try{await ue.delete(`/event-templates/${le.slug}`),re("Event template deleted successfully","success"),te(!1),se(null),ne()}catch(z){console.error("Error deleting event template:",z),re(z.response?.data?.message||"Failed to delete event template","error")}},M=async z=>{try{await ue.put(`/event-templates/${z}/toggle`),re("Event template status toggled successfully","success"),ne()}catch(x){console.error("Error toggling event template status:",x),re(x.response?.data?.message||"Failed to toggle event template status","error")}},$=z=>{k(z),he({slug:z.slug,name:z.name,description:z.description||{en:"",ru:""},type:z.type,triggerConfig:z.triggerConfig||{},effect:z.effect||{},frequency:z.frequency||{},conditions:z.conditions||{},active:z.active}),C(!0)},ee=z=>{const x=JSON.stringify(z,null,2),V=new Blob([x],{type:"application/json"}),ae=URL.createObjectURL(V),D=document.createElement("a");D.href=ae,D.download=`${z.slug}.json`,D.click(),URL.revokeObjectURL(ae)},xe=()=>{const z=JSON.stringify(l,null,2),x=new Blob([z],{type:"application/json"}),V=URL.createObjectURL(x),ae=document.createElement("a");ae.href=V,ae.download="event-templates.json",ae.click(),URL.revokeObjectURL(V)},ye=z=>{switch(z){case"RANDOM":return r.jsx(Ri,{className:"h-4 w-4"});case"PERIODIC":return r.jsx(xi,{className:"h-4 w-4"});case"ONE_TIME":return r.jsx(gi,{className:"h-4 w-4"});case"CONDITIONAL":return r.jsx(ey,{className:"h-4 w-4"});default:return r.jsx(Bt,{className:"h-4 w-4"})}},de=z=>{switch(z){case"RANDOM":return"bg-yellow-600 text-black";case"PERIODIC":return"bg-blue-600 text-white";case"ONE_TIME":return"bg-purple-600 text-white";case"CONDITIONAL":return"bg-green-600 text-white";case"CHAINED":return"bg-indigo-600 text-white";case"TRIGGERED_BY_ACTION":return"bg-red-600 text-white";case"GLOBAL_TIMED":return"bg-pink-600 text-white";case"LIMITED_REPEATABLE":return"bg-orange-600 text-white";case"SEASONAL":return"bg-teal-600 text-white";case"PASSIVE":return"bg-gray-600 text-white";case"RESOURCE_BASED":return"bg-amber-600 text-black";case"UPGRADE_DEPENDENT":return"bg-cyan-600 text-white";case"TASK_DEPENDENT":return"bg-lime-600 text-black";case"MARKET_DEPENDENT":return"bg-emerald-600 text-white";case"MULTIPLAYER":return"bg-violet-600 text-white";case"PROGRESSIVE":return"bg-rose-600 text-white";case"TIERED":return"bg-slate-600 text-white";default:return"bg-gray-600 text-white"}};return r.jsxs("div",{className:`space-y-6 ${s}`,children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(gi,{className:"h-8 w-8 text-blue-500"}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-white",children:"Event Templates"}),r.jsx("p",{className:"text-gray-400",children:"Manage game events and their triggers"})]})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs("button",{onClick:()=>E(!0),title:"Import from JSON",className:"inline-flex items-center px-3 py-2 bg-green-600 hover:bg-green-700 text-white rounded-md transition-colors",children:[r.jsx(cr,{className:"h-4 w-4 mr-2"}),"Import JSON"]}),r.jsxs("button",{onClick:xe,title:"Export all templates",className:"inline-flex items-center px-3 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors",children:[r.jsx(_t,{className:"h-4 w-4 mr-2"}),"Export All"]}),r.jsxs("button",{onClick:()=>b(!0),title:"Create new template",className:"inline-flex items-center px-3 py-2 bg-green-600 hover:bg-green-700 text-white rounded-md transition-colors",children:[r.jsx(Qt,{className:"h-4 w-4 mr-2"}),"Create Template"]})]})]}),m&&r.jsx("div",{className:`p-3 rounded-md ${p==="success"?"bg-green-600 text-white":"bg-red-600 text-white"}`,children:m}),r.jsx("div",{className:"bg-gray-800 rounded-lg p-6",children:c?r.jsx("div",{className:"text-gray-400",children:"Loading event templates..."}):l.length===0?r.jsx("div",{className:"text-gray-400",children:"No event templates found."}):r.jsx("div",{className:"space-y-4",children:l.map(z=>r.jsx("div",{className:"bg-gray-750 rounded-lg p-4 border border-gray-700",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("h4",{className:"text-white font-medium",children:z.name}),r.jsx("span",{className:"text-xs bg-gray-600 text-gray-300 px-2 py-1 rounded",children:z.slug}),r.jsxs("span",{className:`text-xs px-2 py-1 rounded flex items-center space-x-1 ${de(z.type)}`,children:[ye(z.type),r.jsx("span",{children:z.type})]}),r.jsx("span",{className:`text-xs px-2 py-1 rounded ${z.active?"bg-green-600 text-white":"bg-red-600 text-white"}`,children:z.active?"Active":"Inactive"})]}),r.jsxs("div",{className:"mt-2 text-sm text-gray-400",children:[z.description&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"EN:"})," ",z.description.en||"No English description"]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"RU:"})," ",z.description.ru||"   "]})]}),z.triggerConfig&&Object.keys(z.triggerConfig).length>0&&r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Trigger Config:"})," ",r.jsx("code",{className:"text-xs bg-gray-700 px-1 rounded",children:JSON.stringify(z.triggerConfig)})]}),z.effect&&Object.keys(z.effect).length>0&&r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Effect:"})," ",r.jsx("code",{className:"text-xs bg-gray-700 px-1 rounded",children:JSON.stringify(z.effect)})]})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>M(z.slug),title:`Toggle ${z.active?"deactivate":"activate"}`,className:`inline-flex items-center px-2 py-1 text-xs rounded transition-colors ${z.active?"bg-red-600 hover:bg-red-700 text-white":"bg-green-600 hover:bg-green-700 text-white"}`,children:z.active?"Deactivate":"Activate"}),r.jsxs("button",{onClick:()=>ee(z),title:"Download template",className:"inline-flex items-center px-2 py-1 text-xs bg-blue-600 hover:bg-blue-700 text-white rounded transition-colors",children:[r.jsx(_t,{className:"h-3 w-3 mr-1"}),"Export"]}),r.jsxs("button",{onClick:()=>$(z),title:"Edit template",className:"inline-flex items-center px-2 py-1 text-xs bg-blue-600 hover:bg-blue-700 text-white rounded transition-colors",children:[r.jsx(Pn,{className:"h-3 w-3 mr-1"}),"Edit"]}),r.jsxs("button",{onClick:()=>B(z),title:"Delete template",className:"inline-flex items-center px-2 py-1 text-xs bg-red-600 hover:bg-red-700 text-white rounded transition-colors",children:[r.jsx(Yt,{className:"h-3 w-3 mr-1"}),"Delete"]})]})]})},z.slug))})}),v&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-xl font-bold text-white",children:"Create Event Template"}),r.jsx("button",{onClick:()=>{b(!1),ve()},title:"Close modal",className:"text-gray-400 hover:text-white",children:r.jsx($e,{className:"h-6 w-6"})})]}),r.jsx(nm,{formData:W,setFormData:he,onSubmit:Q,submitText:"Create Template"})]})}),N&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-xl font-bold text-white",children:"Edit Event Template"}),r.jsx("button",{onClick:()=>{C(!1),k(null),ve()},title:"Close modal",className:"text-gray-400 hover:text-white",children:r.jsx($e,{className:"h-6 w-6"})})]}),r.jsx(nm,{formData:W,setFormData:he,onSubmit:ie,submitText:"Update Template"})]})}),P&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-xl font-bold text-white",children:"Import Event Templates from JSON"}),r.jsx("button",{onClick:()=>{E(!1),O(""),A("")},title:"Close modal",className:"text-gray-400 hover:text-white",children:r.jsx($e,{className:"h-6 w-6"})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Upload JSON File"}),r.jsx("input",{type:"file",accept:".json",onChange:Ce,className:"block w-full text-sm text-gray-400 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-medium file:bg-blue-600 file:text-white hover:file:bg-blue-700"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Or paste JSON directly"}),r.jsx("textarea",{value:J,onChange:z=>O(z.target.value),placeholder:"Paste your JSON here...",className:"w-full h-64 p-3 bg-gray-700 border border-gray-600 rounded-md text-white font-mono text-sm"})]}),F&&r.jsx("div",{className:"text-red-400 text-sm",children:F}),r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsx("button",{onClick:()=>{E(!1),O(""),A("")},className:"px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-md transition-colors",children:"Cancel"}),r.jsx("button",{onClick:ke,className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-md transition-colors",children:"Import Templates"})]})]})]})}),we&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-xl font-bold text-white",children:"Delete Event Template"}),r.jsx("button",{onClick:()=>{te(!1),se(null)},title:"Close modal",className:"text-gray-400 hover:text-white",children:r.jsx($e,{className:"h-6 w-6"})})]}),r.jsxs("p",{className:"text-gray-300 mb-6",children:['Are you sure you want to delete the event template "',le?.name,'"? This action cannot be undone.']}),r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsx("button",{onClick:()=>{te(!1),se(null)},className:"px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-md transition-colors",children:"Cancel"}),r.jsx("button",{onClick:w,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-md transition-colors",children:"Delete"})]})]})})]})}function nm({formData:s,setFormData:l,onSubmit:o,submitText:c}){const u=(g,v)=>{l({...s,[g]:v})},m=(g,v)=>{l({...s,description:{...s.description,[g]:v}})},f=(g,v)=>{try{const b=v?JSON.parse(v):{};u(g,b)}catch{u(g,v)}},p=["RANDOM","PERIODIC","ONE_TIME","CONDITIONAL","CHAINED","TRIGGERED_BY_ACTION","GLOBAL_TIMED","LIMITED_REPEATABLE","SEASONAL","PASSIVE","RESOURCE_BASED","UPGRADE_DEPENDENT","TASK_DEPENDENT","MARKET_DEPENDENT","MULTIPLAYER","PROGRESSIVE","TIERED"];return r.jsxs("form",{onSubmit:g=>{g.preventDefault(),o()},className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Slug *"}),r.jsx("input",{type:"text",value:s.slug||"",onChange:g=>u("slug",g.target.value),className:"w-full h-12 p-3 bg-gray-700 border border-gray-600 rounded-md text-white",placeholder:"event-slug",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Name *"}),r.jsx("input",{type:"text",value:s.name||"",onChange:g=>u("name",g.target.value),className:"w-full h-12 p-3 bg-gray-700 border border-gray-600 rounded-md text-white",placeholder:"Event Name",required:!0})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Description"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"English"}),r.jsx("textarea",{value:s.description?.en||"",onChange:g=>m("en",g.target.value),className:"w-full h-20 p-3 bg-gray-700 border border-gray-600 rounded-md text-white text-sm",placeholder:"English description"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Russian"}),r.jsx("textarea",{value:s.description?.ru||"",onChange:g=>m("ru",g.target.value),className:"w-full h-20 p-3 bg-gray-700 border border-gray-600 rounded-md text-white text-sm",placeholder:"  "})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Type *"}),r.jsx("select",{value:s.type||"RANDOM",onChange:g=>u("type",g.target.value),className:"w-full h-12 p-3 bg-gray-700 border border-gray-600 rounded-md text-white",required:!0,children:p.map(g=>r.jsx("option",{value:g,children:g},g))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Status"}),r.jsxs("select",{value:s.active?"true":"false",onChange:g=>u("active",g.target.value==="true"),className:"w-full h-12 p-3 bg-gray-700 border border-gray-600 rounded-md text-white",children:[r.jsx("option",{value:"true",children:"Active"}),r.jsx("option",{value:"false",children:"Inactive"})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Trigger Config (JSON)"}),r.jsx("textarea",{value:JSON.stringify(s.triggerConfig||{},null,2),onChange:g=>f("triggerConfig",g.target.value),className:"w-full h-32 p-3 bg-gray-700 border border-gray-600 rounded-md text-white font-mono text-sm",placeholder:'{"interval": "24h"}'})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Effect (JSON)"}),r.jsx("textarea",{value:JSON.stringify(s.effect||{},null,2),onChange:g=>f("effect",g.target.value),className:"w-full h-32 p-3 bg-gray-700 border border-gray-600 rounded-md text-white font-mono text-sm",placeholder:'{"multipliers": {"cps": 2.0}, "duration": 600}'})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Frequency (JSON)"}),r.jsx("textarea",{value:JSON.stringify(s.frequency||{},null,2),onChange:g=>f("frequency",g.target.value),className:"w-full h-24 p-3 bg-gray-700 border border-gray-600 rounded-md text-white font-mono text-sm",placeholder:'{"maxPerDay": 1}'})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Conditions (JSON)"}),r.jsx("textarea",{value:JSON.stringify(s.conditions||{},null,2),onChange:g=>f("conditions",g.target.value),className:"w-full h-24 p-3 bg-gray-700 border border-gray-600 rounded-md text-white font-mono text-sm",placeholder:'{"minLevel": 10}'})]})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx("button",{type:"submit",className:"px-6 py-2 bg-green-600 hover:bg-green-700 text-white rounded-md transition-colors",children:c})})]})}function Cy(){const[s,l]=y.useState({ECONOMY:{INITIAL_STARDUST:0,INITIAL_DARK_MATTER:0,INITIAL_STARS:0}}),[o,c]=y.useState(!1),[u,m]=y.useState(!1),[f,p]=y.useState({type:"",text:""});y.useEffect(()=>{g()},[]);const g=async()=>{c(!0);try{const C=localStorage.getItem("accessToken");if(console.log(" GameConstantsTab: Access token:",C?C.substring(0,50)+"...":"none"),!C){p({type:"error",text:"No access token found. Please login again."});return}try{const E=JSON.parse(atob(C.split(".")[1]));if(console.log(" GameConstantsTab: Token payload:",E),console.log(" GameConstantsTab: Token expires at:",new Date(E.exp*1e3)),console.log(" GameConstantsTab: Current time:",new Date),E.exp&&E.exp<Math.floor(Date.now()/1e3)){p({type:"error",text:"Token expired. Please refresh the page."});return}}catch(E){console.error(" GameConstantsTab: Token parsing error:",E),p({type:"error",text:"Invalid token format. Please login again."});return}console.log(" GameConstantsTab: Making request to /api/admin/game-constants");const P=await fetch("/api/admin/game-constants",{headers:{Authorization:`Bearer ${C}`,"Content-Type":"application/json"}});if(P.ok){const E=await P.json();E.success?(l(E.data),p({type:"success",text:"Constants loaded successfully"})):p({type:"error",text:"Failed to load constants"})}else p({type:"error",text:"Failed to load constants"})}catch(C){console.error("Error loading constants:",C),p({type:"error",text:"Error loading constants"})}finally{c(!1)}},v=async()=>{m(!0);try{const C=localStorage.getItem("accessToken");if(!C){p({type:"error",text:"No access token found. Please login again."});return}const P=await fetch("/api/admin/game-constants",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${C}`},body:JSON.stringify({constants:s})});if(P.ok){const E=await P.json();E.success?(p({type:"success",text:"Constants updated successfully!"}),await g()):p({type:"error",text:E.message||"Failed to update constants"})}else{const E=await P.json();p({type:"error",text:E.message||"Failed to update constants"})}}catch(C){console.error("Error saving constants:",C),p({type:"error",text:"Error saving constants"})}finally{m(!1)}},b=(C,P,E)=>{l(_=>({..._,[C]:{..._[C],[P]:parseInt(E)||0}}))},N=()=>{p({type:"",text:""})};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-white",children:"Game Constants"}),r.jsx("p",{className:"text-gray-400",children:"Manage initial resources and game economy settings"})]}),r.jsx("div",{className:"flex items-center space-x-2",children:r.jsxs("button",{onClick:g,disabled:o,className:"flex items-center space-x-2 px-3 py-2 bg-gray-700 hover:bg-gray-600 disabled:bg-gray-800 disabled:cursor-not-allowed rounded-lg text-sm text-white transition-colors",children:[r.jsx(Ga,{className:`h-4 w-4 ${o?"animate-spin":""}`}),r.jsx("span",{children:"Refresh"})]})})]}),f.text&&r.jsx("div",{className:`p-4 rounded-lg border ${f.type==="success"?"bg-green-900/20 border-green-700 text-green-400":"bg-red-900/20 border-red-700 text-red-400"}`,children:r.jsxs("div",{className:"flex items-center space-x-2",children:[f.type==="success"?r.jsx(Wm,{className:"h-5 w-5"}):r.jsx(Bt,{className:"h-5 w-5"}),r.jsx("span",{children:f.text}),r.jsx("button",{onClick:N,className:"ml-auto text-gray-400 hover:text-gray-300",children:""})]})}),r.jsxs("div",{className:"bg-gray-750 rounded-lg p-6 border border-gray-700",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"text-md font-medium text-white border-b border-gray-700 pb-2",children:"Initial Resources"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Initial Stardust"}),r.jsx("input",{type:"number",value:s.ECONOMY?.INITIAL_STARDUST||0,onChange:C=>b("ECONOMY","INITIAL_STARDUST",C.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"5000",min:"0"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Starting stardust for new users"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Initial Dark Matter"}),r.jsx("input",{type:"number",value:s.ECONOMY?.INITIAL_DARK_MATTER||0,onChange:C=>b("ECONOMY","INITIAL_DARK_MATTER",C.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"10",min:"0"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Starting dark matter for new users"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Initial Stars"}),r.jsx("input",{type:"number",value:s.ECONOMY?.INITIAL_STARS||0,onChange:C=>b("ECONOMY","INITIAL_STARS",C.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"1000",min:"0"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Starting stars for new users"})]})]})]}),r.jsx("div",{className:"mt-6 pt-4 border-t border-gray-700",children:r.jsxs("button",{onClick:v,disabled:u||o,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-800 disabled:cursor-not-allowed rounded-lg text-white font-medium transition-colors",children:[r.jsx(Km,{className:"h-4 w-4"}),r.jsx("span",{children:u?"Saving...":"Save Changes"})]})})]}),r.jsx("div",{className:"bg-blue-900/20 border border-blue-700 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(Bt,{className:"h-5 w-5 text-blue-400 mt-0.5"}),r.jsxs("div",{className:"text-sm text-blue-300",children:[r.jsx("h4",{className:"font-medium mb-2",children:"Important Notes:"}),r.jsxs("ul",{className:"space-y-1 text-blue-200",children:[r.jsx("li",{children:" Changes only affect new users - existing users are not modified"}),r.jsx("li",{children:" Constants are updated in real-time without server restart"}),r.jsx("li",{children:" All values must be non-negative integers"}),r.jsx("li",{children:" Changes take effect immediately for new registrations"})]})]})]})})]})}function Ty(){const{isAuthenticated:s,loading:l}=Jt(),[o,c]=y.useState("artifacts"),u=[{id:"artifacts",label:"Artifacts",icon:"",description:"Manage artifact templates"},{id:"events",label:"Events",icon:"",description:"Configure game events"},{id:"packages",label:"Packages",icon:"",description:"Manage package templates"},{id:"upgrades",label:"Upgrades",icon:"",description:"Configure upgrades"},{id:"tasks",label:"Tasks",icon:"",description:"Manage task templates"},{id:"galaxies",label:"Galaxies",icon:"",description:"Configure galaxies"},{id:"commissions",label:"Commissions",icon:"",description:"Configure commission rates"},{id:"constants",label:"Constants",icon:"",description:"Manage game constants and initial resources"}];return l?r.jsxs("div",{className:"flex items-center justify-center min-h-screen",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),r.jsx("span",{className:"ml-2 text-white",children:"Loading..."})]}):s?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-white",children:"Game Settings"}),r.jsx("p",{className:"text-gray-400",children:"Configure game templates and settings"})]}),r.jsxs("div",{className:"flex items-center space-x-2 text-gray-400",children:[r.jsx(qm,{className:"h-5 w-5"}),r.jsx("span",{className:"text-sm",children:"Template Management"})]})]}),r.jsxs("div",{className:"bg-gray-800 rounded-lg",children:[r.jsx("div",{className:"border-b border-gray-700",children:r.jsx("nav",{className:"flex space-x-4 px-6 overflow-x-auto scrollbar-hide","aria-label":"Tabs",children:u.map(m=>r.jsx("button",{onClick:()=>c(m.id),className:`py-3 px-2 border-b-2 font-medium text-sm transition-colors whitespace-nowrap ${o===m.id?"border-blue-500 text-blue-400":"border-transparent text-gray-400 hover:text-gray-300 hover:border-gray-300"}`,children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"text-lg",children:m.icon}),r.jsx("span",{children:m.label})]})},m.id))})}),r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"mb-6",children:[r.jsxs("h2",{className:"text-xl font-semibold text-white mb-2",children:[u.find(m=>m.id===o)?.label," ","Templates"]}),r.jsx("p",{className:"text-gray-400",children:u.find(m=>m.id===o)?.description})]}),r.jsxs("div",{className:"min-h-[400px]",children:[o==="artifacts"&&r.jsx(Sy,{}),o==="events"&&r.jsx(Ey,{}),o==="packages"&&r.jsx(wy,{}),o==="upgrades"&&r.jsx(Ny,{}),o==="tasks"&&r.jsx(jy,{}),o==="galaxies"&&r.jsxs("div",{className:"bg-gray-750 rounded-lg p-6 border border-gray-700",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[r.jsx(Qm,{className:"h-6 w-6 text-indigo-400"}),r.jsx("h3",{className:"text-lg font-medium text-white",children:"Galaxy Templates"})]}),r.jsx("p",{className:"text-gray-400 mb-4",children:"Configure galaxy settings and exploration areas."}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"bg-gray-700 rounded-lg p-4 border border-gray-600",children:[r.jsx("h4",{className:"font-medium text-white mb-2",children:"Create Galaxy"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Add new galaxy template"})]}),r.jsxs("div",{className:"bg-gray-700 rounded-lg p-4 border border-gray-600",children:[r.jsx("h4",{className:"font-medium text-white mb-2",children:"List Galaxies"}),r.jsx("p",{className:"text-sm text-gray-400",children:"View all galaxy templates"})]}),r.jsxs("div",{className:"bg-gray-700 rounded-lg p-4 border border-gray-600",children:[r.jsx("h4",{className:"font-medium text-white mb-2",children:"Exploration"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Configure exploration settings"})]})]})]}),o==="commissions"&&r.jsx(ky,{}),o==="constants"&&r.jsx(Cy,{})]})]})]})]}):null}function Ay(){const{user:s,refreshToken:l,logout:o}=Jt(),[c,u]=y.useState(null),[m,f]=y.useState(!1),[p,g]=y.useState(""),v=(P,E=!1)=>{g(P),setTimeout(()=>g(""),5e3)},b=P=>{try{const E=P.split(".");if(E.length!==3)return null;const _=JSON.parse(atob(E[0])),k=JSON.parse(atob(E[1])),J=E[2],O=new Date(k.exp*1e3).toLocaleString(),F=k.exp<Math.floor(Date.now()/1e3);return{header:_,payload:k,signature:J,expiresAt:O,isExpired:F}}catch(E){return console.error("Token parsing error:",E),null}};y.useEffect(()=>{const P=localStorage.getItem("accessToken");if(P){const E=b(P);u(E)}},[]);const N=async()=>{f(!0);try{await l();const P=localStorage.getItem("accessToken");if(P){const E=b(P);u(E)}v("Token refreshed successfully")}catch(P){const E=P.response?.data?.message||P.message||"Token refresh failed";v(E,!0)}finally{f(!1)}},C=()=>{o(),v("Logged out successfully")};return s?r.jsx("div",{className:"min-h-screen bg-gray-900 py-8 px-4",children:r.jsx("div",{className:"max-w-4xl mx-auto",children:r.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-lg p-6",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h1",{className:"text-3xl font-bold text-white",children:"JWT Token Information"}),r.jsxs("div",{className:"space-x-4",children:[r.jsx("button",{onClick:N,disabled:m,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50",children:m?"Refreshing...":"Refresh Token"}),r.jsx("button",{onClick:C,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Logout"})]})]}),p&&r.jsx("div",{className:`p-4 rounded-md mb-6 ${p.includes("error")||p.includes("Error")||p.includes("failed")?"bg-red-900 text-red-200 border border-red-700":"bg-green-900 text-green-200 border border-green-700"}`,children:p}),r.jsxs("div",{className:"bg-gray-700 rounded-lg p-4 mb-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"User Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-400",children:"ID"}),r.jsx("p",{className:"text-white font-mono",children:s.id})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-400",children:"Email"}),r.jsx("p",{className:"text-white",children:s.email})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-400",children:"Role"}),r.jsx("p",{className:"text-white",children:s.role})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-400",children:"Provider"}),r.jsx("p",{className:"text-white",children:s.provider})]})]})]}),c&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-gray-700 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-xl font-semibold text-white",children:"Token Status"}),r.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${c.isExpired?"bg-red-900 text-red-200":"bg-green-900 text-green-200"}`,children:c.isExpired?"Expired":"Valid"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-400",children:"Expires At"}),r.jsx("p",{className:"text-white",children:c.expiresAt})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-400",children:"Algorithm"}),r.jsx("p",{className:"text-white",children:c.header.alg})]})]})]}),r.jsxs("div",{className:"bg-gray-700 rounded-lg p-4",children:[r.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"Token Payload"}),r.jsx("pre",{className:"bg-gray-800 p-4 rounded-md overflow-x-auto text-sm text-green-400",children:JSON.stringify(c.payload,null,2)})]}),r.jsxs("div",{className:"bg-gray-700 rounded-lg p-4",children:[r.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"Token Header"}),r.jsx("pre",{className:"bg-gray-800 p-4 rounded-md overflow-x-auto text-sm text-blue-400",children:JSON.stringify(c.header,null,2)})]}),r.jsxs("div",{className:"bg-gray-700 rounded-lg p-4",children:[r.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"Token Signature"}),r.jsx("pre",{className:"bg-gray-800 p-4 rounded-md overflow-x-auto text-sm text-yellow-400 break-all",children:c.signature})]})]}),!c&&r.jsx("div",{className:"text-center py-8",children:r.jsx("p",{className:"text-gray-400",children:"No token information available"})})]})})}):r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-900",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Not Authenticated"}),r.jsx("p",{className:"text-gray-400",children:"Please log in to view token information"})]})})}const ti=[{name:"Dashboard",href:"/",icon:Gx},{name:"Users",href:"/users",icon:yi},{name:"Game Settings",href:"/game-settings",icon:qm},{name:"Admin Settings",href:"/admin-settings-tabs",icon:Zx},{name:"Token Info",href:"/token-info",icon:Qm}];function Oy(){const{user:s,logout:l}=Jt(),o=tn(),[c,u]=y.useState(!1);return console.log("Navigation items:",ti.map(m=>m.name)),r.jsxs("div",{className:"min-h-screen bg-gray-900",children:[r.jsxs("div",{className:rt("fixed inset-0 z-50 lg:hidden",c?"block":"hidden"),children:[r.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>u(!1)}),r.jsxs("div",{className:"fixed inset-y-0 left-0 flex w-64 flex-col bg-gray-800",children:[r.jsxs("div",{className:"flex h-16 items-center justify-between px-4",children:[r.jsx("h1",{className:"text-lg font-semibold text-white",children:"Nebulahunt Admin"}),r.jsx("button",{onClick:()=>u(!1),className:"text-gray-400 hover:text-white","aria-label":"Close sidebar",children:r.jsx($e,{className:"h-6 w-6"})})]}),r.jsx("nav",{className:"flex-1 space-y-1 px-2 py-4",children:ti.map(m=>{const f=o.pathname===m.href;return r.jsxs(oi,{to:m.href,className:rt("group flex items-center px-2 py-2 text-sm font-medium rounded-md",f?"bg-blue-600 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white"),onClick:()=>u(!1),children:[r.jsx(m.icon,{className:"mr-3 h-5 w-5"}),m.name]},m.name)})})]})]}),r.jsx("div",{className:"hidden lg:fixed lg:inset-y-0 lg:flex lg:w-64 lg:flex-col",children:r.jsxs("div",{className:"flex flex-col flex-grow bg-gray-800 border-r border-gray-700",children:[r.jsx("div",{className:"flex h-16 items-center px-4",children:r.jsx("h1",{className:"text-lg font-semibold text-white",children:"Nebulahunt Admin"})}),r.jsx("nav",{className:"flex-1 space-y-1 px-2 py-4",children:ti.map(m=>{const f=o.pathname===m.href;return r.jsxs(oi,{to:m.href,className:rt("group flex items-center px-2 py-2 text-sm font-medium rounded-md",f?"bg-blue-600 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white"),children:[r.jsx(m.icon,{className:"mr-3 h-5 w-5"}),m.name]},m.name)})})]})}),r.jsxs("div",{className:"lg:pl-64",children:[r.jsxs("div",{className:"sticky top-0 z-40 flex h-16 shrink-0 items-center gap-x-4 border-b border-gray-700 bg-gray-800 px-4 shadow-sm sm:gap-x-6 sm:px-6 lg:px-8",children:[r.jsx("button",{type:"button",className:"-m-2.5 p-2.5 text-gray-300 lg:hidden",onClick:()=>u(!0),"aria-label":"Open sidebar",children:r.jsx(Kx,{className:"h-6 w-6"})}),r.jsxs("div",{className:"flex flex-1 gap-x-4 self-stretch lg:gap-x-6",children:[r.jsx("div",{className:"flex flex-1"}),r.jsx("div",{className:"flex items-center gap-x-4 lg:gap-x-6",children:r.jsxs("div",{className:"flex items-center gap-x-2",children:[r.jsx("span",{className:"text-sm text-gray-300",children:s?.username}),r.jsxs("button",{onClick:l,className:"flex items-center gap-x-2 text-sm text-gray-300 hover:text-white",children:[r.jsx(Wx,{className:"h-4 w-4"}),"Logout"]})]})})]})]}),r.jsx("main",{className:"py-6 bg-gray-900",children:r.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:r.jsx(Qh,{})})})]})]})}function Ry({children:s}){const{isAuthenticated:l,user:o}=Jt();if(console.log(" ProtectedRoute: isAuthenticated =",l),console.log(" ProtectedRoute: user =",o),!l)return console.log(" ProtectedRoute: Redirecting to login"),r.jsx(ni,{to:"/login",replace:!0});console.log(" ProtectedRoute: Rendering children");try{return r.jsx(r.Fragment,{children:s})}catch(c){return console.error(" ProtectedRoute: Error rendering children:",c),r.jsx("div",{children:"Error loading page"})}}function Py(){return console.log(" AppRoutes: Component mounted"),r.jsxs(Xh,{children:[r.jsx(ut,{path:"/login",element:r.jsx(Mx,{})}),r.jsx(ut,{path:"/admin/login",element:r.jsx(iy,{})}),r.jsx(ut,{path:"/admin/init",element:r.jsx(cy,{})}),r.jsx(ut,{path:"/admin/invite",element:r.jsx(dy,{})}),r.jsx(ut,{path:"/admin/register",element:r.jsx(uy,{})}),r.jsxs(ut,{element:r.jsx(Ry,{children:r.jsx(Oy,{})}),children:[r.jsx(ut,{path:"/",element:r.jsx(ni,{to:"/dashboard",replace:!0})}),r.jsx(ut,{path:"/dashboard",element:r.jsx(vy,{})}),r.jsx(ut,{path:"/users",element:r.jsx(by,{})}),r.jsx(ut,{path:"/game-settings",element:r.jsx(Ty,{})}),r.jsx(ut,{path:"/settings",element:r.jsx(yy,{})}),r.jsx(ut,{path:"/admin-settings-tabs",element:r.jsx(gy,{})}),r.jsx(ut,{path:"/token-info",element:r.jsx(Ay,{})})]}),r.jsx(ut,{path:"*",element:r.jsx(ni,{to:"/dashboard",replace:!0})})]})}function _y(){return console.log(" App: Component mounted"),console.log(" App: Environment mode:","production"),console.log(" App: Development mode:",!1),r.jsx(Lx,{children:r.jsx(Py,{})})}const Dy={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_URL:"http://localhost:3002/api",VITE_APP_NAME:"Nebulahunt Admin Panel",VITE_APP_URL:"http://localhost:3000",VITE_APP_VERSION:"1.0.0",VITE_DEV_MODE:"true",VITE_ENABLE_2FA:"true",VITE_ENABLE_EMAIL_INVITES:"true",VITE_ENABLE_GOOGLE_AUTH:"true",VITE_ENABLE_MOCK_API:"false",VITE_GOOGLE_CLIENT_ID:"143535369155-1habb6crarv0l2o9hbi6jf35vir42ccf.apps.googleusercontent.com",VITE_SMTP_HOST:"smtp.gmail.com",VITE_SMTP_PASS:"A09160130a!",VITE_SMTP_PORT:"587",VITE_SMTP_USER:"tatyanamixx@gmail.com"};console.log(" App starting...");console.log(" import.meta.env:",Dy);console.log(" All env variables:",{VITE_DEV_MODE:"true",VITE_API_URL:"http://localhost:3002/api",VITE_ENABLE_MOCK_API:"false",VITE_APP_NAME:"Nebulahunt Admin Panel",VITE_ENABLE_2FA:"true",VITE_ENABLE_TELEGRAM_AUTH:void 0,DEV:!1,MODE:"production",BASE_URL:"/"});sh.createRoot(document.getElementById("root")).render(r.jsx(bi.StrictMode,{children:r.jsxs(lg,{children:[r.jsx(_y,{}),r.jsx(e0,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"}}})]})}));
